<!DOCTYPE html>
<!-- saved from url=(0080)http://rcarduino.blogspot.in/2012/04/how-to-read-multiple-rc-channels-draft.html -->
<html class="v2" dir="ltr"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta content="width=1100" name="viewport">

<script async="" src="./read receiver_files/async-ads.js"></script><script async="" src="./read receiver_files/async-ads.js"></script><script src="./read receiver_files/cb=gapi.loaded_4" async=""></script><script src="./read receiver_files/cb=gapi.loaded_3" async=""></script><script src="./read receiver_files/cb=gapi.loaded_2" async=""></script><script src="./read receiver_files/cb=gapi.loaded_1" async=""></script><script src="./read receiver_files/cb=gapi.loaded_0" async=""></script><script type="text/javascript">(function() { (function(){function c(a){this.t={};this.tick=function(a,c,b){var d=void 0!=b?b:(new Date).getTime();this.t[a]=[d,c];if(void 0==b)try{window.console.timeStamp("CSI/"+a)}catch(e){}};this.tick("start",null,a)}var a;window.performance&&(a=window.performance.timing);var h=a?new c(a.responseStart):new c;window.jstiming={Timer:c,load:h};if(a){var b=a.navigationStart,e=a.responseStart;0<b&&e>=b&&(window.jstiming.srt=e-b)}if(a){var d=window.jstiming.load;0<b&&e>=b&&(d.tick("_wtsrt",void 0,b),d.tick("wtsrt_",
"_wtsrt",e),d.tick("tbsd_","wtsrt_"))}try{a=null,window.chrome&&window.chrome.csi&&(a=Math.floor(window.chrome.csi().pageT),d&&0<b&&(d.tick("_tbnd",void 0,window.chrome.csi().startE),d.tick("tbnd_","_tbnd",b))),null==a&&window.gtbExternal&&(a=window.gtbExternal.pageT()),null==a&&window.external&&(a=window.external.pageT,d&&0<b&&(d.tick("_tbnd",void 0,window.external.startE),d.tick("tbnd_","_tbnd",b))),a&&(window.jstiming.pt=a)}catch(k){}})();window.tickAboveFold=function(c){var a=0;if(c.offsetParent){do a+=c.offsetTop;while(c=c.offsetParent)}c=a;750>=c&&window.jstiming.load.tick("aft")};var f=!1;function g(){f||(f=!0,window.jstiming.load.tick("firstScrollTime"))}window.addEventListener?window.addEventListener("scroll",g,!1):window.attachEvent("onscroll",g);
 })();</script>
<meta content="blogger" name="generator">
<link href="http://rcarduino.blogspot.in/favicon.ico" rel="icon" type="image/x-icon">
<link href="http://rcarduino.blogspot.com/2012/04/how-to-read-multiple-rc-channels-draft.html" rel="canonical">
<link rel="alternate" type="application/atom+xml" title="RCArduino - Atom" href="http://rcarduino.blogspot.com/feeds/posts/default">
<link rel="alternate" type="application/rss+xml" title="RCArduino - RSS" href="http://rcarduino.blogspot.com/feeds/posts/default?alt=rss">
<link rel="service.post" type="application/atom+xml" title="RCArduino - Atom" href="https://www.blogger.com/feeds/7214097671310478681/posts/default">

<link rel="alternate" type="application/atom+xml" title="RCArduino - Atom" href="http://rcarduino.blogspot.com/feeds/1988199595784546015/comments/default">
<!--[if IE]><script type="text/javascript" src="https://www.blogger.com/static/v1/jsbin/2193475453-ieretrofit.js"></script>
<![endif]-->
<meta content="http://rcarduino.blogspot.com/2012/04/how-to-read-multiple-rc-channels-draft.html" property="og:url">
<!--[if IE]> <script> (function() { var html5 = ("abbr,article,aside,audio,canvas,datalist,details," + "figure,footer,header,hgroup,mark,menu,meter,nav,output," + "progress,section,time,video").split(','); for (var i = 0; i < html5.length; i++) { document.createElement(html5[i]); } try { document.execCommand('BackgroundImageCache', false, true); } catch(e) {} })(); </script> <![endif]-->
<title>RCArduino: How To Read Multiple RC Channels</title>
<link type="text/css" rel="stylesheet" href="./read receiver_files/2901518656-css_bundle_v2.css">
<link type="text/css" rel="stylesheet" href="./read receiver_files/gsearch.css">
<link type="text/css" rel="stylesheet" href="./read receiver_files/authorization.css">
<style id="page-skin-1" type="text/css"><!--
/*
-----------------------------------------------
Blogger Template Style
Name:     Simple
Designer: Josh Peterson
URL:      www.noaesthetic.com
----------------------------------------------- */
/* Variable definitions
====================
<Variable name="keycolor" description="Main Color" type="color" default="#66bbdd"/>
<Group description="Page Text" selector="body">
<Variable name="body.font" description="Font" type="font"
default="normal normal 12px Arial, Tahoma, Helvetica, FreeSans, sans-serif"/>
<Variable name="body.text.color" description="Text Color" type="color" default="#222222"/>
</Group>
<Group description="Backgrounds" selector=".body-fauxcolumns-outer">
<Variable name="body.background.color" description="Outer Background" type="color" default="#66bbdd"/>
<Variable name="content.background.color" description="Main Background" type="color" default="#ffffff"/>
<Variable name="header.background.color" description="Header Background" type="color" default="transparent"/>
</Group>
<Group description="Links" selector=".main-outer">
<Variable name="link.color" description="Link Color" type="color" default="#2288bb"/>
<Variable name="link.visited.color" description="Visited Color" type="color" default="#888888"/>
<Variable name="link.hover.color" description="Hover Color" type="color" default="#33aaff"/>
</Group>
<Group description="Blog Title" selector=".header h1">
<Variable name="header.font" description="Font" type="font"
default="normal normal 60px Arial, Tahoma, Helvetica, FreeSans, sans-serif"/>
<Variable name="header.text.color" description="Title Color" type="color" default="#3399bb" />
</Group>
<Group description="Blog Description" selector=".header .description">
<Variable name="description.text.color" description="Description Color" type="color"
default="#777777" />
</Group>
<Group description="Tabs Text" selector=".tabs-inner .widget li a">
<Variable name="tabs.font" description="Font" type="font"
default="normal normal 14px Arial, Tahoma, Helvetica, FreeSans, sans-serif"/>
<Variable name="tabs.text.color" description="Text Color" type="color" default="#999999"/>
<Variable name="tabs.selected.text.color" description="Selected Color" type="color" default="#000000"/>
</Group>
<Group description="Tabs Background" selector=".tabs-outer .PageList">
<Variable name="tabs.background.color" description="Background Color" type="color" default="#f5f5f5"/>
<Variable name="tabs.selected.background.color" description="Selected Color" type="color" default="#eeeeee"/>
</Group>
<Group description="Post Title" selector="h3.post-title, .comments h4">
<Variable name="post.title.font" description="Font" type="font"
default="normal normal 22px Arial, Tahoma, Helvetica, FreeSans, sans-serif"/>
</Group>
<Group description="Date Header" selector=".date-header">
<Variable name="date.header.color" description="Text Color" type="color"
default="#000000"/>
<Variable name="date.header.background.color" description="Background Color" type="color"
default="transparent"/>
<Variable name="date.header.font" description="Text Font" type="font"
default="normal bold 11px Arial, Tahoma, Helvetica, FreeSans, sans-serif"/>
<Variable name="date.header.padding" description="Date Header Padding" type="string" default="inherit"/>
<Variable name="date.header.letterspacing" description="Date Header Letter Spacing" type="string" default="inherit"/>
<Variable name="date.header.margin" description="Date Header Margin" type="string" default="inherit"/>
</Group>
<Group description="Post Footer" selector=".post-footer">
<Variable name="post.footer.text.color" description="Text Color" type="color" default="#666666"/>
<Variable name="post.footer.background.color" description="Background Color" type="color"
default="#f9f9f9"/>
<Variable name="post.footer.border.color" description="Shadow Color" type="color" default="#eeeeee"/>
</Group>
<Group description="Gadgets" selector="h2">
<Variable name="widget.title.font" description="Title Font" type="font"
default="normal bold 11px Arial, Tahoma, Helvetica, FreeSans, sans-serif"/>
<Variable name="widget.title.text.color" description="Title Color" type="color" default="#000000"/>
<Variable name="widget.alternate.text.color" description="Alternate Color" type="color" default="#999999"/>
</Group>
<Group description="Images" selector=".main-inner">
<Variable name="image.background.color" description="Background Color" type="color" default="#ffffff"/>
<Variable name="image.border.color" description="Border Color" type="color" default="#eeeeee"/>
<Variable name="image.text.color" description="Caption Text Color" type="color" default="#000000"/>
</Group>
<Group description="Accents" selector=".content-inner">
<Variable name="body.rule.color" description="Separator Line Color" type="color" default="#eeeeee"/>
<Variable name="tabs.border.color" description="Tabs Border Color" type="color" default="#d3d3d3"/>
</Group>
<Variable name="body.background" description="Body Background" type="background"
color="#c1dbe0" default="$(color) none repeat scroll top left"/>
<Variable name="body.background.override" description="Body Background Override" type="string" default=""/>
<Variable name="body.background.gradient.cap" description="Body Gradient Cap" type="url"
default="url(https://resources.blogblog.com/blogblog/data/1kt/simple/gradients_light.png)"/>
<Variable name="body.background.gradient.tile" description="Body Gradient Tile" type="url"
default="url(https://resources.blogblog.com/blogblog/data/1kt/simple/body_gradient_tile_light.png)"/>
<Variable name="content.background.color.selector" description="Content Background Color Selector" type="string" default=".content-inner"/>
<Variable name="content.padding" description="Content Padding" type="length" default="10px" min="0" max="100px"/>
<Variable name="content.padding.horizontal" description="Content Horizontal Padding" type="length" default="0" min="0" max="100px"/>
<Variable name="content.shadow.spread" description="Content Shadow Spread" type="length" default="40px" min="0" max="100px"/>
<Variable name="content.shadow.spread.webkit" description="Content Shadow Spread (WebKit)" type="length" default="5px" min="0" max="100px"/>
<Variable name="content.shadow.spread.ie" description="Content Shadow Spread (IE)" type="length" default="10px" min="0" max="100px"/>
<Variable name="main.border.width" description="Main Border Width" type="length" default="0" min="0" max="10px"/>
<Variable name="header.background.gradient" description="Header Gradient" type="url" default="none"/>
<Variable name="header.shadow.offset.left" description="Header Shadow Offset Left" type="length" default="-1px" min="-50px" max="50px"/>
<Variable name="header.shadow.offset.top" description="Header Shadow Offset Top" type="length" default="-1px" min="-50px" max="50px"/>
<Variable name="header.shadow.spread" description="Header Shadow Spread" type="length" default="1px" min="0" max="100px"/>
<Variable name="header.padding" description="Header Padding" type="length" default="30px" min="0" max="100px"/>
<Variable name="header.border.size" description="Header Border Size" type="length" default="1px" min="0" max="10px"/>
<Variable name="header.bottom.border.size" description="Header Bottom Border Size" type="length" default="0" min="0" max="10px"/>
<Variable name="header.border.horizontalsize" description="Header Horizontal Border Size" type="length" default="0" min="0" max="10px"/>
<Variable name="description.text.size" description="Description Text Size" type="string" default="140%"/>
<Variable name="tabs.margin.top" description="Tabs Margin Top" type="length" default="0" min="0" max="100px"/>
<Variable name="tabs.margin.side" description="Tabs Side Margin" type="length" default="30px" min="0" max="100px"/>
<Variable name="tabs.background.gradient" description="Tabs Background Gradient" type="url"
default="url(https://resources.blogblog.com/blogblog/data/1kt/simple/gradients_light.png)"/>
<Variable name="tabs.border.width" description="Tabs Border Width" type="length" default="1px" min="0" max="10px"/>
<Variable name="tabs.bevel.border.width" description="Tabs Bevel Border Width" type="length" default="1px" min="0" max="10px"/>
<Variable name="post.margin.bottom" description="Post Bottom Margin" type="length" default="25px" min="0" max="100px"/>
<Variable name="image.border.small.size" description="Image Border Small Size" type="length" default="2px" min="0" max="10px"/>
<Variable name="image.border.large.size" description="Image Border Large Size" type="length" default="5px" min="0" max="10px"/>
<Variable name="page.width.selector" description="Page Width Selector" type="string" default=".region-inner"/>
<Variable name="page.width" description="Page Width" type="string" default="auto"/>
<Variable name="main.section.margin" description="Main Section Margin" type="length" default="15px" min="0" max="100px"/>
<Variable name="main.padding" description="Main Padding" type="length" default="15px" min="0" max="100px"/>
<Variable name="main.padding.top" description="Main Padding Top" type="length" default="30px" min="0" max="100px"/>
<Variable name="main.padding.bottom" description="Main Padding Bottom" type="length" default="30px" min="0" max="100px"/>
<Variable name="paging.background"
color="#ffffff"
description="Background of blog paging area" type="background"
default="transparent none no-repeat scroll top center"/>
<Variable name="footer.bevel" description="Bevel border length of footer" type="length" default="0" min="0" max="10px"/>
<Variable name="mobile.background.overlay" description="Mobile Background Overlay" type="string"
default="transparent none repeat scroll top left"/>
<Variable name="mobile.background.size" description="Mobile Background Size" type="string" default="auto"/>
<Variable name="mobile.button.color" description="Mobile Button Color" type="color" default="#ffffff" />
<Variable name="startSide" description="Side where text starts in blog language" type="automatic" default="left"/>
<Variable name="endSide" description="Side where text ends in blog language" type="automatic" default="right"/>
*/
/* Content
----------------------------------------------- */
body {
font: normal normal 12px Arial, Tahoma, Helvetica, FreeSans, sans-serif;
color: #000000;
background: #449FCE url(//themes.googleusercontent.com/image?id=1Yx8_G17Y2iq1fILozyAWpw3LAZeJbkpUPBHtfpEQEFq8iTjs7OGWHGzrzrhHaA_-5r-D) no-repeat fixed top center /* Credit: sbayram (http://www.istockphoto.com/googleimages.php?id=6201476&platform=blogger) */;
padding: 0 0 0 0;
background-attachment: scroll;
}
html body .content-outer {
min-width: 0;
max-width: 100%;
width: 100%;
}
h2 {
font-size: 22px;
}
a:link {
text-decoration:none;
color: #000000;
}
a:visited {
text-decoration:none;
color: #726086;
}
a:hover {
text-decoration:underline;
color: #4840aa;
}
.body-fauxcolumn-outer .fauxcolumn-inner {
background: transparent none repeat scroll top left;
_background-image: none;
}
.body-fauxcolumn-outer .cap-top {
position: absolute;
z-index: 1;
height: 400px;
width: 100%;
}
.body-fauxcolumn-outer .cap-top .cap-left {
width: 100%;
background: transparent none repeat-x scroll top left;
_background-image: none;
}
.content-outer {
-moz-box-shadow: 0 0 0 rgba(0, 0, 0, .15);
-webkit-box-shadow: 0 0 0 rgba(0, 0, 0, .15);
-goog-ms-box-shadow: 0 0 0 #333333;
box-shadow: 0 0 0 rgba(0, 0, 0, .15);
margin-bottom: 1px;
}
.content-inner {
padding: 0 0;
}
.main-outer, .footer-outer {
background-color: #ffffff;
}
/* Header
----------------------------------------------- */
.header-outer {
background: transparent none repeat-x scroll 0 -400px;
_background-image: none;
}
.Header h1 {
font: normal normal 70px Arial, Tahoma, Helvetica, FreeSans, sans-serif;
color: #000000;
text-shadow: 0 0 0 rgba(0, 0, 0, .2);
}
.Header h1 a {
color: #000000;
}
.Header .description {
font-size: 200%;
color: #000000;
}
.header-inner .Header .titlewrapper {
padding: 22px 30px;
}
.header-inner .Header .descriptionwrapper {
padding: 0 30px;
}
/* Tabs
----------------------------------------------- */
.tabs-inner .section:first-child {
border-top: 0 solid #d3d3d3;
}
.tabs-inner .section:first-child ul {
margin-top: -0;
border-top: 0 solid #d3d3d3;
border-left: 0 solid #d3d3d3;
border-right: 0 solid #d3d3d3;
}
.tabs-inner .widget ul {
background: transparent none repeat-x scroll 0 -800px;
_background-image: none;
border-bottom: 0 solid #d3d3d3;
margin-top: 0;
margin-left: -0;
margin-right: -0;
}
.tabs-inner .widget li a {
display: inline-block;
padding: .6em 1em;
font: normal normal 20px Arial, Tahoma, Helvetica, FreeSans, sans-serif;
color: #000000;
border-left: 0 solid #ffffff;
border-right: 0 solid #d3d3d3;
}
.tabs-inner .widget li:first-child a {
border-left: none;
}
.tabs-inner .widget li.selected a, .tabs-inner .widget li a:hover {
color: #000000;
background-color: transparent;
text-decoration: none;
}
/* Columns
----------------------------------------------- */
.main-outer {
border-top: 1px solid #d3d3d3;
}
.fauxcolumn-left-outer .fauxcolumn-inner {
border-right: 1px solid #d3d3d3;
}
.fauxcolumn-right-outer .fauxcolumn-inner {
border-left: 1px solid #d3d3d3;
}
/* Headings
----------------------------------------------- */
div.widget > h2,
div.widget h2.title {
margin: 0 0 1em 0;
font: normal bold 11px Arial, Tahoma, Helvetica, FreeSans, sans-serif;
color: #000000;
}
/* Widgets
----------------------------------------------- */
.widget .zippy {
color: #828282;
text-shadow: 2px 2px 1px rgba(0, 0, 0, .1);
}
.widget .popular-posts ul {
list-style: none;
}
/* Posts
----------------------------------------------- */
h2.date-header {
font: normal bold 11px Arial, Tahoma, Helvetica, FreeSans, sans-serif;
}
.date-header span {
background-color: transparent;
color: #000000;
padding: inherit;
letter-spacing: inherit;
margin: inherit;
}
.main-inner {
padding-top: 30px;
padding-bottom: 30px;
}
.main-inner .column-center-inner {
padding: 0 15px;
}
.main-inner .column-center-inner .section {
margin: 0 15px;
}
.post {
margin: 0 0 25px 0;
}
h3.post-title, .comments h4 {
font: normal normal 22px Arial, Tahoma, Helvetica, FreeSans, sans-serif;
margin: .75em 0 0;
}
.post-body {
font-size: 110%;
line-height: 1.4;
position: relative;
}
.post-body img, .post-body .tr-caption-container, .Profile img, .Image img,
.BlogList .item-thumbnail img {
padding: 2px;
background: #ffffff;
border: 1px solid #e5e5e5;
-moz-box-shadow: 1px 1px 5px rgba(0, 0, 0, .1);
-webkit-box-shadow: 1px 1px 5px rgba(0, 0, 0, .1);
box-shadow: 1px 1px 5px rgba(0, 0, 0, .1);
}
.post-body img, .post-body .tr-caption-container {
padding: 5px;
}
.post-body .tr-caption-container {
color: #000000;
}
.post-body .tr-caption-container img {
padding: 0;
background: transparent;
border: none;
-moz-box-shadow: 0 0 0 rgba(0, 0, 0, .1);
-webkit-box-shadow: 0 0 0 rgba(0, 0, 0, .1);
box-shadow: 0 0 0 rgba(0, 0, 0, .1);
}
.post-header {
margin: 0 0 1.5em;
line-height: 1.6;
font-size: 90%;
}
.post-footer {
margin: 20px -2px 0;
padding: 5px 10px;
color: #000000;
background-color: #f1f1f1;
border-bottom: 1px solid #e5e5e5;
line-height: 1.6;
font-size: 90%;
}
#comments .comment-author {
padding-top: 1.5em;
border-top: 1px solid #d3d3d3;
background-position: 0 1.5em;
}
#comments .comment-author:first-child {
padding-top: 0;
border-top: none;
}
.avatar-image-container {
margin: .2em 0 0;
}
#comments .avatar-image-container img {
border: 1px solid #e5e5e5;
}
/* Comments
----------------------------------------------- */
.comments .comments-content .icon.blog-author {
background-repeat: no-repeat;
background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABIAAAASCAYAAABWzo5XAAAAAXNSR0IArs4c6QAAAAZiS0dEAP8A/wD/oL2nkwAAAAlwSFlzAAALEgAACxIB0t1+/AAAAAd0SU1FB9sLFwMeCjjhcOMAAAD+SURBVDjLtZSvTgNBEIe/WRRnm3U8RC1neQdsm1zSBIU9VVF1FkUguQQsD9ITmD7ECZIJSE4OZo9stoVjC/zc7ky+zH9hXwVwDpTAWWLrgS3QAe8AZgaAJI5zYAmc8r0G4AHYHQKVwII8PZrZFsBFkeRCABYiMh9BRUhnSkPTNCtVXYXURi1FpBDgArj8QU1eVXUzfnjv7yP7kwu1mYrkWlU33vs1QNu2qU8pwN0UpKoqokjWwCztrMuBhEhmh8bD5UDqur75asbcX0BGUB9/HAMB+r32hznJgXy2v0sGLBcyAJ1EK3LFcbo1s91JeLwAbwGYu7TP/3ZGfnXYPgAVNngtqatUNgAAAABJRU5ErkJggg==);
}
.comments .comments-content .loadmore a {
border-top: 1px solid #828282;
border-bottom: 1px solid #828282;
}
.comments .comment-thread.inline-thread {
background-color: #f1f1f1;
}
.comments .continue {
border-top: 2px solid #828282;
}
/* Accents
---------------------------------------------- */
.section-columns td.columns-cell {
border-left: 1px solid #d3d3d3;
}
.blog-pager {
background: transparent none no-repeat scroll top center;
}
.blog-pager-older-link, .home-link,
.blog-pager-newer-link {
background-color: #ffffff;
padding: 5px;
}
.footer-outer {
border-top: 0 dashed #bbbbbb;
}
/* Mobile
----------------------------------------------- */
body.mobile  {
background-size: auto;
}
.mobile .body-fauxcolumn-outer {
background: transparent none repeat scroll top left;
}
.mobile .body-fauxcolumn-outer .cap-top {
background-size: 100% auto;
}
.mobile .content-outer {
-webkit-box-shadow: 0 0 3px rgba(0, 0, 0, .15);
box-shadow: 0 0 3px rgba(0, 0, 0, .15);
}
.mobile .tabs-inner .widget ul {
margin-left: 0;
margin-right: 0;
}
.mobile .post {
margin: 0;
}
.mobile .main-inner .column-center-inner .section {
margin: 0;
}
.mobile .date-header span {
padding: 0.1em 10px;
margin: 0 -10px;
}
.mobile h3.post-title {
margin: 0;
}
.mobile .blog-pager {
background: transparent none no-repeat scroll top center;
}
.mobile .footer-outer {
border-top: none;
}
.mobile .main-inner, .mobile .footer-inner {
background-color: #ffffff;
}
.mobile-index-contents {
color: #000000;
}
.mobile-link-button {
background-color: #000000;
}
.mobile-link-button a:link, .mobile-link-button a:visited {
color: #ffffff;
}
.mobile .tabs-inner .section:first-child {
border-top: none;
}
.mobile .tabs-inner .PageList .widget-content {
background-color: transparent;
color: #000000;
border-top: 0 solid #d3d3d3;
border-bottom: 0 solid #d3d3d3;
}
.mobile .tabs-inner .PageList .widget-content .pagelist-arrow {
border-left: 1px solid #d3d3d3;
}

--></style>
<style id="template-skin-1" type="text/css"><!--
body {
min-width: 1020px;
}
.content-outer, .content-fauxcolumn-outer, .region-inner {
min-width: 1020px;
max-width: 1020px;
_width: 1020px;
}
.main-inner .columns {
padding-left: 0px;
padding-right: 240px;
}
.main-inner .fauxcolumn-center-outer {
left: 0px;
right: 240px;
/* IE6 does not respect left and right together */
_width: expression(this.parentNode.offsetWidth -
parseInt("0px") -
parseInt("240px") + 'px');
}
.main-inner .fauxcolumn-left-outer {
width: 0px;
}
.main-inner .fauxcolumn-right-outer {
width: 240px;
}
.main-inner .column-left-outer {
width: 0px;
right: 100%;
margin-left: -0px;
}
.main-inner .column-right-outer {
width: 240px;
margin-right: -240px;
}
#layout {
min-width: 0;
}
#layout .content-outer {
min-width: 0;
width: 800px;
}
#layout .region-inner {
min-width: 0;
width: auto;
}
body#layout div.add_widget {
padding: 8px;
}
body#layout div.add_widget a {
margin-left: 32px;
}
--></style>
<script type="text/javascript">function a(){var b=window.location.href,c=b.split("?");switch(c.length){case 1:return b+"?m=1";case 2:return 0<=c[1].search("(^|&)m=")?null:b+"&m=1";default:return null}}var d=navigator.userAgent;if(-1!=d.indexOf("Mobile")&&-1!=d.indexOf("WebKit")&&-1==d.indexOf("iPad")||-1!=d.indexOf("Opera Mini")||-1!=d.indexOf("IEMobile")){var e=a();e&&window.location.replace(e)};
</script><script type="text/javascript">
if (window.jstiming) window.jstiming.load.tick('headEnd');
</script><script type="text/javascript" src="./read receiver_files/google_top_exp.js"></script><style>.gc-bubbleDefault{background-color:transparent !important;text-align:left;padding:0 !important;margin:0 !important;border:0 !important;table-layout:auto !important}.gc-reset{background-color:transparent !important;border:0 !important;padding:0 !important;margin:0 !important;text-align:left}.pls-bubbleTop{border-bottom:1px solid #ccc !important}.pls-topTail,.pls-vertShimLeft,.pls-contentLeft{background-image:url(//ssl.gstatic.com/s2/oz/images/stars/po/bubblev1/border_3.gif) !important}.pls-topTail{background-repeat:repeat-x !important;background-position:bottom !important}.pls-vertShim{background-color:#fff !important;text-align:right}.tbl-grey .pls-vertShim{background-color:#f5f5f5 !important}.pls-vertShimLeft{background-repeat:repeat-y !important;background-position:right !important;height:4px}.pls-vertShimRight{height:4px}.pls-confirm-container .pls-vertShim{background-color:#fff3c2 !important}.pls-contentWrap{background-color:#fff !important;position:relative !important;vertical-align:top}.pls-contentLeft{background-repeat:repeat-y;background-position:right;vertical-align:top}.pls-dropRight{background-image:url(//ssl.gstatic.com/s2/oz/images/stars/po/bubblev1/bubbleDropR_3.png) !important;background-repeat:repeat-y !important;vertical-align:top}.pls-vert,.pls-tailleft,.pls-dropTR .pls-dropBR,.pls-dropBL,.pls-vert img{vertical-align:top}.pls-dropBottom{background-image:url(//ssl.gstatic.com/s2/oz/images/stars/po/bubblev1/bubbleDropB_3.png) !important;background-repeat:repeat-x !important;width:100%;vertical-align:top}.pls-topLeft{background:inherit !important;text-align:right;vertical-align:bottom}.pls-topRight{background:inherit !important;text-align:left;vertical-align:bottom}.pls-bottomLeft{background:inherit !important;text-align:right}.pls-bottomRight{background:inherit !important;text-align:left;vertical-align:top}.pls-tailtop,.pls-tailright,.pls-tailbottom,.pls-tailleft{display:none;position:relative}.pls-tailbottom,.pls-tailtop,.pls-tailright,.pls-tailleft,.pls-dropTR,.pls-dropBR,.pls-dropBL{background-image:url(//ssl.gstatic.com/s2/oz/images/stars/po/bubblev1/bubbleSprite_3.png) !important;background-repeat:no-repeat}.tbl-grey .pls-tailbottom,.tbl-grey .pls-tailtop,.tbl-grey .pls-tailright,.tbl-grey .pls-tailleft,.tbl-grey .pls-dropTR,.tbl-grey .pls-dropBR,.tbl-grey .pls-dropBL{background-image:url(//ssl.gstatic.com/s2/oz/images/stars/po/bubblev1/bubbleSprite-grey.png) !important}.pls-tailbottom{background-position:-23px 0}.pls-confirm-container .pls-tailbottom{background-position:-23px -10px}.pls-tailtop{background-position:-19px -20px}.pls-tailright{background-position:0 0}.pls-tailleft{background-position:-10px 0}.pls-tailtop{vertical-align:top}.gc-bubbleDefault td{line-height:0;font-size:0}.pls-topLeft img,.pls-topRight img,.pls-tailbottom{vertical-align:bottom}.pls-bottomLeft img,.bubbleDropTR,.pls-dropBottomL img,.pls-dropBottom img,.pls-dropBottomR img,.pls-bottomLeft{vertical-align:top}.pls-dropTR{background-position:0 -22px}.pls-dropBR{background-position:0 -27px}.pls-dropBL{background-position:0 -16px}.pls-spacertop,.pls-spacerright,.pls-spacerbottom,.pls-spacerleft{position:static !important}.pls-spinner{bottom:0;position:absolute;left:0;margin:auto;right:0;top:0} </style><script type="text/javascript" src="./read receiver_files/saved_resource"></script><link type="text/css" href="./read receiver_files/default+en.css" rel="stylesheet"><script type="text/javascript" src="./read receiver_files/default+en.I.js"></script></head>
<body class=" variant-wide">
<div class="navbar section" id="navbar" name="Navbar"><div class="widget Navbar" data-version="1" id="Navbar1"><script type="text/javascript">
    function setAttributeOnload(object, attribute, val) {
      if(window.addEventListener) {
        window.addEventListener('load',
          function(){ object[attribute] = val; }, false);
      } else {
        window.attachEvent('onload', function(){ object[attribute] = val; });
      }
    }
  </script>
<div id="navbar-iframe-container"><iframe frameborder="0" hspace="0" marginheight="0" marginwidth="0" scrolling="no" style="" tabindex="0" vspace="0" width="100%" id="navbar-iframe" name="navbar-iframe" src="./read receiver_files/navbar.html"></iframe></div>
<script type="text/javascript" src="./read receiver_files/plusone.js" gapi_processed="true"></script>
<script type="text/javascript">
      gapi.load("gapi.iframes:gapi.iframes.style.bubble", function() {
        if (gapi.iframes && gapi.iframes.getContext) {
          gapi.iframes.getContext().openChild({
              url: 'https://www.blogger.com/navbar.g?targetBlogID\x3d7214097671310478681\x26blogName\x3dRCArduino\x26publishMode\x3dPUBLISH_MODE_BLOGSPOT\x26navbarType\x3dLIGHT\x26layoutType\x3dLAYOUTS\x26searchRoot\x3dhttp://rcarduino.blogspot.com/search\x26blogLocale\x3den\x26v\x3d2\x26homepageUrl\x3dhttp://rcarduino.blogspot.com/\x26targetPostID\x3d1988199595784546015\x26blogPostOrPageUrl\x3dhttp://rcarduino.blogspot.com/2012/04/how-to-read-multiple-rc-channels-draft.html\x26vt\x3d800403086383732687',
              where: document.getElementById("navbar-iframe-container"),
              id: "navbar-iframe"
          });
        }
      });
    </script><script type="text/javascript">
(function() {
var script = document.createElement('script');
script.type = 'text/javascript';
script.src = '//pagead2.googlesyndication.com/pagead/js/google_top_exp.js';
var head = document.getElementsByTagName('head')[0];
if (head) {
head.appendChild(script);
}})();
</script>
</div></div>
<div class="body-fauxcolumns">
<div class="fauxcolumn-outer body-fauxcolumn-outer">
<div class="cap-top">
<div class="cap-left"></div>
<div class="cap-right"></div>
</div>
<div class="fauxborder-left">
<div class="fauxborder-right"></div>
<div class="fauxcolumn-inner">
</div>
</div>
<div class="cap-bottom">
<div class="cap-left"></div>
<div class="cap-right"></div>
</div>
</div>
</div>
<div class="content">
<div class="content-fauxcolumns">
<div class="fauxcolumn-outer content-fauxcolumn-outer">
<div class="cap-top">
<div class="cap-left"></div>
<div class="cap-right"></div>
</div>
<div class="fauxborder-left">
<div class="fauxborder-right"></div>
<div class="fauxcolumn-inner">
</div>
</div>
<div class="cap-bottom">
<div class="cap-left"></div>
<div class="cap-right"></div>
</div>
</div>
</div>
<div class="content-outer">
<div class="content-cap-top cap-top">
<div class="cap-left"></div>
<div class="cap-right"></div>
</div>
<div class="fauxborder-left content-fauxborder-left">
<div class="fauxborder-right content-fauxborder-right"></div>
<div class="content-inner">
<header>
<div class="header-outer">
<div class="header-cap-top cap-top">
<div class="cap-left"></div>
<div class="cap-right"></div>
</div>
<div class="fauxborder-left header-fauxborder-left">
<div class="fauxborder-right header-fauxborder-right"></div>
<div class="region-inner header-inner">
<div class="header section" id="header" name="Header"><div class="widget Header" data-version="1" id="Header1">
<div id="header-inner">
<div class="titlewrapper">
<h1 class="title">
<a href="http://rcarduino.blogspot.in/">RCArduino</a>
</h1>
</div>
<div class="descriptionwrapper">
<p class="description"><span>Arduino Projects, Libraries and Tutorials</span></p>
</div>
</div>
</div></div>
</div>
</div>
<div class="header-cap-bottom cap-bottom">
<div class="cap-left"></div>
<div class="cap-right"></div>
</div>
</div>
</header>
<div class="tabs-outer">
<div class="tabs-cap-top cap-top">
<div class="cap-left"></div>
<div class="cap-right"></div>
</div>
<div class="fauxborder-left tabs-fauxborder-left">
<div class="fauxborder-right tabs-fauxborder-right"></div>
<div class="region-inner tabs-inner">
<div class="tabs section" id="crosscol" name="Cross-Column"><div class="widget PageList" data-version="1" id="PageList1">
<h2>Pages</h2>
<div class="widget-content">
<ul>
<li><a href="http://rcarduino.blogspot.in/">Home</a></li>
<li><a href="http://rcarduino.blogspot.in/p/what-is-arduino.html">What is an Arduino ?</a></li>
<li><a href="http://rcarduino.blogspot.in/p/project-index.html">Project Index</a></li>
<li><a href="http://rcarduino.blogspot.in/p/cars.html">Cars</a></li>
<li><a href="http://rcarduino.blogspot.in/p/great-projects.html">Great Projects</a></li>
</ul>
<div class="clear"></div>
<span class="widget-item-control">
<span class="item-control blog-admin">
<a class="quickedit" href="http://www.blogger.com/rearrange?blogID=7214097671310478681&amp;widgetType=PageList&amp;widgetId=PageList1&amp;action=editWidget&amp;sectionId=crosscol" onclick="return _WidgetManager._PopupConfig(document.getElementById(&quot;PageList1&quot;));" target="configPageList1" title="Edit">
<img alt="" height="18" src="./read receiver_files/icon18_wrench_allbkg.png" width="18">
</a>
</span>
</span>
<div class="clear"></div>
</div>
</div></div>
<div class="tabs no-items section" id="crosscol-overflow" name="Cross-Column 2"></div>
</div>
</div>
<div class="tabs-cap-bottom cap-bottom">
<div class="cap-left"></div>
<div class="cap-right"></div>
</div>
</div>
<div class="main-outer">
<div class="main-cap-top cap-top">
<div class="cap-left"></div>
<div class="cap-right"></div>
</div>
<div class="fauxborder-left main-fauxborder-left">
<div class="fauxborder-right main-fauxborder-right"></div>
<div class="region-inner main-inner">
<div class="columns fauxcolumns">
<div class="fauxcolumn-outer fauxcolumn-center-outer">
<div class="cap-top">
<div class="cap-left"></div>
<div class="cap-right"></div>
</div>
<div class="fauxborder-left">
<div class="fauxborder-right"></div>
<div class="fauxcolumn-inner">
</div>
</div>
<div class="cap-bottom">
<div class="cap-left"></div>
<div class="cap-right"></div>
</div>
</div>
<div class="fauxcolumn-outer fauxcolumn-left-outer">
<div class="cap-top">
<div class="cap-left"></div>
<div class="cap-right"></div>
</div>
<div class="fauxborder-left">
<div class="fauxborder-right"></div>
<div class="fauxcolumn-inner">
</div>
</div>
<div class="cap-bottom">
<div class="cap-left"></div>
<div class="cap-right"></div>
</div>
</div>
<div class="fauxcolumn-outer fauxcolumn-right-outer">
<div class="cap-top">
<div class="cap-left"></div>
<div class="cap-right"></div>
</div>
<div class="fauxborder-left">
<div class="fauxborder-right"></div>
<div class="fauxcolumn-inner">
</div>
</div>
<div class="cap-bottom">
<div class="cap-left"></div>
<div class="cap-right"></div>
</div>
</div>
<!-- corrects IE6 width calculation -->
<div class="columns-inner">
<div class="column-center-outer">
<div class="column-center-inner">
<div class="main section" id="main" name="Main"><div id="uds-searchControl"><a name="uds-search-results"></a><div id="uds-searchResults"><div class="gsc-control" dir="ltr"><div class="gsc-results-wrapper-nooverlay"><div class="gsc-tabsAreaInvisible"><div class="gsc-tabHeader gsc-inline-block gsc-tabhActive">This Blog</div><span class="gs-spacer"> </span><div tabindex="0" class=" gsc-tabHeader gsc-tabhInactive gsc-inline-block">Linked From Here</div><span class="gs-spacer"> </span></div><div class="gsc-above-wrapper-area-invisible"><table cellspacing="0" cellpadding="0" class="gsc-above-wrapper-area-container"><tbody><tr><td class="gsc-result-info-container"><div class="gsc-result-info-invisible"></div></td></tr></tbody></table></div><div class="gsc-resultsbox-invisible"><div class="gsc-resultsRoot gsc-tabData gsc-tabdActive"><table cellspacing="0" cellpadding="0" class="gsc-resultsHeader"><tbody><tr><td class="gsc-twiddleRegionCell"><div class="gsc-twiddle"><div class="gsc-title">This Blog</div></div><div class="gsc-stats"></div><div class="gsc-results-selector gsc-more-results-active"><div class="gsc-result-selector gsc-one-result" title="show one result">&nbsp;</div><div class="gsc-result-selector gsc-more-results" title="show more results">&nbsp;</div><div class="gsc-result-selector gsc-all-results" title="show all results">&nbsp;</div></div></td><td class="gsc-configLabelCell"></td></tr></tbody></table><div><div class="gsc-expansionArea"></div></div></div><div class="gsc-resultsRoot gsc-tabData gsc-tabdInactive"><table cellspacing="0" cellpadding="0" class="gsc-resultsHeader"><tbody><tr><td class="gsc-twiddleRegionCell"><div class="gsc-twiddle"><div class="gsc-title">Linked From Here</div></div><div class="gsc-stats"></div><div class="gsc-results-selector gsc-more-results-active"><div class="gsc-result-selector gsc-one-result" title="show one result">&nbsp;</div><div class="gsc-result-selector gsc-more-results" title="show more results">&nbsp;</div><div class="gsc-result-selector gsc-all-results" title="show all results">&nbsp;</div></div></td><td class="gsc-configLabelCell"></td></tr></tbody></table><div><div class="gsc-expansionArea"></div></div></div></div></div></div></div><div id="uds-searchClearResults" class="gsc-clear-button" style="display: none;">&nbsp;</div></div><div class="widget Blog" data-version="1" id="Blog1">
<div class="blog-posts hfeed">

          <div class="date-outer">
        
<h2 class="date-header"><span>Saturday, April 14, 2012</span></h2>

          <div class="date-posts">
        
<div class="post-outer">
<div class="post hentry uncustomized-post-template" itemprop="blogPost" itemscope="itemscope" itemtype="http://schema.org/BlogPosting">
<meta content="7214097671310478681" itemprop="blogId">
<meta content="1988199595784546015" itemprop="postId">
<a name="1988199595784546015"></a>
<h3 class="post-title entry-title" itemprop="name">
How To Read Multiple RC Channels
</h3>
<div class="post-header">
<div class="post-header-line-1"></div>
</div>
<div class="post-body entry-content" id="post-body-1988199595784546015" itemprop="description articleBody">
<div dir="ltr" style="text-align: left;" trbidi="on">
This post builds on previous posts to show a technique for reading multiple radio control receiver channels using an Arduino.<br>
<br>
<b>Update 27/03/2013 -&nbsp; </b>The Arduino Leonardo and Micro use the ATMega 32u4 chip which supports interrupts on fewer pins than the ATMega 328 used in Arduino UNOs and Minis. The pins used by the sketch have been rearranged so that the code can now be run the Leonardo and Micro as well.<br>
<br>
If you have previously used the code, please ensure that you update your connecteds by swapping the input and output pins.<br>
<br>
<br>
<div style="background-color: #eeeeee;">
<b>The following posts provide the necessary background to this post -</b></div>
<div style="background-color: #eeeeee;">
<br></div>
<div style="background-color: #eeeeee;">
In the first post in this series we looked at the nature of an RC 
Receiver signal and provided a non blocking interrupt based approach for reading 
this signal with Arduino -</div>
<div style="background-color: #eeeeee;">
<a href="http://rcarduino.blogspot.co.uk/2012/01/how-to-read-rc-receiver-with.html" target="_blank">http://rcarduino.blogspot.co.uk/2012/01/how-to-read-rc-receiver-with.html</a></div>
<div style="background-color: #eeeeee;">
<br></div>
<div style="background-color: #eeeeee;">
In the next post we looked at the Arduino servo library and how this 
allows us to generate the same signals that a radio control receiver generates. We can use&nbsp;this library to drive upto 12 servos or electronic speed controllers - </div>
<div style="background-color: #eeeeee;">
<a href="http://rcarduino.blogspot.co.uk/2012/01/can-i-control-more-than-x-servos-with.html" target="_blank">http://rcarduino.blogspot.co.uk/2012/01/can-i-control-more-than-x-servos-with.html</a></div>
<div style="background-color: #eeeeee;">
</div>
<div style="background-color: #eeeeee;">
In the final post, we looked at the pinchangeint library which provides a convenient mechanism to access over twenty interrupts with a standard Arduino UNO. This overcomes the limitation of having only two external interrupts and allows us to use a standard Arduino to read more than twenty RC Channels -</div>
<div style="background-color: #eeeeee;">
<a href="http://rcarduino.blogspot.co.uk/2012/03/need-more-interrupts-to-read-more.html" target="_blank">http://rcarduino.blogspot.co.uk/2012/03/need-more-interrupts-to-read-more.html</a></div>
<div style="background-color: #eeeeee;">
<br></div>
<br>
<b>Reading RC Channel Signals</b><br>
<br>
Reading a single RC channel is relatively simple and can be outlined as -<br>
<br>
1) Attach a pin change interrupt to the signal pin.<br>
2) Create an interrupt service routine which will be called whenever the signal pin changes from high to low or low to high.<br>
<br>
In the interrupt service routine we need to -<br>
<br>
1) Check if the signal pin is high or low<br>
2) If its high, this is the rising edge of the pulse, record the time using micros()<br>
3) If its low, this is the falling edge. We are interested in the pulse duration, so if we call micros() to get the current time and then subtract from it the time we recorded in 2) for the rising edge we get the pulse duration.<br>
<br>
The pulse duration calculated in 3) Above represents the input signal for the channel, refer to this post for a refresher - <a href="http://rcarduino.blogspot.co.uk/2012/01/how-to-read-rc-receiver-with.html" target="_blank">http://rcarduino.blogspot.co.uk/2012/01/how-to-read-rc-receiver-with.html</a><br>
<br>
To attach the interrupt using the pin change interrupt library we call -<br>
<br>
<span style="background-color: #eeeeee; font-size: x-small;"><span style="font-family: &quot;Courier New&quot;,Courier,monospace;">PCintPort::attachInterrupt(THROTTLE_IN_PIN, calcThrottle,CHANGE); </span></span><br>
<br>
The interrupt service routine can be written as follows -<br>
<br>
<div style="background-color: #eeeeee; font-family: &quot;Courier New&quot;,Courier,monospace;">
<span style="font-size: x-small;">void calcThrottle()<br>{<br>&nbsp; // if the pin is high, its a rising edge of the signal pulse,</span></div>
<div style="background-color: #eeeeee; font-family: &quot;Courier New&quot;,Courier,monospace;">
<span style="font-size: x-small;">&nbsp; // so lets record its value<br>&nbsp; if(digitalRead(THROTTLE_IN_PIN) == HIGH)<br>&nbsp; { <br>&nbsp;&nbsp;&nbsp; ulThrottleStart = micros();<br>&nbsp; }<br>&nbsp; else<br>&nbsp; {<br>&nbsp;&nbsp;&nbsp; // else it must be a falling edge, so lets get the time and subtract the time</span></div>
<div style="background-color: #eeeeee; font-family: &quot;Courier New&quot;,Courier,monospace;">
<span style="font-size: x-small;">&nbsp; &nbsp; // of the rising edge this gives use the time between the rising and falling&nbsp;</span></div>
<div style="background-color: #eeeeee; font-family: &quot;Courier New&quot;,Courier,monospace;">
<span style="font-size: x-small;">&nbsp;&nbsp;&nbsp; // edges i.e. the pulse duration.<br>&nbsp;&nbsp;&nbsp; unThrottleInShared = (uint16_t)(micros() - ulThrottleStart);</span><span style="font-size: x-small;"><br>&nbsp; }<br>}</span></div>
<br>
<b>So all we need to do is cut and paste the attachInterrupt and interrupt service routine code three times to read three channels ?</b><br>
<br>
No. Its not that simple, but its really not very complicated either.<br>
<br>
There are four considerations which apply&nbsp;when using interrupts -<br>
<br>
1) Volatile Shared Variables<br>
2) Variable Access<br>
3) Fast Interrupt Service Routines<br>
4) Timing<br>
<br>
<b>1) Volatile Shared Variables</b><br>
<br>
When you upload a program with the Arduino IDE, your code will be compiled into an executable program that can be run on your Arduino. As part of this process the compiler will optimise the executable code to be smaller and/or faster. If we are not careful, this optimization can have unexpected results when using interrupts.<br>
<br>
<span style="background-color: #eeeeee;"><b>Example optimisations -</b></span><br>
<br>
<span style="background-color: #eeeeee;">1) Replacing variables with constants</span><br>
<span style="background-color: #eeeeee;">One of the optimisations a compiler will attempt is to look through your functions for any variables that are not being updated,&nbsp;the compiler&nbsp;can replace these with constant values.</span><br>
<br>
<span style="background-color: #eeeeee;">2) Using registers to hold variables within functions</span><br>
<span style="background-color: #eeeeee;">Another optimisation is to assign a variable to a register within a function rather than reading it from memory repeatedly.</span><br>
<br>
<br>
<br>
The compiler makes optimisation decisions based on blocks of code, not entire projects. A common optimisation problem with interrupts occurs when a variable is updated in an interrupt service routine and read in the main code. Here the compiler may look at the main code and decide 'hey this variable never gets updated so I am going to replace it with a constant value'. In this case whatever the ISR does to the shared variable, your main code will never be effected because as far as the compiler could see, there was nothing that could update the variable within loop and so the executable code that was downloaded to you Arduino was generated to refer to a constant value - see 1) Above.&nbsp; <br>
<br>
A similar situation occurs when a variable is optimised to be held in a register rather than read from memory. One part of your executable code will be reading a value held in memory while another part will be updating a value held in a register. The end effect is that it appears as if your variable is not getting updated despite your ISR being called correctly and your code appearing correct - see 2) above. <br>
<br>
Fortunately there is a keyword we can use in our code which tells the compiler 'never try and store this variable in a register, or replace it with a constant' the keyword is volatile. Any variables we wish to access from both our main code and an interrupt service routine must be declared volatile.<br>
<br>
<div style="background-color: #eeeeee;">
<b>Really ?</b></div>
<div style="background-color: #eeeeee;">
<br></div>
<div style="background-color: #eeeeee;">
Yes, I recently built an Audino, its an easy to build, fun to use synthesizer based on Arduino. The loop function reads five analogue inputs which control the sound. These variables are also used in a timer based interrupt service routine which actually creates the sound.</div>
<div style="background-color: #eeeeee;">
<br></div>
<div style="background-color: #eeeeee;">
When I first built the project it didn't work. Reading through the source code I noticed that the analog inputs read in loop and used in the ISR were not declared as volatile. Adding the volatile declaration to these five variables fixed the problem.</div>
<div style="background-color: #eeeeee;">
<br></div>
<div style="background-color: #eeeeee;">
Interestingly, the Audino has been around for years, it is likely that it worked perfectly with earlier versions of the Arduino compiler, but newer version may be optimizing differently. Whatever the case, the volatile keyword should always be used to tell the compiler not to optimize our shared variables.</div>
<div style="background-color: #eeeeee;">
<br></div>
<br>
In our code we must declare the channel input values as volatile in order that we can update them in the ISR and read them in loop -<br>
<br>
<div style="background-color: #eeeeee;">
<span style="background-color: #eeeeee; font-size: x-small;"><span style="font-family: &quot;Courier New&quot;,Courier,monospace;">volatile uint16_t unThrottleInShared;</span><br style="font-family: &quot;Courier New&quot;,Courier,monospace;"><span style="font-family: &quot;Courier New&quot;,Courier,monospace;">volatile uint16_t unSteeringInShared;</span><br style="font-family: &quot;Courier New&quot;,Courier,monospace;"><span style="font-family: &quot;Courier New&quot;,Courier,monospace;">volatile uint16_t unAuxInShared;</span></span></div>
<br>
<br>
2) Variable Access<br>
<br>
New Arduino programmers are often aware of the volatile keyword and assume that it is all that is needed to access shared variables. It isn't.<br>
<br>
An interrupt service routine can be run at any point in your main code. Its called an interrupt because it interrupts your main code to do something else. This can lead to strange and difficult to trace errors if you do not control when your variables&nbsp;are being&nbsp;accessed.<br>
<br>
<div style="background-color: #eeeeee;">
How do these strange and difficult to trace errors happen ?</div>
<div style="background-color: #eeeeee;">
<br></div>
<div style="background-color: #eeeeee;">
The simplest explanation is that if your main code is reading a variable when it is interrupted and the interrupting service routine changes the variable value, your main code will be left with part of the old value and part of the new value which is not what you intended or your code expected. This is often experienced as glitches blamed on hardware, but is in fact an easily solved software problem. <br>
<br>
As a simple example a two byte integer changing from 256 to 255 in an interrupt service routine could be seen in loop as 511.<br>
<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Byte 1&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Byte 2<br>
Original value = 256 = 00000001 00000000<br>
Updated value = 255 = 00000000 11111111<br>
<br>
Loop reads byte 1 = 00000001<br>
<br>
The ISR is called and updates the&nbsp;2 byte integer&nbsp;from 256 to 255<br>
<br>
Loop reads byte 2 = 11111111<br>
<br>
Loop sees byte 1 + byte 2 as integer 0000000111111111 = 511<br>
<br>
This&nbsp;unexpected value is a result of reading byte 1 before the&nbsp;interrupt and byte 2 after the interrupt. We must always ensure that our multi byte shared variables are read, updated or compared without any interrupts occuring.</div>
<br>
To prevent this problem we need to ensure that whenever we are reading, writting or comparing a values larger than a single byte we cannot be interrupted until the operation is complete. The data types int, long and float are all multi byte data types ( int = 2 bytes, long = 4 bytes, float = 4 bytes) and therefore access must be controlled between the your main code and loop. The recommended approach to controlling access is to temporarily disable interrupts in order that your main code can perform a read, write or compare without being interrupted (remember the danger is that the interrupt will change part of the value that we have already read,written or compared in which case the results will be unpredictable and most likley lead to program errors -&nbsp;disabling interrupts for the read, write or compare prevents this).<br>
&nbsp;&nbsp; <br>
To disable interrupts we call nointerrupts(), to enable then again we call interrupts().<br>
<br>
<div style="background-color: #eeeeee;">
<span style="font-size: x-small;"> <span style="font-family: &quot;Courier New&quot;,Courier,monospace;">// turn interrupts off&nbsp;</span></span><span style="font-family: &quot;Courier New&quot;,Courier,monospace; font-size: x-small;"></span></div>
<div style="background-color: #eeeeee; font-family: &quot;Courier New&quot;,Courier,monospace;">
<span style="font-size: x-small;">noInterrupts();</span></div>
<div style="background-color: #eeeeee; font-family: &quot;Courier New&quot;,Courier,monospace;">
<span style="font-size: x-small;">&nbsp;&nbsp;&nbsp;&nbsp;</span></div>
<div style="background-color: #eeeeee; font-family: &quot;Courier New&quot;,Courier,monospace;">
<span style="font-size: x-small;">&nbsp;&nbsp;&nbsp; // Access your shared variables here ...</span></div>
<div style="background-color: #eeeeee; font-family: &quot;Courier New&quot;,Courier,monospace;">
<span style="font-size: x-small;"><br></span></div>
<div style="background-color: #eeeeee; font-family: &quot;Courier New&quot;,Courier,monospace;">
<span style="font-size: x-small;">// finished with the shared variables, so turn interrupts back on</span></div>
<div style="background-color: #eeeeee; font-family: &quot;Courier New&quot;,Courier,monospace;">
<span style="font-size: x-small;">interrupts(); </span></div>
<div style="background-color: #eeeeee; font-family: &quot;Courier New&quot;,Courier,monospace;">
</div>
<span style="background-color: #eeeeee; font-family: &quot;Courier New&quot;,Courier,monospace; font-size: x-small;"><br></span>Note - While interrupts are disabled we will not be able to read incoming signals and this can effect our accuracy. See the example code&nbsp;where local variables as used to minimize the time&nbsp;that interrupts&nbsp;are disabled.<br>
<div style="background-color: #eeeeee;">
<b>Using the status register directly vs interrupts() and noInterrupts()</b> <br>
<br>
Note - There is some criticism of noInterrupts and interrupts on the basis that the interrupts function reenables interrupts regardless of whether they were enabled or disabled before noInterrupts was called. This could cause problems where your code is called by a library which requires interrupts to be disabled. The preferred technique is to record the global status register, update the status register to disable interrupts, then restore it to its previous value - this maintains the status that was inplace before your code rather than blindly (and unsafely) restoring interrupts.</div>
<div style="background-color: #eeeeee;">
<br></div>
<div style="background-color: #eeeeee; font-family: &quot;Courier New&quot;,Courier,monospace;">
<span style="font-size: x-small;">byte sregRestore = SREG; </span></div>
<div style="background-color: #eeeeee; font-family: &quot;Courier New&quot;,Courier,monospace;">
<span style="font-size: x-small;">cli() // clear the global interrupt enable flag </span></div>
<div style="background-color: #eeeeee; font-family: &quot;Courier New&quot;,Courier,monospace;">
<br></div>
<div style="background-color: #eeeeee; font-family: &quot;Courier New&quot;,Courier,monospace;">
<span style="font-size: x-small;">// Access your shared variables here .... </span></div>
<div style="background-color: #eeeeee; font-family: &quot;Courier New&quot;,Courier,monospace;">
<br></div>
<div style="background-color: #eeeeee; font-family: &quot;Courier New&quot;,Courier,monospace;">
<span style="font-size: x-small;">SREG = sregRestore; // restore the status register to its previous value</span></div>
<div style="background-color: #eeeeee;">
<br></div>
<br>
<b>3) Fast Interrupt Service Routines</b><br>
<br>
When an interrupt is triggered the microprocessor disables further interrupts before calling the interrupt service routine. While we are inside our interrupt service routine, we cannot process any new incoming events, therefore it is important for the accuracy of our input signal that we keep our interrupt service routines as short as possible.<br>
<br>
As a guideline the interrupt service routine should record the occurrence of an event, but should not attempt to perform any extended processing in response to the event.<br>
<br>
<i>In our example of reading three receiver channels and outputting 3 servo signals we are processing 500 interrupts per second. The difference between an idle throttle and full throttle is only 0.5 thousandths of a second - timing is going to be important.</i><br>
<br>
If we want our main code to process an event, we need some mechanism for the interrupt service routine to flag that an event has occurred, one option is the use of bit flags.<br>
<br>
<b>Bit Flags</b> <br>
<br>
We can use bit flags to signal to our main code that new information is available from an ISR. Bit flags take advantage of the fact that a micro processor can read a single byte without being interrupted. <br>
<br>
<b>How do but flags work ?</b><br>
<br>
If we treat a byte as being made up of eight bits, b0 to b7, we can use each bit as a signal between our main code and ISRs.The bits have the decimal values 1,2,4,8,16,32,64,128 which we can use to set, test and clear the individual bit flags.<br>
<br>
<div style="background-color: #eeeeee; font-family: &quot;Courier New&quot;,Courier,monospace;">
<span style="font-size: x-small;">// These bit flags are set in bUpdateFlagsShared to indicate which<br>// channels have new signals<br>#define THROTTLE_FLAG 1<br>#define STEERING_FLAG 2<br>#define AUX_FLAG 4<br><br>// a single byte we can use to hold the update bit flags defined above<br>volatile uint8_t bUpdateFlagsShared;</span></div>
<br>
to test, set and unset bit flags we can use -<br>
<br>
<div style="background-color: #eeeeee; font-family: &quot;Courier New&quot;,Courier,monospace;">
<span style="font-size: x-small;">// test to see if a flag has been set - use the bitwise AND operator &amp;</span></div>
<div style="background-color: #eeeeee; font-family: &quot;Courier New&quot;,Courier,monospace;">
<span style="font-size: x-small;">if(bUpdateFlags &amp; THROTTLE_FLAG)</span></div>
<div style="background-color: #eeeeee; font-family: &quot;Courier New&quot;,Courier,monospace;">
<span style="font-size: x-small;">{<br>&nbsp;&nbsp; // flag was set ...</span></div>
<div style="background-color: #eeeeee; font-family: &quot;Courier New&quot;,Courier,monospace;">
<span style="font-size: x-small;">}</span></div>
<div style="background-color: #eeeeee; font-family: &quot;Courier New&quot;,Courier,monospace;">
<span style="font-size: x-small;"><br></span></div>
<div style="background-color: #eeeeee; font-family: &quot;Courier New&quot;,Courier,monospace;">
<span style="font-size: x-small;">// set a bit flag - use the bitwise OR operator |</span></div>
<div style="background-color: #eeeeee;">
<span style="background-color: #eeeeee; font-size: x-small;"><span style="font-family: &quot;Courier New&quot;,Courier,monospace;">// set the throttle flag to indicate that a new throttle signal has been received</span><br style="font-family: &quot;Courier New&quot;,Courier,monospace;"><span style="font-family: &quot;Courier New&quot;,Courier,monospace;">bUpdateFlagsShared |= THROTTLE_FLAG;</span></span></div>
<div style="background-color: #eeeeee;">
<br></div>
<div style="background-color: #eeeeee; font-family: &quot;Courier New&quot;,Courier,monospace;">
<span style="font-size: x-small;">// clear a bit flag - use the bitwise XOR operator ^</span></div>
<div style="background-color: #eeeeee; font-family: &quot;Courier New&quot;,Courier,monospace;">
<span style="font-size: x-small;">bUpdateFlagsShared ^= THROTTLE_FLAG;</span></div>
<div style="background-color: #eeeeee; font-family: &quot;Courier New&quot;,Courier,monospace;">
<span style="font-size: x-small;"><br></span></div>
<br>
Bit flags provide us with a simple mechanism to communicate new events between the ISRs and loop. This is particularly important where we need to perform an extended calculation in response to the event. In the example code, we use the bit flag to tell loop that a new signal is available from a channel, loop then uses this information to updated the output for the channel.<br>
<br>
4) Timing<br>
<br>
We have already covered two of the issues which will effect our accuracy, we can add library functions for a more complete list as presented below -<br>
<br>
1) Library functions that temporarily disable interrupts - some library functions will temporarily disable interrupts we cant control this but we can be careful about where we use these functions <br>
2) Disabling interrupts in our own code - we will need to do this, but we can take care to minimise the time that interrupts are disabled.<br>
3) Interrupt Service Routines - the microprocessor automatically disables interrupts before calling them and reenables them afterwards. Again we have to live with this but can be careful to minimize the time spent inside the ISR so that interrupts are enabled again as quickly as possible.<br>
<br>
<b>Putting it all together</b><br>
<br>
The following code sample can be used to read three RC Channels through one set of Arduino pins and output those same channels on another set of pins. The code uses dedicated interrupt service routines for each channel, this is for clarity and could be changed to use a single interrupt service routine for all channels.<br>
<br>
<b>The code demonstrates the use of -</b><br>
<br>
&nbsp;- Bit flags to communicated events between the ISRs and Loop<br>
&nbsp;- Interrupt service routines to read rc channel signals <br>
&nbsp;- Enabling and disabling interrupts <br>
&nbsp;- Volatile shared variables<br>
&nbsp;- Taking local copies of variables to minimise the time that interrupts are disabled<br>
&nbsp;- Using the servo library to output RC Channels to servos or electronic speed controllers<br>
&nbsp;- Using the pin change interrupt library to access additional interrupts.<br>
<br>
The sample code below the video was used in creating the video. A step by step guide to connecting the ESC, Steering servo, RC Receiver and Arduino will be provided in a followup post.<br>
<br>
<div class="separator" style="clear: both; text-align: center;">
<object width="320" height="266" class="BLOG_video_class" id="BLOG_video-93f0d6cff3356f8f" classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000" codebase="http://download.macromedia.com/pub/shockwave/cabs/flash/swflash.cab#version=6,0,40,0"><param name="movie" value="//www.youtube.com/get_player">
<param name="bgcolor" value="#FFFFFF">
<param name="allowfullscreen" value="true">
<param name="flashvars" value="flvurl=http://redirector.googlevideo.com/videoplayback?id%3D93f0d6cff3356f8f%26itag%3D5%26source%3Dblogger%26app%3Dblogger%26cmo%3Dsensitive_content%253Dyes%26ip%3D0.0.0.0%26ipbits%3D0%26expire%3D1470474141%26sparams%3Did,itag,source,ip,ipbits,expire%26signature%3D85003524EB316C35204B94757B43626B180D02BC.B60D6CFCA20E37EA11A49BA30BB9D2008627F982%26key%3Dck2&amp;iurl=http://video.google.com/ThumbnailServer2?app%3Dblogger%26contentid%3D93f0d6cff3356f8f%26offsetms%3D5000%26itag%3Dw160%26sigh%3DNDljjCdlrBSmIoBmYpIMK-zfcis&amp;autoplay=0&amp;ps=blogger">
<embed src="//www.youtube.com/get_player" type="application/x-shockwave-flash" width="320" height="266" bgcolor="#FFFFFF" flashvars="flvurl=http://redirector.googlevideo.com/videoplayback?id%3D93f0d6cff3356f8f%26itag%3D5%26source%3Dblogger%26app%3Dblogger%26cmo%3Dsensitive_content%253Dyes%26ip%3D0.0.0.0%26ipbits%3D0%26expire%3D1470474141%26sparams%3Did,itag,source,ip,ipbits,expire%26signature%3D85003524EB316C35204B94757B43626B180D02BC.B60D6CFCA20E37EA11A49BA30BB9D2008627F982%26key%3Dck2&amp;iurl=http://video.google.com/ThumbnailServer2?app%3Dblogger%26contentid%3D93f0d6cff3356f8f%26offsetms%3D5000%26itag%3Dw160%26sigh%3DNDljjCdlrBSmIoBmYpIMK-zfcis&amp;autoplay=0&amp;ps=blogger" allowfullscreen="true"></object>
<a href="rtsp://v8.cache2.googlevideo.com/ChoLENy73wIaEQmPbzXzz9bwkxMYDSANFEgDDA==/0/0/0/video.3gp" type="video/3gpp"><img width="320" height="266" alt="video" src="./read receiver_files/ThumbnailServer2" class="BLOG_mobile_video_class" id="BLOG_mobile_video-93f0d6cff3356f8f"></a></div>
<br>
With two channels - throttle and steering - being read from the receiver and output to the car by Arduino<br>
<br>
<div class="separator" style="clear: both; text-align: center;">
<object width="320" height="266" class="BLOG_video_class" id="BLOG_video-ceef1e08a85f992f" classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000" codebase="http://download.macromedia.com/pub/shockwave/cabs/flash/swflash.cab#version=6,0,40,0"><param name="movie" value="//www.youtube.com/get_player">
<param name="bgcolor" value="#FFFFFF">
<param name="allowfullscreen" value="true">
<param name="flashvars" value="flvurl=http://redirector.googlevideo.com/videoplayback?id%3Dceef1e08a85f992f%26itag%3D5%26source%3Dblogger%26app%3Dblogger%26cmo%3Dsensitive_content%253Dyes%26ip%3D0.0.0.0%26ipbits%3D0%26expire%3D1470474141%26sparams%3Did,itag,source,ip,ipbits,expire%26signature%3DB72C454D6E0C1527D09D3FBD19D77316834EEEAE.2E034940CA7764716309FAAEF8905878E25EA303%26key%3Dck2&amp;iurl=http://video.google.com/ThumbnailServer2?app%3Dblogger%26contentid%3Dceef1e08a85f992f%26offsetms%3D5000%26itag%3Dw160%26sigh%3DLe4NaoQUo5Z6OWhf3rXCqt7QrqA&amp;autoplay=0&amp;ps=blogger">
<embed src="//www.youtube.com/get_player" type="application/x-shockwave-flash" width="320" height="266" bgcolor="#FFFFFF" flashvars="flvurl=http://redirector.googlevideo.com/videoplayback?id%3Dceef1e08a85f992f%26itag%3D5%26source%3Dblogger%26app%3Dblogger%26cmo%3Dsensitive_content%253Dyes%26ip%3D0.0.0.0%26ipbits%3D0%26expire%3D1470474141%26sparams%3Did,itag,source,ip,ipbits,expire%26signature%3DB72C454D6E0C1527D09D3FBD19D77316834EEEAE.2E034940CA7764716309FAAEF8905878E25EA303%26key%3Dck2&amp;iurl=http://video.google.com/ThumbnailServer2?app%3Dblogger%26contentid%3Dceef1e08a85f992f%26offsetms%3D5000%26itag%3Dw160%26sigh%3DLe4NaoQUo5Z6OWhf3rXCqt7QrqA&amp;autoplay=0&amp;ps=blogger" allowfullscreen="true" title="Adobe Flash Player"></object>
<a href="rtsp://v4.cache6.googlevideo.com/ChoLENy73wIaEQkvmV-oCB7vzhMYDSANFEgDDA==/0/0/0/video.3gp" type="video/3gpp"><img width="320" height="266" alt="video" src="./read receiver_files/ThumbnailServer2(1)" class="BLOG_mobile_video_class" id="BLOG_mobile_video-ceef1e08a85f992f"></a></div>
<br>
Sample Code - MultiChannels rcarduino.blogspot.com<br>
<br>
<div style="background-color: #eeeeee; font-family: &quot;Courier New&quot;,Courier,monospace;">
<span style="font-size: xx-small;">// MultiChannels<br>//</span><br>
<span style="font-size: xx-small;">// rcarduino.blogspot.com</span><br>
<span style="font-size: xx-small;">//<br>// A simple approach for reading three RC Channels using pin change interrupts<br>//<br>// See related posts - <br>// http://rcarduino.blogspot.co.uk/2012/01/how-to-read-rc-receiver-with.html<br>// http://rcarduino.blogspot.co.uk/2012/03/need-more-interrupts-to-read-more.html<br>// http://rcarduino.blogspot.co.uk/2012/01/can-i-control-more-than-x-servos-with.html<br>//<br>// rcarduino.blogspot.com<br>//<br><br>// include the pinchangeint library - see the links in the related topics section above for details<br>#include &lt;PinChangeInt.h&gt;<br><br>#include &lt;Servo.h&gt;<br><br>// Assign your channel in pins<br>#define THROTTLE_IN_PIN 8<br>#define STEERING_IN_PIN 9<br>#define AUX_IN_PIN 10<br><br>// Assign your channel out pins<br>#define THROTTLE_OUT_PIN 5<br>#define STEERING_OUT_PIN 6<br>#define AUX_OUT_PIN 7<br><br>// Servo objects generate the signals expected by Electronic Speed Controllers and Servos<br>// We will use the objects to output the signals we read in<br>// this example code provides a straight pass through of the signal with no custom processing<br>Servo servoThrottle;<br>Servo servoSteering;<br>Servo servoAux;<br><br>// These bit flags are set in bUpdateFlagsShared to indicate which<br>// channels have new signals<br>#define THROTTLE_FLAG 1<br>#define STEERING_FLAG 2<br>#define AUX_FLAG 4<br><br>// holds the update flags defined above<br>volatile uint8_t bUpdateFlagsShared;<br><br>// shared variables are updated by the ISR and read by loop.<br>// In loop we immediatley take local copies so that the ISR can keep ownership of the <br>// shared ones. To access these in loop<br>// we first turn interrupts off with noInterrupts<br>// we take a copy to use in loop and the turn interrupts back on<br>// as quickly as possible, this ensures that we are always able to receive new signals<br>volatile uint16_t unThrottleInShared;<br>volatile uint16_t unSteeringInShared;<br>volatile uint16_t unAuxInShared;<br><br>// These are used to record the rising edge of a pulse in the calcInput functions<br>// They do not need to be volatile as they are only used in the ISR. If we wanted<br>// to refer to these in loop and the ISR then they would need to be declared volatile<br>uint32_t ulThrottleStart;<br>uint32_t ulSteeringStart;<br>uint32_t ulAuxStart;<br><br>void setup()<br>{<br>&nbsp; Serial.begin(9600);<br>&nbsp; <br>&nbsp; Serial.println("multiChannels");<br><br>&nbsp; // attach servo objects, these will generate the correct <br>&nbsp; // pulses for driving Electronic speed controllers, servos or other devices<br>&nbsp; // designed to interface directly with RC Receivers&nbsp; <br>&nbsp; servoThrottle.attach(THROTTLE_OUT_PIN);<br>&nbsp; servoSteering.attach(STEERING_OUT_PIN);<br>&nbsp; servoAux.attach(AUX_OUT_PIN);<br><br>&nbsp; // using the PinChangeInt library, attach the interrupts<br>&nbsp; // used to read the channels<br>&nbsp; PCintPort::attachInterrupt(THROTTLE_IN_PIN, calcThrottle,CHANGE); <br>&nbsp; PCintPort::attachInterrupt(STEERING_IN_PIN, calcSteering,CHANGE); <br>&nbsp; PCintPort::attachInterrupt(AUX_IN_PIN, calcAux,CHANGE); <br>}<br><br>void loop()<br>{<br>&nbsp; // create local variables to hold a local copies of the channel inputs<br>&nbsp; // these are declared static so that thier values will be retained <br>&nbsp; // between calls to loop.<br>&nbsp; static uint16_t unThrottleIn;<br>&nbsp; static uint16_t unSteeringIn;<br>&nbsp; static uint16_t unAuxIn;<br>&nbsp; // local copy of update flags<br>&nbsp; static uint8_t bUpdateFlags;<br><br>&nbsp; // check shared update flags to see if any channels have a new signal<br>&nbsp; if(bUpdateFlagsShared)<br>&nbsp; {<br>&nbsp;&nbsp;&nbsp; noInterrupts(); // turn interrupts off quickly while we take local copies of the shared variables<br><br>&nbsp;&nbsp;&nbsp; // take a local copy of which channels were updated in case we need to use this in the rest of loop<br>&nbsp;&nbsp;&nbsp; bUpdateFlags = bUpdateFlagsShared;<br>&nbsp;&nbsp;&nbsp; <br>&nbsp;&nbsp;&nbsp; // in the current code, the shared values are always populated<br>&nbsp;&nbsp;&nbsp; // so we could copy them without testing the flags<br>&nbsp;&nbsp;&nbsp; // however in the future this could change, so lets<br>&nbsp;&nbsp;&nbsp; // only copy when the flags tell us we can.<br>&nbsp;&nbsp;&nbsp; <br>&nbsp;&nbsp;&nbsp; if(bUpdateFlags &amp; THROTTLE_FLAG)<br>&nbsp;&nbsp;&nbsp; {<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; unThrottleIn = unThrottleInShared;<br>&nbsp;&nbsp;&nbsp; }<br>&nbsp;&nbsp;&nbsp; <br>&nbsp;&nbsp;&nbsp; if(bUpdateFlags &amp; STEERING_FLAG)<br>&nbsp;&nbsp;&nbsp; {<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; unSteeringIn = unSteeringInShared;<br>&nbsp;&nbsp;&nbsp; }<br>&nbsp;&nbsp;&nbsp; <br>&nbsp;&nbsp;&nbsp; if(bUpdateFlags &amp; AUX_FLAG)<br>&nbsp;&nbsp;&nbsp; {<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; unAuxIn = unAuxInShared;<br>&nbsp;&nbsp;&nbsp; }<br>&nbsp;&nbsp;&nbsp;&nbsp; <br>&nbsp;&nbsp;&nbsp; // clear shared copy of updated flags as we have already taken the updates<br>&nbsp;&nbsp;&nbsp; // we still have a local copy if we need to use it in bUpdateFlags<br>&nbsp;&nbsp;&nbsp; bUpdateFlagsShared = 0;<br>&nbsp;&nbsp;&nbsp; <br>&nbsp;&nbsp;&nbsp; interrupts(); // we have local copies of the inputs, so now we can turn interrupts back on<br>&nbsp;&nbsp;&nbsp; // as soon as interrupts are back on, we can no longer use the shared copies, the interrupt<br>&nbsp;&nbsp;&nbsp; // service routines own these and could update them at any time. During the update, the <br>&nbsp;&nbsp;&nbsp; // shared copies may contain junk. Luckily we have our local copies to work with :-)<br>&nbsp; }<br>&nbsp; <br>&nbsp; // do any processing from here onwards<br>&nbsp; // only use the local values unAuxIn, unThrottleIn and unSteeringIn, the shared<br>&nbsp; // variables unAuxInShared, unThrottleInShared, unSteeringInShared are always owned by <br>&nbsp; // the interrupt routines and should not be used in loop<br>&nbsp; <br>&nbsp; // the following code provides simple pass through <br>&nbsp; // this is a good initial test, the Arduino will pass through<br>&nbsp; // receiver input as if the Arduino is not there.<br>&nbsp; // This should be used to confirm the circuit and power<br>&nbsp; // before attempting any custom processing in a project.<br>&nbsp; <br>&nbsp; // we are checking to see if the channel value has changed, this is indicated&nbsp; <br>&nbsp; // by the flags. For the simple pass through we don't really need this check,<br>&nbsp; // but for a more complex project where a new signal requires significant processing<br>&nbsp; // this allows us to only calculate new values when we have new inputs, rather than<br>&nbsp; // on every cycle.<br>&nbsp; if(bUpdateFlags &amp; THROTTLE_FLAG)<br>&nbsp; {<br>&nbsp;&nbsp;&nbsp; if(servoThrottle.readMicroseconds() != unThrottleIn)<br>&nbsp;&nbsp;&nbsp; {<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; servoThrottle.writeMicroseconds(unThrottleIn);<br>&nbsp;&nbsp;&nbsp; }<br>&nbsp; }<br>&nbsp; <br>&nbsp; if(bUpdateFlags &amp; STEERING_FLAG)<br>&nbsp; {<br>&nbsp;&nbsp;&nbsp; if(servoSteering.readMicroseconds() != unSteeringIn)<br>&nbsp;&nbsp;&nbsp; {<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; servoSteering.writeMicroseconds(unSteeringIn);<br>&nbsp;&nbsp;&nbsp; }<br>&nbsp; }<br>&nbsp; <br>&nbsp; if(bUpdateFlags &amp; AUX_FLAG)<br>&nbsp; {<br>&nbsp;&nbsp;&nbsp; if(servoAux.readMicroseconds() != unAuxIn)<br>&nbsp;&nbsp;&nbsp; {<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; servoAux.writeMicroseconds(unAuxIn);<br>&nbsp;&nbsp;&nbsp; }<br>&nbsp; }<br>&nbsp; <br>&nbsp; bUpdateFlags = 0;<br>}<br><br><br>// simple interrupt service routine<br>void calcThrottle()<br>{<br>&nbsp; // if the pin is high, its a rising edge of the signal pulse, so lets record its value<br>&nbsp; if(digitalRead(THROTTLE_IN_PIN) == HIGH)<br>&nbsp; { <br>&nbsp;&nbsp;&nbsp; ulThrottleStart = micros();<br>&nbsp; }<br>&nbsp; else<br>&nbsp; {<br>&nbsp;&nbsp;&nbsp; // else it must be a falling edge, so lets get the time and subtract the time of the rising edge<br>&nbsp;&nbsp;&nbsp; // this gives use the time between the rising and falling edges i.e. the pulse duration.<br>&nbsp;&nbsp;&nbsp; unThrottleInShared = (uint16_t)(micros() - ulThrottleStart);<br>&nbsp;&nbsp;&nbsp; // use set the throttle flag to indicate that a new throttle signal has been received<br>&nbsp;&nbsp;&nbsp; bUpdateFlagsShared |= THROTTLE_FLAG;<br>&nbsp; }<br>}<br><br>void calcSteering()<br>{<br>&nbsp; if(digitalRead(STEERING_IN_PIN) == HIGH)<br>&nbsp; { <br>&nbsp;&nbsp;&nbsp; ulSteeringStart = micros();<br>&nbsp; }<br>&nbsp; else<br>&nbsp; {<br>&nbsp;&nbsp;&nbsp; unSteeringInShared = (uint16_t)(micros() - ulSteeringStart);<br>&nbsp;&nbsp;&nbsp; bUpdateFlagsShared |= STEERING_FLAG;<br>&nbsp; }<br>}<br><br>void calcAux()<br>{<br>&nbsp; if(digitalRead(AUX_IN_PIN) == HIGH)<br>&nbsp; { <br>&nbsp;&nbsp;&nbsp; ulAuxStart = micros();<br>&nbsp; }<br>&nbsp; else<br>&nbsp; {<br>&nbsp;&nbsp;&nbsp; unAuxInShared = (uint16_t)(micros() - ulAuxStart);<br>&nbsp;&nbsp;&nbsp; bUpdateFlagsShared |= AUX_FLAG;<br>&nbsp; }<br>}</span></div>
<br>
Coming soon - A walk through connecting the three radio channels to the Arduino and then the processed signals back out to a car, robot or other application.<br>
<br>
Duane B</div>
<div style="clear: both;"></div>
</div>
<div class="post-footer">
<div class="post-footer-line post-footer-line-1">
<span class="post-author vcard">
Posted by
<span class="fn" itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person">
<meta content="https://www.blogger.com/profile/07867684474123805993" itemprop="url">
<a class="g-profile" href="https://www.blogger.com/profile/07867684474123805993" rel="author" title="author profile" data-gapiscan="true" data-onload="true" data-gapiattached="true">
<span itemprop="name">Can_I_Trade?</span>
</a>
</span>
</span>
<span class="post-timestamp">
at
<meta content="http://rcarduino.blogspot.com/2012/04/how-to-read-multiple-rc-channels-draft.html" itemprop="url">
<a class="timestamp-link" href="http://rcarduino.blogspot.in/2012/04/how-to-read-multiple-rc-channels-draft.html" rel="bookmark" title="permanent link"><abbr class="published" itemprop="datePublished" title="2012-04-14T15:08:00-07:00">3:08 PM</abbr></a>
</span>
<span class="reaction-buttons">
</span>
<span class="post-comment-link">
</span>
<span class="post-backlinks post-comment-link">
</span>
<span class="post-icons">
<span class="item-control blog-admin pid-195722605">
<a href="https://www.blogger.com/post-edit.g?blogID=7214097671310478681&amp;postID=1988199595784546015&amp;from=pencil" title="Edit Post">
<img alt="" class="icon-action" height="18" src="./read receiver_files/icon18_edit_allbkg.gif" width="18">
</a>
</span>
</span>
<div class="post-share-buttons goog-inline-block">
<a class="goog-inline-block share-button sb-email" href="https://www.blogger.com/share-post.g?blogID=7214097671310478681&amp;postID=1988199595784546015&amp;target=email" target="_blank" title="Email This"><span class="share-button-link-text">Email This</span></a><a class="goog-inline-block share-button sb-blog" href="https://www.blogger.com/share-post.g?blogID=7214097671310478681&amp;postID=1988199595784546015&amp;target=blog" onclick="window.open(this.href, &quot;_blank&quot;, &quot;height=270,width=475&quot;); return false;" target="_blank" title="BlogThis!"><span class="share-button-link-text">BlogThis!</span></a><a class="goog-inline-block share-button sb-twitter" href="https://www.blogger.com/share-post.g?blogID=7214097671310478681&amp;postID=1988199595784546015&amp;target=twitter" target="_blank" title="Share to Twitter"><span class="share-button-link-text">Share to Twitter</span></a><a class="goog-inline-block share-button sb-facebook" href="https://www.blogger.com/share-post.g?blogID=7214097671310478681&amp;postID=1988199595784546015&amp;target=facebook" onclick="window.open(this.href, &quot;_blank&quot;, &quot;height=430,width=640&quot;); return false;" target="_blank" title="Share to Facebook"><span class="share-button-link-text">Share to Facebook</span></a><a class="goog-inline-block share-button sb-pinterest" href="https://www.blogger.com/share-post.g?blogID=7214097671310478681&amp;postID=1988199595784546015&amp;target=pinterest" target="_blank" title="Share to Pinterest"><span class="share-button-link-text">Share to Pinterest</span></a><div class="goog-inline-block google-plus-share-container"><div id="___plusone_0" style="text-indent: 0px; margin: 0px; padding: 0px; border-style: none; float: none; line-height: normal; font-size: 1px; vertical-align: baseline; display: inline-block; width: 300px; height: 20px; background: transparent;"><iframe frameborder="0" hspace="0" marginheight="0" marginwidth="0" scrolling="no" style="position: static; top: 0px; width: 300px; margin: 0px; border-style: none; left: 0px; visibility: visible; height: 20px;" tabindex="0" vspace="0" width="100%" id="I0_1468326665443" name="I0_1468326665443" src="./read receiver_files/fastbutton.html" data-gapiattached="true" title="+1"></iframe></div></div>
</div>
</div>
<div class="post-footer-line post-footer-line-2">
<span class="post-labels">
Labels:
<a href="http://rcarduino.blogspot.in/search/label/Arduino" rel="tag">Arduino</a>,
<a href="http://rcarduino.blogspot.in/search/label/Arduino%20Interrupts" rel="tag">Arduino Interrupts</a>,
<a href="http://rcarduino.blogspot.in/search/label/Arduino%20Read%20More%20Channels" rel="tag">Arduino Read More Channels</a>,
<a href="http://rcarduino.blogspot.in/search/label/attachInterrupt" rel="tag">attachInterrupt</a>,
<a href="http://rcarduino.blogspot.in/search/label/Channel" rel="tag">Channel</a>,
<a href="http://rcarduino.blogspot.in/search/label/Electronic%20Speed%20Control" rel="tag">Electronic Speed Control</a>,
<a href="http://rcarduino.blogspot.in/search/label/Need%20More%20Interrupts" rel="tag">Need More Interrupts</a>,
<a href="http://rcarduino.blogspot.in/search/label/Radio%20Controlled%20Car" rel="tag">Radio Controlled Car</a>,
<a href="http://rcarduino.blogspot.in/search/label/RC%20Car" rel="tag">RC Car</a>,
<a href="http://rcarduino.blogspot.in/search/label/Read%20RC%20Signal" rel="tag">Read RC Signal</a>,
<a href="http://rcarduino.blogspot.in/search/label/Reading%20RC%20Receiver" rel="tag">Reading RC Receiver</a>
</span>
</div>
<div class="post-footer-line post-footer-line-3">
<span class="post-location">
</span>
</div>
</div>
</div>
<div class="comments" id="comments">
<a name="comments"></a>
<h4>141 comments:</h4>
<div class="comments-content">
<script async="async" src="./read receiver_files/comments.js" type="text/javascript"></script>
<script type="text/javascript">
    (function() {
      var items = [{'id': '31245691701104701', 'body': 'Hi, I really like your code and I think you did a great job and it works perfectly. However, I have been reading through your code for the last few hours and I am having trouble figuring out how I could complete this task:\x3cbr /\x3e\x3cbr /\x3eI have an 6DOF IMU that is connected to my arduino and is outputting euler angles. I would like to be able to use the unAuxIn value to switch from manually controlling the servos with my transmitter to using the angles from the IMU to control the position of the servo. In essence all I think I might need would be an if statements that would say something like \x26quot;if unAuxIn \x26gt; 1800\x26quot; but I don\x26#39;t know where this would go and I don\x26#39;t know if there is a better way to do this. I know this is a bit of a big question but I have been following you posts over the past few months and I think you are doing a great job. If you want to find out a bit more about the IMU I am using so that you can better understand my question, you can go to this website:\x3cbr /\x3e\x3cbr /\x3ehttp://bildr.org/2012/03/stable-orientation-digital-imu-6dof-arduino/', 'timestamp': '1335126562658', 'permalink': 'http://rcarduino.blogspot.com/2012/04/how-to-read-multiple-rc-channels-draft.html?showComment\x3d1335126562658#c31245691701104701', 'author': {'name': 'Anonymous', 'avatarUrl': '//img1.blogblog.com/img/blank.gif', 'profileUrl': ''}, 'displayTime': 'April 22, 2012 at 1:29 PM', 'deleteclass': 'item-control blog-admin pid-371174944'}, {'id': '7821900414415938199', 'body': 'Hi,\x3cbr /\x3e   Thanks for the feedback.\x3cbr /\x3e\x3cbr /\x3e   Your idea to test for AuxIn \x26gt; 1800 is correct. I would add a new variable to track the current mode. I would set the mode to AUTO_PILOT if AuxIn \x26gt; 1800 and to MANUAL_PILOT if AuxIn \x26lt; 1200 - I assume that your auxiliary channel is a two position swicth like mine. You will then need to a new if condition which will only update the throttle and steering channel if mode \x3d MANUAL_PILOT. As for what you do with the IMU, thats up to you.\x3cbr /\x3e\x3cbr /\x3eDuane B.', 'timestamp': '1335365937991', 'permalink': 'http://rcarduino.blogspot.com/2012/04/how-to-read-multiple-rc-channels-draft.html?showComment\x3d1335365937991#c7821900414415938199', 'author': {'name': 'Can_I_Trade?', 'avatarUrl': '//img2.blogblog.com/img/b16-rounded.gif', 'profileUrl': 'https://www.blogger.com/profile/07867684474123805993'}, 'displayTime': 'April 25, 2012 at 7:58 AM', 'deleteclass': 'item-control blog-admin pid-195722605'}, {'id': '4044417050883765032', 'body': 'Hello,\x3cbr /\x3e\x3cbr /\x3eI\x26#39;m a beginner and I\x26#39;m trying your code...\x3cbr /\x3e\x3cbr /\x3eI\x26#39;m surpised because the AUX channel has a very slow response time and I don\x26#39;t no why, do you think this is normal ?\x3cbr /\x3e\x3cbr /\x3eSev', 'timestamp': '1336588619546', 'permalink': 'http://rcarduino.blogspot.com/2012/04/how-to-read-multiple-rc-channels-draft.html?showComment\x3d1336588619546#c4044417050883765032', 'author': {'name': 'Sev', 'avatarUrl': '//img2.blogblog.com/img/b16-rounded.gif', 'profileUrl': 'https://www.blogger.com/profile/05061017668201831309'}, 'displayTime': 'May 9, 2012 at 11:36 AM', 'deleteclass': 'item-control blog-admin pid-1754858847'}, {'id': '4407410078954593671', 'body': 'Hi,\x3cbr /\x3e   As a quick test, try swapping the connection of your Aux channel with one of the other channels, for example, connect your throttle channel to aux and aux to the throttle, is the response of aux still slow ? This will tell whether it is a transmitter setting or the problem is in the code.\x3cbr /\x3e\x3cbr /\x3eDuane B', 'timestamp': '1336636900816', 'permalink': 'http://rcarduino.blogspot.com/2012/04/how-to-read-multiple-rc-channels-draft.html?showComment\x3d1336636900816#c4407410078954593671', 'author': {'name': 'Can_I_Trade?', 'avatarUrl': '//img2.blogblog.com/img/b16-rounded.gif', 'profileUrl': 'https://www.blogger.com/profile/07867684474123805993'}, 'displayTime': 'May 10, 2012 at 1:01 AM', 'deleteclass': 'item-control blog-admin pid-195722605'}, {'id': '3627766762744377811', 'body': 'Hello,\x3cbr /\x3e\x3cbr /\x3eI allready tested to move PIN attribution from :\x3cbr /\x3e// Assign your channel in pins\x3cbr /\x3e#define THROTTLE_IN_PIN 5\x3cbr /\x3e#define STEERING_IN_PIN 6\x3cbr /\x3e#define AUX_IN_PIN 7\x3cbr /\x3e\x3cbr /\x3eto :\x3cbr /\x3e#define THROTTLE_IN_PIN 4\x3cbr /\x3e#define STEERING_IN_PIN 5\x3cbr /\x3e#define AUX_IN_PIN 6\x3cbr /\x3e\x3cbr /\x3eMy receiver has been tested without Arduino, connected to 3 servo.\x3cbr /\x3eI allready try to plug \x26quot;Aux Servo\x26quot; and \x26quot;Steering Servo\x26quot; one on each other.\x3cbr /\x3e\x3cbr /\x3eAnd this is allways the \x3cbr /\x3e\x3cbr /\x3eThat\x26#39;s why I\x26#39;m seriously thinking about a code specification on Aux Channel. (AUX_OUT_PIN 10)\x3cbr /\x3e\x3cbr /\x3eMaybe I\x26#39;ll try to put Steering-out on 10 and Aux-out on 9...', 'timestamp': '1336647591217', 'permalink': 'http://rcarduino.blogspot.com/2012/04/how-to-read-multiple-rc-channels-draft.html?showComment\x3d1336647591217#c3627766762744377811', 'author': {'name': 'Sev', 'avatarUrl': '//img2.blogblog.com/img/b16-rounded.gif', 'profileUrl': 'https://www.blogger.com/profile/05061017668201831309'}, 'displayTime': 'May 10, 2012 at 3:59 AM', 'deleteclass': 'item-control blog-admin pid-1754858847'}, {'id': '9156711619191735374', 'body': 'Hi,\x3cbr /\x3e  Can you clarify that it is always the AUX_OUT_PIN which is slow whatever is connected to it and can you be more specific about the slow response\x3cbr /\x3e\x3cbr /\x3eThanks', 'timestamp': '1336648871926', 'permalink': 'http://rcarduino.blogspot.com/2012/04/how-to-read-multiple-rc-channels-draft.html?showComment\x3d1336648871926#c9156711619191735374', 'author': {'name': 'Can_I_Trade?', 'avatarUrl': '//img2.blogblog.com/img/b16-rounded.gif', 'profileUrl': 'https://www.blogger.com/profile/07867684474123805993'}, 'displayTime': 'May 10, 2012 at 4:21 AM', 'deleteclass': 'item-control blog-admin pid-195722605'}, {'id': '6937203567631709011', 'body': 'I\x26#39;ve tested changing output pin (9/10), supressing conditions flags... and this always happening with Aux Channel, but finaly I found something strange :\x3cbr /\x3e\x3cbr /\x3eThis is mostly happening when Throttle Channel is at the middle point...\x3cbr /\x3eMaybe the \x26quot;GoingUp Aux signal\x26quot; is \x26quot;masked\x26quot; by the \x26quot;GoingDown Throttle signal\x26quot;, is this possible ?', 'timestamp': '1336674734323', 'permalink': 'http://rcarduino.blogspot.com/2012/04/how-to-read-multiple-rc-channels-draft.html?showComment\x3d1336674734323#c6937203567631709011', 'author': {'name': 'Sev', 'avatarUrl': '//img2.blogblog.com/img/b16-rounded.gif', 'profileUrl': 'https://www.blogger.com/profile/05061017668201831309'}, 'displayTime': 'May 10, 2012 at 11:32 AM', 'deleteclass': 'item-control blog-admin pid-1754858847'}, {'id': '3267519069333371572', 'body': 'Hi,\x3cbr /\x3eone thing I wanted to eliminate is \x26#39;channel mixing\x26#39; where your radio is set up to adjust the output of one channel based on another channel. What radio and receiver are you using and what do you have connected to the aux channel ?\x3cbr /\x3e\x3cbr /\x3ealso, what type of vehicle ?\x3cbr /\x3e\x3cbr /\x3eThanks\x3cbr /\x3e\x3cbr /\x3eDuane', 'timestamp': '1336676261337', 'permalink': 'http://rcarduino.blogspot.com/2012/04/how-to-read-multiple-rc-channels-draft.html?showComment\x3d1336676261337#c3267519069333371572', 'author': {'name': 'Can_I_Trade?', 'avatarUrl': '//img2.blogblog.com/img/b16-rounded.gif', 'profileUrl': 'https://www.blogger.com/profile/07867684474123805993'}, 'displayTime': 'May 10, 2012 at 11:57 AM', 'deleteclass': 'item-control blog-admin pid-195722605'}, {'id': '585026711357186901', 'body': 'One more thing, have you tried using the original code as it is posted here, but with the throttle input and output physically swapped with the aux input and output. If the code is causing the response this should now effect the throttle not aux.\x3cbr /\x3e\x3cbr /\x3eDuane b', 'timestamp': '1336677686773', 'permalink': 'http://rcarduino.blogspot.com/2012/04/how-to-read-multiple-rc-channels-draft.html?showComment\x3d1336677686773#c585026711357186901', 'author': {'name': 'Can_I_Trade?', 'avatarUrl': '//img2.blogblog.com/img/b16-rounded.gif', 'profileUrl': 'https://www.blogger.com/profile/07867684474123805993'}, 'displayTime': 'May 10, 2012 at 12:21 PM', 'deleteclass': 'item-control blog-admin pid-195722605'}, {'id': '7835930787849471152', 'body': 'I\x26#39;m using Turnigy9CH-Tx with Eurgle3ch-Rx, for the moment, it is just for testing, so I just plug 2 servos (Steer\x26amp;Aux) and 1 little 8A/ESC with type400 motor, (the ESC/BEC feed the servos 5V).\x3cbr /\x3e\x3cbr /\x3eAs you said, Next test will be to swap PIN again (Thro \x26amp; Aux, IN and OUT), if this is a masking effect, I should be fixed with this test (I\x26#39;ll try to post it on YouTube)', 'timestamp': '1336679539918', 'permalink': 'http://rcarduino.blogspot.com/2012/04/how-to-read-multiple-rc-channels-draft.html?showComment\x3d1336679539918#c7835930787849471152', 'author': {'name': 'Sev', 'avatarUrl': '//2.bp.blogspot.com/-tmk_c-hH5Xs/T6wJ37xY2BI/AAAAAAAABB0/VmwK0pXgQg8/s35/vache.gif', 'profileUrl': 'https://www.blogger.com/profile/05061017668201831309'}, 'displayTime': 'May 10, 2012 at 12:52 PM', 'deleteclass': 'item-control blog-admin pid-1754858847'}, {'id': '7799416253235296328', 'body': 'Hi, is it this radio, if so the link suggests that version 1 has problems\x3cbr /\x3e\x3cbr /\x3ehttp://www.hobbyking.com/hobbyking/store/__8992__Turnigy_9X_9Ch_Transmitter_w_Module_8ch_Receiver_Mode_2_v2_Firmware_.html\x3cbr /\x3e\x3cbr /\x3eDuane B', 'timestamp': '1336679943965', 'permalink': 'http://rcarduino.blogspot.com/2012/04/how-to-read-multiple-rc-channels-draft.html?showComment\x3d1336679943965#c7799416253235296328', 'author': {'name': 'Can_I_Trade?', 'avatarUrl': '//img2.blogblog.com/img/b16-rounded.gif', 'profileUrl': 'https://www.blogger.com/profile/07867684474123805993'}, 'displayTime': 'May 10, 2012 at 12:59 PM', 'deleteclass': 'item-control blog-admin pid-195722605'}, {'id': '295888462324965399', 'body': 'Link to manual - http://www.filadelfosrc.com/Manuals/TX-9X-M2-Manual.pdf', 'timestamp': '1336680875038', 'permalink': 'http://rcarduino.blogspot.com/2012/04/how-to-read-multiple-rc-channels-draft.html?showComment\x3d1336680875038#c295888462324965399', 'author': {'name': 'Can_I_Trade?', 'avatarUrl': '//img2.blogblog.com/img/b16-rounded.gif', 'profileUrl': 'https://www.blogger.com/profile/07867684474123805993'}, 'displayTime': 'May 10, 2012 at 1:14 PM', 'deleteclass': 'item-control blog-admin pid-195722605'}, {'id': '6609302542724165431', 'body': 'Hi,\x3cbr /\x3e   From the serial output you posted, it looks as if everything is working fine as far as the Arduino is concerned, the AUX Channel shows a steady input of 1468. \x3cbr /\x3e\x3cbr /\x3eI notice that you are using a 9 channel transmitter with a 3 channel receiver, my guess is that the receiver processes the first 3 pulses it receives and ignores any further pulses until the next frame begins. It is possible that what is happening is that your transmitter AUX signal is not within the first three pulses so the transmitter is receiving throttle, steering, and then some other channel which is not Aux. The Aux pulse is later in the frame and being ignored by the receiver.\x3cbr /\x3e\x3cbr /\x3eTry your test again but using the full range of controls/channels available on the transmitter, my guess is that one of them should cause the full range of movement in AUX.\x3cbr /\x3e\x3cbr /\x3eTo keep the serial output short and clear, you can stop outputting columns 1 and 3 we are only interested in the channel value.\x3cbr /\x3e\x3cbr /\x3eDuane B.', 'timestamp': '1336715340020', 'permalink': 'http://rcarduino.blogspot.com/2012/04/how-to-read-multiple-rc-channels-draft.html?showComment\x3d1336715340020#c6609302542724165431', 'author': {'name': 'Can_I_Trade?', 'avatarUrl': '//img2.blogblog.com/img/b16-rounded.gif', 'profileUrl': 'https://www.blogger.com/profile/07867684474123805993'}, 'displayTime': 'May 10, 2012 at 10:49 PM', 'deleteclass': 'item-control blog-admin pid-195722605'}, {'id': '3129072337005094880', 'body': 'Thank for your responses, My Rx/Tx system is fully fonctionnal AND programmable, I\x26#39;m using V2 radio with custom firmware (er9x), so the original manual is not usefull for me.\x3cbr /\x3eI\x26#39;m using this system with planes, AR Drone (with MiruMod Arduino), and lots of little things I builded.\x3cbr /\x3e\x3cbr /\x3eBefore this test, I\x26#39;ve programmed my radio to send what I want on the first 3 Channels, the Rx is only reading 3 first Channels.\x3cbr /\x3e\x3cbr /\x3eWhen I connect everything directly on the Tx, everything is working fine, even the 3rd channel with a servo.\x3cbr /\x3e\x3cbr /\x3eOn my serialOutput, please take a look at the numbers I just colored in red, I think this is the problem.\x3cbr /\x3eThe strange thing is that ulAuxStart is no more frequently updated BUT unAuxInShared continue to be (how is it possible ?)... if Arduino really do not see AuxGoingUp signal, unAuxInShared should be unrealist (too big) !!\x3cbr /\x3e\x3cbr /\x3eThe servo lagging problem is occuring precisely at this moment.', 'timestamp': '1336728797532', 'permalink': 'http://rcarduino.blogspot.com/2012/04/how-to-read-multiple-rc-channels-draft.html?showComment\x3d1336728797532#c3129072337005094880', 'author': {'name': 'Sev', 'avatarUrl': '//2.bp.blogspot.com/-tmk_c-hH5Xs/T6wJ37xY2BI/AAAAAAAABB0/VmwK0pXgQg8/s35/vache.gif', 'profileUrl': 'https://www.blogger.com/profile/05061017668201831309'}, 'displayTime': 'May 11, 2012 at 2:33 AM', 'deleteclass': 'item-control blog-admin pid-1754858847'}, {'id': '3697392536458134851', 'body': 'Hi,\x3cbr /\x3e  Can you post your loop function or the ISR, whichever it is that you are generating the serial from\x3cbr /\x3e\x3cbr /\x3eThanks', 'timestamp': '1336731443771', 'permalink': 'http://rcarduino.blogspot.com/2012/04/how-to-read-multiple-rc-channels-draft.html?showComment\x3d1336731443771#c3697392536458134851', 'author': {'name': 'Can_I_Trade?', 'avatarUrl': '//img2.blogblog.com/img/b16-rounded.gif', 'profileUrl': 'https://www.blogger.com/profile/07867684474123805993'}, 'displayTime': 'May 11, 2012 at 3:17 AM', 'deleteclass': 'item-control blog-admin pid-195722605'}, {'id': '7629849682551087629', 'body': 'Solved ! I hope.\x3cbr /\x3e\x3cbr /\x3eI have just breadboarded a quick set up here and I am saddened to say I had exactly the same problem. Sometimes the Aux would respond instantly, other times it would be two or more seconds before Aux would respond. \x3cbr /\x3e\x3cbr /\x3eMy test set up was Aux into the Arduino and out to a servo.\x3cbr /\x3e\x3cbr /\x3eAs a second test, I connected the steering out of my receiver into the Aux in of my Arduino, the response was again lagging. \x3cbr /\x3e\x3cbr /\x3eCut a long story short, I was missing pulses due to a bad connection. Looking at your trace it looks as if you are also missing pulses.\x3cbr /\x3e\x3cbr /\x3eTo get my original connection to work I have to hold it into the receiver with hand pressure, like this there is no lag. If I take my hand off, the connection is not so good and I can expect to miss pulses resulting in what looks like lag.\x3cbr /\x3e\x3cbr /\x3eI hope this is the solution for you also, let me know.\x3cbr /\x3e\x3cbr /\x3eDuane', 'timestamp': '1336733052636', 'permalink': 'http://rcarduino.blogspot.com/2012/04/how-to-read-multiple-rc-channels-draft.html?showComment\x3d1336733052636#c7629849682551087629', 'author': {'name': 'Can_I_Trade?', 'avatarUrl': '//img2.blogblog.com/img/b16-rounded.gif', 'profileUrl': 'https://www.blogger.com/profile/07867684474123805993'}, 'displayTime': 'May 11, 2012 at 3:44 AM', 'deleteclass': 'item-control blog-admin pid-195722605'}, {'id': '7569830295934601722', 'body': 'You were totally right !!\x3cbr /\x3e\x3cbr /\x3eMy receiver do not have a real 3rd channel, I\x26#39;ve done a test with the original 8ch Rx and everything is okay...\x3cbr /\x3e\x3cbr /\x3eI now understand why I crashed a fast plane with this kind of receiver...\x3cbr /\x3e\x3cbr /\x3eThank you for all your help.\x3cbr /\x3e\x3cbr /\x3eSev', 'timestamp': '1337113728156', 'permalink': 'http://rcarduino.blogspot.com/2012/04/how-to-read-multiple-rc-channels-draft.html?showComment\x3d1337113728156#c7569830295934601722', 'author': {'name': 'Sev', 'avatarUrl': '//2.bp.blogspot.com/-tmk_c-hH5Xs/T6wJ37xY2BI/AAAAAAAABB0/VmwK0pXgQg8/s35/vache.gif', 'profileUrl': 'https://www.blogger.com/profile/05061017668201831309'}, 'displayTime': 'May 15, 2012 at 1:28 PM', 'deleteclass': 'item-control blog-admin pid-1754858847'}, {'id': '3319814249056078636', 'body': 'i have a small question i am trying to control 2 DC motors using RC transmitter and receiver adn i want the motors to go forward backward and stop without controlling the speed or anything (will move with digital signal high or low only) and i dont know how to read the signal from the receiver and transform it to digital signal to drive the DC motors?', 'timestamp': '1338509798386', 'permalink': 'http://rcarduino.blogspot.com/2012/04/how-to-read-multiple-rc-channels-draft.html?showComment\x3d1338509798386#c3319814249056078636', 'author': {'name': 'Anonymous', 'avatarUrl': '//img1.blogblog.com/img/blank.gif', 'profileUrl': ''}, 'displayTime': 'May 31, 2012 at 5:16 PM', 'deleteclass': 'item-control blog-admin pid-1655783702'}, {'id': '2763869246235237115', 'body': 'Try this -\x3cbr /\x3ehttp://rcarduino.blogspot.com/2012/05/interfacing-rc-channels-to-l293d-motor.html\x3cbr /\x3e\x3cbr /\x3eDuane B', 'timestamp': '1338525656205', 'permalink': 'http://rcarduino.blogspot.com/2012/04/how-to-read-multiple-rc-channels-draft.html?showComment\x3d1338525656205#c2763869246235237115', 'author': {'name': 'Can_I_Trade?', 'avatarUrl': '//img2.blogblog.com/img/b16-rounded.gif', 'profileUrl': 'https://www.blogger.com/profile/07867684474123805993'}, 'displayTime': 'May 31, 2012 at 9:40 PM', 'deleteclass': 'item-control blog-admin pid-195722605'}, {'id': '4646355535774947523', 'body': 'Hi,\x3cbr /\x3eI\x26#39;ve worked with your code on using a single RC signal and one interrupt and it worked fine for me. (http://rcarduino.blogspot.co.nz/2012/01/how-to-read-rc-receiver-with.html) But now that I\x26#39;m reading this code on multiple inputs, I\x26#39;ve tried to copy the code and try it straight away before playing around with it, but it comes up with an error saying \x26quot; \x26#39;PCintPort\x26#39; has not been declared \x26quot; I\x26#39;ve gone through and installed the library again for PinChangeInt but that hasn\x26#39;t changed it. This code is all new to me, though I\x26#39;ve played with arduino stuff as a hobby for a little while. Any ideas on what I\x26#39;m doing wrong?\x3cbr /\x3e\x3cbr /\x3eThe code that I\x26#39;m using is an exact copy of the big sample code above.\x3cbr /\x3e\x3cbr /\x3eCheers,\x3cbr /\x3eAsh', 'timestamp': '1341282306602', 'permalink': 'http://rcarduino.blogspot.com/2012/04/how-to-read-multiple-rc-channels-draft.html?showComment\x3d1341282306602#c4646355535774947523', 'author': {'name': 'Ash', 'avatarUrl': '//img1.blogblog.com/img/blank.gif', 'profileUrl': ''}, 'displayTime': 'July 2, 2012 at 7:25 PM', 'deleteclass': 'item-control blog-admin pid-1963498035'}, {'id': '4562914365369151984', 'body': 'Hi,\x3cbr /\x3e   It should be something simple, what version of the library are you using and where did you get it from ? Also what version of Arduino are you using ?\x3cbr /\x3e\x3cbr /\x3eDuane B', 'timestamp': '1341297217629', 'permalink': 'http://rcarduino.blogspot.com/2012/04/how-to-read-multiple-rc-channels-draft.html?showComment\x3d1341297217629#c4562914365369151984', 'author': {'name': 'Can_I_Trade?', 'avatarUrl': '//img2.blogblog.com/img/b16-rounded.gif', 'profileUrl': 'https://www.blogger.com/profile/07867684474123805993'}, 'displayTime': 'July 2, 2012 at 11:33 PM', 'deleteclass': 'item-control blog-admin pid-195722605'}, {'id': '3593274132511355812', 'body': 'I\x26#39;m using an arduino Uno R3, bought about 2 months ago, and the version of PinChangeInt is 1.72 from this source (http://code.google.com/p/arduino-pinchangeint/downloads/detail?name\x3dpinchangeint-v1.72.zip) and the version of arduino software is 1.0.1 for windows.\x3cbr /\x3e\x3cbr /\x3eWhen I click on \x26#39;sketch\x26#39; up the top and then \x26#39;import library\x26#39; it now shows me that I now have the option to import the PinChangeInt library, but I\x26#39;ve just realised that when I click it doesn\x26#39;t write the \x26#39;#include\x26#39; statement in the sketch. Could this just be an install error?\x3cbr /\x3e\x3cbr /\x3eAsh', 'timestamp': '1341361331900', 'permalink': 'http://rcarduino.blogspot.com/2012/04/how-to-read-multiple-rc-channels-draft.html?showComment\x3d1341361331900#c3593274132511355812', 'author': {'name': 'Ash', 'avatarUrl': '//img1.blogblog.com/img/blank.gif', 'profileUrl': ''}, 'displayTime': 'July 3, 2012 at 5:22 PM', 'deleteclass': 'item-control blog-admin pid-1963498035'}, {'id': '503846261597032251', 'body': 'Hi Duane,\x3cbr /\x3e\x3cbr /\x3eYour code works perfectly, it was my fault for not installing the library properly, I accidently put the PinChangeInt library an extra file deep when i unzipped it.\x3cbr /\x3e\x3cbr /\x3eThanks for your suggestions, they made me think a bit simpler.\x3cbr /\x3e\x3cbr /\x3eAsh', 'timestamp': '1341363947185', 'permalink': 'http://rcarduino.blogspot.com/2012/04/how-to-read-multiple-rc-channels-draft.html?showComment\x3d1341363947185#c503846261597032251', 'author': {'name': 'Ash', 'avatarUrl': '//img1.blogblog.com/img/blank.gif', 'profileUrl': ''}, 'displayTime': 'July 3, 2012 at 6:05 PM', 'deleteclass': 'item-control blog-admin pid-1963498035'}, {'id': '9107021421874957501', 'body': 'Hey Duane, I tried out the concept behind your code for controlling four servos. The code can be found here:https://docs.google.com/open?id\x3d0BzJW8_XBaNMRUm9FX3JZRElVRGc\x3cbr /\x3e\x3cbr /\x3eWhat I am trying to do is to control 4 servos using two channels and one channel for controlling the motor. My underlying aim is to control the servos such that if I deflect the analog stick of the transmitter in one direction, it will rotate one servo a full 180 degrees and if i deflect it in the opposite direction then i will get another 180 deflection is another servo. This is because the transmitter isnt able to provide the throw that i need.\x3cbr /\x3e\x3cbr /\x3eThe problem that i am facing, is that two servos can be controlled very easily, but the third servo is moving eratically.\x3cbr /\x3e\x3cbr /\x3ePlease check if there is a blunder in the code or if you have a better solution to the task that i mentioned.\x3cbr /\x3e\x3cbr /\x3eThanks\x3cbr /\x3eSummit', 'timestamp': '1342445809949', 'permalink': 'http://rcarduino.blogspot.com/2012/04/how-to-read-multiple-rc-channels-draft.html?showComment\x3d1342445809949#c9107021421874957501', 'author': {'name': 'Summit', 'avatarUrl': '//img1.blogblog.com/img/blank.gif', 'profileUrl': ''}, 'displayTime': 'July 16, 2012 at 6:36 AM', 'deleteclass': 'item-control blog-admin pid-178633729'}, {'id': '212282257652412702', 'body': 'Hi,\x3cbr /\x3e\x3cbr /\x3eI can see a lot wrong with your code, I do not have time to go through line by line and so your best bet might be to re-read this post, and use the code provided as the base for your own project.\x3cbr /\x3e\x3cbr /\x3eSorry,\x3cbr /\x3e\x3cbr /\x3eDuane B', 'timestamp': '1342457505846', 'permalink': 'http://rcarduino.blogspot.com/2012/04/how-to-read-multiple-rc-channels-draft.html?showComment\x3d1342457505846#c212282257652412702', 'author': {'name': 'Can_I_Trade?', 'avatarUrl': '//img2.blogblog.com/img/b16-rounded.gif', 'profileUrl': 'https://www.blogger.com/profile/07867684474123805993'}, 'displayTime': 'July 16, 2012 at 9:51 AM', 'deleteclass': 'item-control blog-admin pid-195722605'}, {'id': '8674271504393252312', 'parentId': '212282257652412702', 'body': 'Hey\x3cbr /\x3eThanks for the reply. I re read the post many times but the code that i have written is for Arduino Mega not for Uno and hence i could use the available interrupts on it rather than using the software interrupts that are generated using the PinChange library.\x3cbr /\x3eIf you could just give me the gist of what is wrong with the code (even a very light gist) or how to proceed in correcting it then it would be great.\x3cbr /\x3e\x3cbr /\x3eThanks again\x3cbr /\x3eSummit', 'timestamp': '1342463547761', 'permalink': 'http://rcarduino.blogspot.com/2012/04/how-to-read-multiple-rc-channels-draft.html?showComment\x3d1342463547761#c8674271504393252312', 'author': {'name': 'Summit', 'avatarUrl': '//img1.blogblog.com/img/blank.gif', 'profileUrl': ''}, 'displayTime': 'July 16, 2012 at 11:32 AM', 'deleteclass': 'item-control blog-admin pid-901678879'}, {'id': '796216243915178009', 'body': 'Hi,\x3cbr /\x3eThe code I have provided in this post has been used by many people on both UNO\x26#39;s and Mega\x26#39;s. To use the code on a Mega replace PCintPort::attachInterrupt with attachInterrupt and make sure that the pin you use is one of the Mega interrupt pins.\x3cbr /\x3e\x3cbr /\x3eI have provided this code for people to use, lots do and all of the feedback indicates that it works very well. \x3cbr /\x3e\x3cbr /\x3eMy suggestion for you is to replace the PCintPort::attachInterrupt with attachInterrupt, use the code as it is provided here to control your project in the normal way, then once you have it working make whatever project specific changes you need.\x3cbr /\x3e\x3cbr /\x3eDuane', 'timestamp': '1342508536738', 'permalink': 'http://rcarduino.blogspot.com/2012/04/how-to-read-multiple-rc-channels-draft.html?showComment\x3d1342508536738#c796216243915178009', 'author': {'name': 'Can_I_Trade?', 'avatarUrl': '//img2.blogblog.com/img/b16-rounded.gif', 'profileUrl': 'https://www.blogger.com/profile/07867684474123805993'}, 'displayTime': 'July 17, 2012 at 12:02 AM', 'deleteclass': 'item-control blog-admin pid-195722605'}, {'id': '4124979611398671742', 'body': 'Hi,\x3cbr /\x3eI am trying to use the example you provided with an Arduino Mega Pro, and it doesn\x26#39;t want to read any of the interrupts. I have the signals from my radio receiver in ports 2, 3, and 18 which according to this: http://arduino.cc/it/Reference/AttachInterrupt\x3cbr /\x3eare all interrupt ports. When I measure the voltages from the signal cables I get values from ~.2 to ~.4 volts depending on what the remote is doing (changing throttle/steering). Are these just too low for my arduino to read?', 'timestamp': '1343400357033', 'permalink': 'http://rcarduino.blogspot.com/2012/04/how-to-read-multiple-rc-channels-draft.html?showComment\x3d1343400357033#c4124979611398671742', 'author': {'name': 'Steven', 'avatarUrl': '//img1.blogblog.com/img/blank.gif', 'profileUrl': ''}, 'displayTime': 'July 27, 2012 at 7:45 AM', 'deleteclass': 'item-control blog-admin pid-1160363245'}, {'id': '1543268646459532451', 'body': 'Hi,\x3cbr /\x3e   Read part one here to understand why you are seeing those low values and use the code provided in part one to test your basic connectivity.\x3cbr /\x3e\x3cbr /\x3ehttp://rcarduino.blogspot.com/2012/01/how-to-read-rc-receiver-with.html\x3cbr /\x3e\x3cbr /\x3eDuane B', 'timestamp': '1343401835766', 'permalink': 'http://rcarduino.blogspot.com/2012/04/how-to-read-multiple-rc-channels-draft.html?showComment\x3d1343401835766#c1543268646459532451', 'author': {'name': 'Can_I_Trade?', 'avatarUrl': '//img2.blogblog.com/img/b16-rounded.gif', 'profileUrl': 'https://www.blogger.com/profile/07867684474123805993'}, 'displayTime': 'July 27, 2012 at 8:10 AM', 'deleteclass': 'item-control blog-admin pid-195722605'}, {'id': '610737589663517951', 'body': 'Hi,\x3cbr /\x3eThe example from part one works fine. I noticed that the example for three inputs doesn\x26#39;t have both the interrupt pin id and the digital id. So I changed the attatchInterrupts to use the interrupt id (0, 1, and 5 for me) and now calcAux gets called one time, and then the program stops looping.\x3cbr /\x3e\x3cbr /\x3eShould I just be using the interrupt port id and not the actual digital port id?', 'timestamp': '1343404606955', 'permalink': 'http://rcarduino.blogspot.com/2012/04/how-to-read-multiple-rc-channels-draft.html?showComment\x3d1343404606955#c610737589663517951', 'author': {'name': 'Steven', 'avatarUrl': '//img1.blogblog.com/img/blank.gif', 'profileUrl': ''}, 'displayTime': 'July 27, 2012 at 8:56 AM', 'deleteclass': 'item-control blog-admin pid-1160363245'}, {'id': '1398078571204408191', 'body': 'Hi,\x3cbr /\x3eIf you are using a Mega, you have enough interrupts available so you do not need to use the PinChangeInt library. To use the interrupts directly replace PCintPort::attachInterrupt with just attachInterrupt in the setup function. You should not be able to use the interrupts. The attachInterrupt function accepts the digital pin number rather than the interrupt number. On my UNO i need to pass 2 as the pin number in order to attach to int0 which is digital pin 2.\x3cbr /\x3e\x3cbr /\x3eDuane B', 'timestamp': '1343406583632', 'permalink': 'http://rcarduino.blogspot.com/2012/04/how-to-read-multiple-rc-channels-draft.html?showComment\x3d1343406583632#c1398078571204408191', 'author': {'name': 'Can_I_Trade?', 'avatarUrl': '//img2.blogblog.com/img/b16-rounded.gif', 'profileUrl': 'https://www.blogger.com/profile/07867684474123805993'}, 'displayTime': 'July 27, 2012 at 9:29 AM', 'deleteclass': 'item-control blog-admin pid-195722605'}, {'id': '727516544022261933', 'body': 'I\x26#39;m using the digital pin numbers, but no matter what is input, the output remains .38 volts. Also none of my Serial.prints are actually being printed which makes me think something is hanging up somewhere. Any more ideas?', 'timestamp': '1343408342659', 'permalink': 'http://rcarduino.blogspot.com/2012/04/how-to-read-multiple-rc-channels-draft.html?showComment\x3d1343408342659#c727516544022261933', 'author': {'name': 'Steven', 'avatarUrl': '//img1.blogblog.com/img/blank.gif', 'profileUrl': ''}, 'displayTime': 'July 27, 2012 at 9:59 AM', 'deleteclass': 'item-control blog-admin pid-1160363245'}, {'id': '3775094112615644527', 'body': 'Its probably something simple, post your code and forget about the volts. Servo signals are mostly empty space as explained in part one - your multi meter can\x26#39;t tell you this so it comes up with .38 volts - 5 volts for 10% of the time \x3d more or less .5 volts.\x3cbr /\x3e\x3cbr /\x3eDuane.', 'timestamp': '1343414022679', 'permalink': 'http://rcarduino.blogspot.com/2012/04/how-to-read-multiple-rc-channels-draft.html?showComment\x3d1343414022679#c3775094112615644527', 'author': {'name': 'Can_I_Trade?', 'avatarUrl': '//img2.blogblog.com/img/b16-rounded.gif', 'profileUrl': 'https://www.blogger.com/profile/07867684474123805993'}, 'displayTime': 'July 27, 2012 at 11:33 AM', 'deleteclass': 'item-control blog-admin pid-195722605'}, {'id': '2886690247900420115', 'body': 'I can\x26#39;t post it all. It is the example code with the ports changed to 3, 2, and 18 and the PCintPort::s removed.\x3cbr /\x3e\x3cbr /\x3e// include the pinchangeint library - see the links in the related topics section above for details\x3cbr /\x3e//#include \x3cbr /\x3e\x3cbr /\x3e#include \x3cbr /\x3e\x3cbr /\x3e// Assign your channel in pins\x3cbr /\x3e#define THROTTLE_IN_PIN 3\x3cbr /\x3e#define STEERING_IN_PIN 2\x3cbr /\x3e#define AUX_IN_PIN 18\x3cbr /\x3e\x3cbr /\x3e// Assign your channel out pins\x3cbr /\x3e#define THROTTLE_OUT_PIN 8\x3cbr /\x3e#define STEERING_OUT_PIN 9\x3cbr /\x3e#define AUX_OUT_PIN 10\x3cbr /\x3e\x3cbr /\x3evoid setup()\x3cbr /\x3e{\x3cbr /\x3e  Serial.begin(9600);\x3cbr /\x3e  \x3cbr /\x3e  Serial.println(\x26quot;multiChannels\x26quot;);\x3cbr /\x3e\x3cbr /\x3e  // attach servo objects, these will generate the correct \x3cbr /\x3e  // pulses for driving Electronic speed controllers, servos or other devices\x3cbr /\x3e  // designed to interface directly with RC Receivers  \x3cbr /\x3e  servoThrottle.attach(THROTTLE_OUT_PIN);\x3cbr /\x3e  servoSteering.attach(STEERING_OUT_PIN);\x3cbr /\x3e  servoAux.attach(AUX_OUT_PIN);\x3cbr /\x3e\x3cbr /\x3e  // using the PinChangeInt library, attach the interrupts\x3cbr /\x3e  // used to read the channels\x3cbr /\x3e  attachInterrupt(THROTTLE_IN_PIN, calcThrottle,CHANGE); \x3cbr /\x3e  attachInterrupt(STEERING_IN_PIN, calcSteering,CHANGE); \x3cbr /\x3e  attachInterrupt(AUX_IN_PIN, calcAux,CHANGE); \x3cbr /\x3e}', 'timestamp': '1343423408786', 'permalink': 'http://rcarduino.blogspot.com/2012/04/how-to-read-multiple-rc-channels-draft.html?showComment\x3d1343423408786#c2886690247900420115', 'author': {'name': 'Steven', 'avatarUrl': '//img1.blogblog.com/img/blank.gif', 'profileUrl': ''}, 'displayTime': 'July 27, 2012 at 2:10 PM', 'deleteclass': 'item-control blog-admin pid-1160363245'}, {'id': '1894635560601706969', 'body': 'Try this test, first disconnect any external circuitry, then uses the defines below. What I am doing is using the Servo object to output a test signal on the interrupt pins, the output will quickly go out of range because small errors will feedback into themselves but you should see readings starting at around 1500us and quickly ramping up or down as the errors accumulate. Once this works we can figure out which pins to use to drive external components.\x3cbr /\x3e\x3cbr /\x3e// Assign your channel in pins\x3cbr /\x3e#define THROTTLE_IN_PIN 0\x3cbr /\x3e#define STEERING_IN_PIN 1\x3cbr /\x3e#define AUX_IN_PIN 2\x3cbr /\x3e\x3cbr /\x3e// Assign your channel out pins\x3cbr /\x3e#define THROTTLE_OUT_PIN 2\x3cbr /\x3e#define STEERING_OUT_PIN 3\x3cbr /\x3e#define AUX_OUT_PIN 21\x3cbr /\x3e\x3cbr /\x3eAs above, the output pins are mapped to themselves using the Mega interrupt to digital pin number mapping outlined in the first paragraph of this link - http://arduino.cc/it/Reference/AttachInterrupt\x3cbr /\x3e\x3cbr /\x3eDuane B.', 'timestamp': '1343451087450', 'permalink': 'http://rcarduino.blogspot.com/2012/04/how-to-read-multiple-rc-channels-draft.html?showComment\x3d1343451087450#c1894635560601706969', 'author': {'name': 'Can_I_Trade?', 'avatarUrl': '//img2.blogblog.com/img/b16-rounded.gif', 'profileUrl': 'https://www.blogger.com/profile/07867684474123805993'}, 'displayTime': 'July 27, 2012 at 9:51 PM', 'deleteclass': 'item-control blog-admin pid-195722605'}, {'id': '4845768453287840141', 'body': 'Hi Steven,\x3cbr /\x3e   Looking at your Mega code and the online documentation for attachInterrupt - \x3cbr /\x3e\x3cbr /\x3eMost Arduino boards have two external interrupts: numbers 0 (on digital pin 2) and 1 (on digital pin 3). The Arduino Mega has an additional four: numbers 2 (pin 21), 3 (pin 20), 4 (pin 19), and 5 (pin 18). \x3cbr /\x3e\x3cbr /\x3eI can see that you are attaching your interrupts to the wrong pins.\x3cbr /\x3e\x3cbr /\x3eThe problem comes from the fact that attachInterrupt takes the interrupt number, but digitalRead uses the digital pin number. Its not a problem with pinchangeint because the library uses digital pin numbers, but using attachInterrupt you will need to do the following - \x3cbr /\x3e\x3cbr /\x3eTo fix this, make the following changes - \x3cbr /\x3e\x3cbr /\x3e// Assign your channel in pins, these are pin numbers for use in digitalRead\x3cbr /\x3e#define THROTTLE_IN_PIN 2 // Pin 2 \x3d Interrupt 0\x3cbr /\x3e#define STEERING_IN_PIN 3 // pin 3 \x3d Interrupt 1\x3cbr /\x3e#define AUX_IN_PIN 21      // pin 21 \x3d Interrupt 2\x3cbr /\x3e\x3cbr /\x3eAdd this -\x3cbr /\x3e\x3cbr /\x3e// Assign interrupt numbers, we will only use these in setup \x3cbr /\x3e#define THROTTLE_IN_INTERRUPT 0 // Pin 2 \x3d Interrupt 0\x3cbr /\x3e#define STEERING_IN_INTERRUPT 1 // pin 3 \x3d Interrupt 1\x3cbr /\x3e#define AUX_IN_INTERRUPT 2      // pin 21 \x3d Interrupt 2\x3cbr /\x3e\x3cbr /\x3eNow in setup use - \x3cbr /\x3e\x3cbr /\x3eattachInterrupt(THROTTLE_IN_INTERRUPT, calcThrottle,CHANGE);\x3cbr /\x3eattachInterrupt(STEERING_IN_INTERRUPT, calcSteering,CHANGE);\x3cbr /\x3eattachInterrupt(AUX_IN_INTERRUPT, calcAux,CHANGE); \x3cbr /\x3e\x3cbr /\x3eIf you want to change pins, refer to the attachInterrupt documentation for the mapping between Mega pins and interrupts.\x3cbr /\x3e\x3cbr /\x3eDuane B.', 'timestamp': '1343466693960', 'permalink': 'http://rcarduino.blogspot.com/2012/04/how-to-read-multiple-rc-channels-draft.html?showComment\x3d1343466693960#c4845768453287840141', 'author': {'name': 'Can_I_Trade?', 'avatarUrl': '//img2.blogblog.com/img/b16-rounded.gif', 'profileUrl': 'https://www.blogger.com/profile/07867684474123805993'}, 'displayTime': 'July 28, 2012 at 2:11 AM', 'deleteclass': 'item-control blog-admin pid-195722605'}, {'id': '6391890267514905534', 'body': 'Thank you so much Duane. I had tried adding in the interrupt and pin ports earlier, but it didn\x26#39;t work. Maybe I missed something last time. Thanks again for all your work developing and supporting your guides.', 'timestamp': '1343476601208', 'permalink': 'http://rcarduino.blogspot.com/2012/04/how-to-read-multiple-rc-channels-draft.html?showComment\x3d1343476601208#c6391890267514905534', 'author': {'name': 'Steven', 'avatarUrl': '//img1.blogblog.com/img/blank.gif', 'profileUrl': ''}, 'displayTime': 'July 28, 2012 at 4:56 AM', 'deleteclass': 'item-control blog-admin pid-1160363245'}, {'id': '2059885962064367295', 'body': 'Thanks for this great posts!\x3cbr /\x3e\x3cbr /\x3eAs I see you are using 3 pins for the 3 signals. Is it possible to use this approach (http://diydrones.com/profiles/blogs/705844:BlogPost:38393) - reading the sum signal - with your method? If yes, how?\x3cbr /\x3eDo you think, it will help to increase performance?', 'timestamp': '1346742009782', 'permalink': 'http://rcarduino.blogspot.com/2012/04/how-to-read-multiple-rc-channels-draft.html?showComment\x3d1346742009782#c2059885962064367295', 'author': {'name': 'Kai Laborenz', 'avatarUrl': '//lh4.googleusercontent.com/-4bFbezQAOdQ/AAAAAAAAAAI/AAAAAAAAAB8/oa34DroClXQ/s35-c/photo.jpg', 'profileUrl': 'https://www.blogger.com/profile/08192216079022016311'}, 'displayTime': 'September 4, 2012 at 12:00 AM', 'deleteclass': 'item-control blog-admin pid-1461526927'}, {'id': '7102399501649164072', 'body': 'Hi, Personally I prefer to use three pins if I have the three decoded signals available. I have tried reading the single stream, but have found it less resilient to noise - everything works on the kitchen table, but at speed and distance its a lot more complicated - so if you have the three, four, five or six channels available individually from you receiver I would personally trust the existing decode software/hardware rather than take it out of the loop and reinvent it just to save a few pins. Duane B', 'timestamp': '1346780505499', 'permalink': 'http://rcarduino.blogspot.com/2012/04/how-to-read-multiple-rc-channels-draft.html?showComment\x3d1346780505499#c7102399501649164072', 'author': {'name': 'Can_I_Trade?', 'avatarUrl': '//img2.blogblog.com/img/b16-rounded.gif', 'profileUrl': 'https://www.blogger.com/profile/07867684474123805993'}, 'displayTime': 'September 4, 2012 at 10:41 AM', 'deleteclass': 'item-control blog-admin pid-195722605'}, {'id': '887615432750296916', 'body': 'Great post. One interesting note on enabling/disabling interrupts - you might like to use the following as provided by avr/atomic.h:\x3cbr /\x3e\x3cbr /\x3eATOMIC_BLOCK ( ATOMIC_RESTORESTATE ) {\x3cbr /\x3e   //copy to local\x3cbr /\x3e}\x3cbr /\x3e\x3cbr /\x3eThis can replace the following code and takes care of restoring SREG correctly:\x3cbr /\x3e\x3cbr /\x3enoInterrupts();\x3cbr /\x3e///copy to local\x3cbr /\x3einterrupts();', 'timestamp': '1348494262207', 'permalink': 'http://rcarduino.blogspot.com/2012/04/how-to-read-multiple-rc-channels-draft.html?showComment\x3d1348494262207#c887615432750296916', 'author': {'name': 'Arun Horne', 'avatarUrl': '//img2.blogblog.com/img/b16-rounded.gif', 'profileUrl': 'https://www.blogger.com/profile/13047206286596519463'}, 'displayTime': 'September 24, 2012 at 6:44 AM', 'deleteclass': 'item-control blog-admin pid-1250445810'}, {'id': '5502737218269517146', 'body': '(Sorry, docs for above -\x26gt; http://www.nongnu.org/avr-libc/user-manual/group__util__atomic.html#gaaaea265b31dabcfb3098bec7685c39e4)', 'timestamp': '1348497729960', 'permalink': 'http://rcarduino.blogspot.com/2012/04/how-to-read-multiple-rc-channels-draft.html?showComment\x3d1348497729960#c5502737218269517146', 'author': {'name': 'Arun Horne', 'avatarUrl': '//img2.blogblog.com/img/b16-rounded.gif', 'profileUrl': 'https://www.blogger.com/profile/13047206286596519463'}, 'displayTime': 'September 24, 2012 at 7:42 AM', 'deleteclass': 'item-control blog-admin pid-1250445810'}, {'id': '5920686414578664669', 'body': 'Hi, There are a few things that can be done to optimize this code, but I spent a long time thinking about whether to optimize it or make it as readable as possible. In the end I went for readable and given the number of people that are now successfully using the code I think it was the right choice. In a few weeks I will post a follow up with two or three optimizations for people who are familiar with the code as it stands and want to progress. One of them will be accessing SREG directly, the others will trim a few microseconds from the ISRs - however given that there are faster Arduino compatibles based on different processors coming soon - teensie 3.0 and Arduino Due - it might be better to stay at the high level for portability. Duane B\x3cbr /\x3e ', 'timestamp': '1348509222410', 'permalink': 'http://rcarduino.blogspot.com/2012/04/how-to-read-multiple-rc-channels-draft.html?showComment\x3d1348509222410#c5920686414578664669', 'author': {'name': 'Can_I_Trade?', 'avatarUrl': '//img2.blogblog.com/img/b16-rounded.gif', 'profileUrl': 'https://www.blogger.com/profile/07867684474123805993'}, 'displayTime': 'September 24, 2012 at 10:53 AM', 'deleteclass': 'item-control blog-admin pid-195722605'}, {'id': '8375335711915113620', 'body': 'Hello,\x3cbr /\x3eI am having an unusual problem. When I load the code from my laptop and leave it plugged in, everything works perfectly. I am powering my receiver from the 5v output from the arduino. However, when I unplug the board and power it from my battery, my servos do not move at all. Same issue if I power the receiver from  a seperate battery. Any advice??\x3cbr /\x3eThanks in advance.', 'timestamp': '1350169442570', 'permalink': 'http://rcarduino.blogspot.com/2012/04/how-to-read-multiple-rc-channels-draft.html?showComment\x3d1350169442570#c8375335711915113620', 'author': {'name': 'Brett Smith', 'avatarUrl': '//img2.blogblog.com/img/b16-rounded.gif', 'profileUrl': 'https://www.blogger.com/profile/10523943804657602216'}, 'displayTime': 'October 13, 2012 at 4:04 PM', 'deleteclass': 'item-control blog-admin pid-1066458986'}, {'id': '1748844904513017574', 'body': 'Hi,\x3cbr /\x3eThis is normally something to do with the way your standalone project is wired, I am snowed under at the moment so your best bet will be to start a topic on the Arduino forum and include a diagram of your standalone circuit.\x3cbr /\x3e\x3cbr /\x3eDuane B', 'timestamp': '1350214063493', 'permalink': 'http://rcarduino.blogspot.com/2012/04/how-to-read-multiple-rc-channels-draft.html?showComment\x3d1350214063493#c1748844904513017574', 'author': {'name': 'Can_I_Trade?', 'avatarUrl': '//img2.blogblog.com/img/b16-rounded.gif', 'profileUrl': 'https://www.blogger.com/profile/07867684474123805993'}, 'displayTime': 'October 14, 2012 at 4:27 AM', 'deleteclass': 'item-control blog-admin pid-195722605'}, {'id': '6482080502051393347', 'body': 'If you do, let me know and I will take a look at it\x3cbr /\x3e\x3cbr /\x3eDuane B', 'timestamp': '1350215446164', 'permalink': 'http://rcarduino.blogspot.com/2012/04/how-to-read-multiple-rc-channels-draft.html?showComment\x3d1350215446164#c6482080502051393347', 'author': {'name': 'Can_I_Trade?', 'avatarUrl': '//img2.blogblog.com/img/b16-rounded.gif', 'profileUrl': 'https://www.blogger.com/profile/07867684474123805993'}, 'displayTime': 'October 14, 2012 at 4:50 AM', 'deleteclass': 'item-control blog-admin pid-195722605'}, {'id': '3173187285391383487', 'body': 'Hi Duane\x3cbr /\x3eThanks for this extensive in-depth explanation.\x3cbr /\x3eI have 2 questions about the code that are (as far as I see) not yet answered. I need some text to explain my questions so please bear with me.\x3cbr /\x3e\x3cbr /\x3eIn your main loop in the part that copies the volatile reads to the local reads there id a test on the flag for each copy. \x3cbr /\x3e   if(bUpdateFlags \x26amp; THROTTLE_FLAG)\x3cbr /\x3e   {\x3cbr /\x3e     RC_Channel_1_Value \x3d unThrottleInShared;\x3cbr /\x3e   }\x3cbr /\x3eFrom what I understand the test is not needed and is increasing the time you are in the interrupt blocking code. \x3cbr /\x3eI think the condition is not needed because interrupts themselves can not be interrupted so you can not read incorrect values. As to my understanding the flag and the value are always in sync.\x3cbr /\x3eThere may be a startup sync problem (before the very first read on each channel) but as your code uses the flag to action the values your code as is would handle this properly.\x3cbr /\x3e\x3cbr /\x3eMy first question is: Do you see any drawbacks of replacing the conditional copy by a plain copy.\x3cbr /\x3e\x3cbr /\x3eContinue thinking in the same way: Do you see a real life drawback of replacing\x3cbr /\x3e    if (bUpdateFlags \x26amp; THROTTLE_FLAG){\x3cbr /\x3e      copy volatile vars\x3cbr /\x3e    }\x3cbr /\x3e    conditionally do actions\x3cbr /\x3e\x3cbr /\x3eby \x3cbr /\x3eif (bUpdateFlags \x26amp; (THROTTLE_FLAG | STEERING_FLAG | AUX_FLAG  )  ) {\x3cbr /\x3e      copy volatile vars\x3cbr /\x3e      do actions\x3cbr /\x3e    }\x3cbr /\x3eI realize this will reduce the response time as you are waiting for all channels to arrive before acting upon them. I can imagine that someone who wants to get everything out of his material prefers your proposal. But would this make a difference to someone who does not want to squeeze everything out of his material?\x3cbr /\x3e\x3cbr /\x3eSo my second question is: Can you as an RC specialist give your opinion whether \x26quot;waiting for all channels\x26quot; will make any difference in the world of \x26quot;standard users\x26quot;.\x3cbr /\x3e\x3cbr /\x3eBest regards\x3cbr /\x3eJantje', 'timestamp': '1351023216082', 'permalink': 'http://rcarduino.blogspot.com/2012/04/how-to-read-multiple-rc-channels-draft.html?showComment\x3d1351023216082#c3173187285391383487', 'author': {'name': 'jan Baeyens', 'avatarUrl': '//img1.blogblog.com/img/blank.gif', 'profileUrl': 'http://eclipse.baeyens.it'}, 'displayTime': 'October 23, 2012 at 1:13 PM', 'deleteclass': 'item-control blog-admin pid-1155490428'}, {'id': '661205000296016621', 'body': 'Rofl\x3cbr /\x3eSorry just read this in the code\x3cbr /\x3e   // in the current code, the shared values are always populated\x3cbr /\x3e   // so we could copy them without testing the flags\x3cbr /\x3e   // however in the future this could change, so lets\x3cbr /\x3e   // only copy when the flags tell us we can.\x3cbr /\x3eMy second question still stands (for now)\x3cbr /\x3e\x3cbr /\x3eBest regards\x3cbr /\x3eJantje', 'timestamp': '1351025440214', 'permalink': 'http://rcarduino.blogspot.com/2012/04/how-to-read-multiple-rc-channels-draft.html?showComment\x3d1351025440214#c661205000296016621', 'author': {'name': 'jan Baeyens', 'avatarUrl': '//img1.blogblog.com/img/blank.gif', 'profileUrl': 'http://eclipse.baeyens.it'}, 'displayTime': 'October 23, 2012 at 1:50 PM', 'deleteclass': 'item-control blog-admin pid-1155490428'}, {'id': '147377043435808144', 'body': 'To answer this question - Can you as an RC specialist give your opinion whether \x26quot;waiting for all channels\x26quot; will make any difference in the world of \x26quot;standard users\x26quot;. - It really depends on the application, for example if you are trying to stabalize something (quadcopters) or stop a skid developing (RC Car/yaw control) or optimise traction the faster you can respond to a developing condition the better. The difference between the code here and what you suggest is small, the difference between the code and using pulseIn or some other blocking approach is massive. I tend to treat the channels individually so that I can intercept a throttle or steering signal as soon as I have it rather than waiting a few additional uS for a complete frame worth of signals. Last night I came across some code I wrote in the summer that uses an alternative servo class to provide faster servo refresh and optimise the time spent in both the Servo and RC Channel ISRS. I will publish it in the next few days. Duane B', 'timestamp': '1351058567201', 'permalink': 'http://rcarduino.blogspot.com/2012/04/how-to-read-multiple-rc-channels-draft.html?showComment\x3d1351058567201#c147377043435808144', 'author': {'name': 'Can_I_Trade?', 'avatarUrl': '//img2.blogblog.com/img/b16-rounded.gif', 'profileUrl': 'https://www.blogger.com/profile/07867684474123805993'}, 'displayTime': 'October 23, 2012 at 11:02 PM', 'deleteclass': 'item-control blog-admin pid-195722605'}, {'id': '402349402746029567', 'body': 'Duane\x3cbr /\x3eThanks for the answer.\x3cbr /\x3eI\x26#39;m currently (amongst others) working on a library based on the code above.\x3cbr /\x3eThe idea is to hide the complexity in the library and keep the functional part in the code.\x3cbr /\x3e\x3cbr /\x3eThe pattern of a sketch would look like this:\x3cbr /\x3e#include \x26quot;PinChangeInt.h\x26quot;\x3cbr /\x3e#define NUM_RC_CHANNELS 5\x3cbr /\x3e\x3cbr /\x3e// Assign your pins to channels\x3cbr /\x3ePROGMEM const byte RC_Channel_Pin[NUM_RC_CHANNELS]\x3d{5,6,7,8,9};\x3cbr /\x3e// create local variables to hold a local copies of the channel inputs\x3cbr /\x3euint16_t RC_Channel_Value[NUM_RC_CHANNELS];\x3cbr /\x3e//assign interrupt functions to channels\x3cbr /\x3e#include \x26quot;RCLib.h\x26quot;\x3cbr /\x3e\x3cbr /\x3evoid setup()\x3cbr /\x3e{\x3cbr /\x3e //Serial.begin(9600);\x3cbr /\x3e\x3cbr /\x3e //Serial.println(\x26quot;multiChannels\x26quot;);\x3cbr /\x3e\x3cbr /\x3e // attach the interrupts used to read the channels\x3cbr /\x3e SetRCInterrupts();\x3cbr /\x3e\x3cbr /\x3e}\x3cbr /\x3e\x3cbr /\x3evoid loop()\x3cbr /\x3e{\x3cbr /\x3e\x3cbr /\x3e // If you want to wait for all channels to have reported the change you can use the code below\x3cbr /\x3e if(haveAllRCChannelsReceivedInfo())\x3cbr /\x3e {\x3cbr /\x3e   //do your channel actions here\x3cbr /\x3e  //The values received are in RC_Channel_Value[]\x3cbr /\x3e }\x3cbr /\x3e //End of: If you want to wait for all channels to have reported the change you can use the code below\x3cbr /\x3e\x3cbr /\x3e //If you prefer to react as soon as possible\x3cbr /\x3e uint8_t UpdateFlag \x3d getChannelsReceiveInfo();\x3cbr /\x3e if (UpdateFlag \x26amp; 1)\x3cbr /\x3e {\x3cbr /\x3e  //Channel 1 changed so do what needs to be done for a channel 1 change\x3cbr /\x3e }\x3cbr /\x3e //end of: If you prefer to react as soon as possible\x3cbr /\x3e}\x3cbr /\x3e\x3cbr /\x3eCan you tell me what you think?\x3cbr /\x3eBest regards\x3cbr /\x3eJantje', 'timestamp': '1351071753676', 'permalink': 'http://rcarduino.blogspot.com/2012/04/how-to-read-multiple-rc-channels-draft.html?showComment\x3d1351071753676#c402349402746029567', 'author': {'name': 'jan Baeyens', 'avatarUrl': '//img1.blogblog.com/img/blank.gif', 'profileUrl': 'http://eclipse.baeyens.it'}, 'displayTime': 'October 24, 2012 at 2:42 AM', 'deleteclass': 'item-control blog-admin pid-417906179'}, {'id': '6820591017341619035', 'body': 'I have stayed away from releasing a library because all of the array access and pin mapping slows things down a lot inside the ISR - too much for me to have ever been happy enough to release something - I have built a few different approaches including some fast low level ones but too much of it is either reinventing the wheel (re implementing pin change int ) or just not fast enough. The thing I like about this code is that it will move straight over to the new ARM platforms because its at a sufficiently high level and still gives good performance on the AVRs. Duane B', 'timestamp': '1351075786298', 'permalink': 'http://rcarduino.blogspot.com/2012/04/how-to-read-multiple-rc-channels-draft.html?showComment\x3d1351075786298#c6820591017341619035', 'author': {'name': 'Can_I_Trade?', 'avatarUrl': '//img2.blogblog.com/img/b16-rounded.gif', 'profileUrl': 'https://www.blogger.com/profile/07867684474123805993'}, 'displayTime': 'October 24, 2012 at 3:49 AM', 'deleteclass': 'item-control blog-admin pid-195722605'}, {'id': '4583261143770247193', 'body': 'Duane\x3cbr /\x3eI came to the conclusion that the answer to my question \x26quot;\x26quot;waiting for all channels\x26quot; will make any difference in the world of \x26quot;standard users\x26quot; is Yes, it does. Why? One broken line and all RC control is gone :-(. So I dumped the idea.\x3cbr /\x3e\x3cbr /\x3eThe library is going fine\x3cbr /\x3eThe usage is simple (internal it is not :-( ) and I have been able to test it on a duemilanove with the PinChangeInt library and without. I want to test it with a mega and leonardo this weekend.\x3cbr /\x3eI\x26#39;m fighting PROGMEM because it changes the actual values read. I\x26#39;m not sure what to think about that.\x3cbr /\x3eBest regards\x3cbr /\x3eJantje\x3cbr /\x3e', 'timestamp': '1351264625191', 'permalink': 'http://rcarduino.blogspot.com/2012/04/how-to-read-multiple-rc-channels-draft.html?showComment\x3d1351264625191#c4583261143770247193', 'author': {'name': 'jan Baeyens', 'avatarUrl': '//img1.blogblog.com/img/blank.gif', 'profileUrl': 'http://eclipse.baeyens.it'}, 'displayTime': 'October 26, 2012 at 8:17 AM', 'deleteclass': 'item-control blog-admin pid-863480191'}, {'id': '8607137481291491192', 'parentId': '4583261143770247193', 'body': 'Why PROGMEM ?\x3cbr /\x3e\x3cbr /\x3eDuane', 'timestamp': '1351440478821', 'permalink': 'http://rcarduino.blogspot.com/2012/04/how-to-read-multiple-rc-channels-draft.html?showComment\x3d1351440478821#c8607137481291491192', 'author': {'name': 'Can_I_Trade?', 'avatarUrl': '//img2.blogblog.com/img/b16-rounded.gif', 'profileUrl': 'https://www.blogger.com/profile/07867684474123805993'}, 'displayTime': 'October 28, 2012 at 9:07 AM', 'deleteclass': 'item-control blog-admin pid-195722605'}, {'id': '7088636818596825026', 'parentId': '4583261143770247193', 'body': 'Hi Duane\x3cbr /\x3eSorry I missed this remark.\x3cbr /\x3eI need PROGMEM to store fixed values needed. one example is to be able to map pins to interrupts.\x3cbr /\x3eIt works fine now but I  get to many warnings in regards to progmem which hides the warnings I create.\x3cbr /\x3eYou can see my lib at https://github.com/jantje/libraries\x3cbr /\x3eI didn\x26#39;t do any testing but I assume I get very similar speed measurements as to your code and it is lots easier to write.\x3cbr /\x3eFor instance if you do not include pinchangeint you use the arduino attachInterrupt() and pins.\x3cbr /\x3eIf you include pinchangeint you automatically use the pinchangeint attachInterrupt() and pins.\x3cbr /\x3eOch the code is dirty (I mean hard to read) because I extensively used MACRO\x26#39;s to solve problems because I wanted \x26quot;fast code\x26quot; rather that \x26quot;readable code\x26quot;\x3cbr /\x3eTell me what you think about it.\x3cbr /\x3eBest regards\x3cbr /\x3eJantje', 'timestamp': '1351553606744', 'permalink': 'http://rcarduino.blogspot.com/2012/04/how-to-read-multiple-rc-channels-draft.html?showComment\x3d1351553606744#c7088636818596825026', 'author': {'name': 'jan', 'avatarUrl': '//img2.blogblog.com/img/b16-rounded.gif', 'profileUrl': 'https://www.blogger.com/profile/03000823057849953778'}, 'displayTime': 'October 29, 2012 at 4:33 PM', 'deleteclass': 'item-control blog-admin pid-685214817'}, {'id': '8673980785192807875', 'body': 'I\x26#39;m not sure I see why you\x26#39;re using Servo as an output routine. What would be wrong with simply echoing what the input pins do? \x3cbr /\x3e\x3cbr /\x3eFor example, the throttle input rises and triggers the ISR to simply set the throttle output pin. Likewise, a falling pin would simply trigger the ISR to clear the throttle output pin. ', 'timestamp': '1353663137684', 'permalink': 'http://rcarduino.blogspot.com/2012/04/how-to-read-multiple-rc-channels-draft.html?showComment\x3d1353663137684#c8673980785192807875', 'author': {'name': 'Anonymous', 'avatarUrl': '//img1.blogblog.com/img/blank.gif', 'profileUrl': ''}, 'displayTime': 'November 23, 2012 at 1:32 AM', 'deleteclass': 'item-control blog-admin pid-1645271770'}, {'id': '6601446281855857123', 'body': 'If all you ever wanted to do was read the input and pass it straight to the output, there would be no need for the Arduino at all. My expectation is that once people are reading the input and are confident that the servo library output does what they expect, they will do something more interesting, as an example see this - \x3cbr /\x3e\x3cbr /\x3ehttp://rcarduino.blogspot.com/2012/07/rcarduino-yaw-control-part-2.html\x3cbr /\x3e\x3cbr /\x3eor this - \x3cbr /\x3e\x3cbr /\x3ehttp://rcarduino.blogspot.com/2012/05/interfacing-rc-channels-to-l293d-motor.html\x3cbr /\x3e\x3cbr /\x3eor this -\x3cbr /\x3e\x3cbr /\x3ehttp://rcarduino.blogspot.com/2012/01/traction-control-part-13-we-have.html\x3cbr /\x3e\x3cbr /\x3eDuane B', 'timestamp': '1353670641087', 'permalink': 'http://rcarduino.blogspot.com/2012/04/how-to-read-multiple-rc-channels-draft.html?showComment\x3d1353670641087#c6601446281855857123', 'author': {'name': 'Can_I_Trade?', 'avatarUrl': '//img2.blogblog.com/img/b16-rounded.gif', 'profileUrl': 'https://www.blogger.com/profile/07867684474123805993'}, 'displayTime': 'November 23, 2012 at 3:37 AM', 'deleteclass': 'item-control blog-admin pid-195722605'}, {'id': '4780930212047871269', 'body': 'When reading the serial output, should the be a specific value or is a small variance normal..\x3cbr /\x3e\x3cbr /\x3ei.e.\x3cbr /\x3e\x3cbr /\x3eThrottle (F) 1908/1912\x3cbr /\x3eThrottle (N) 1508/1512\x3cbr /\x3eThrottle (R) 1112/1116\x3cbr /\x3e\x3cbr /\x3eSteering (R) 1908/1912\x3cbr /\x3eSteering (N) 1512/1516\x3cbr /\x3eSteering (L) 1112/1116', 'timestamp': '1353918996579', 'permalink': 'http://rcarduino.blogspot.com/2012/04/how-to-read-multiple-rc-channels-draft.html?showComment\x3d1353918996579#c4780930212047871269', 'author': {'name': 'Anonymous', 'avatarUrl': '//img1.blogblog.com/img/blank.gif', 'profileUrl': ''}, 'displayTime': 'November 26, 2012 at 12:36 AM', 'deleteclass': 'item-control blog-admin pid-1676968692'}, {'id': '9043905439765437985', 'body': 'The small variance is normal, you can find an explanation and recommendations for reducing it here but note that its generally not enough to move a servo or ESC and is also smaller than the general level of radio interference you can expect, see - \x3cbr /\x3e\x3cbr /\x3eexplanation and reduction\x3cbr /\x3ehttp://rcarduino.blogspot.com/2012/11/how-to-read-rc-channels-rcarduinofastlib.html\x3cbr /\x3e\x3cbr /\x3eradio interference illustration\x3cbr /\x3ehttp://rcarduino.blogspot.com/2012/03/reading-from-rc-reveiver-do-you-need.html\x3cbr /\x3e\x3cbr /\x3eDuane B', 'timestamp': '1353931399531', 'permalink': 'http://rcarduino.blogspot.com/2012/04/how-to-read-multiple-rc-channels-draft.html?showComment\x3d1353931399531#c9043905439765437985', 'author': {'name': 'Can_I_Trade?', 'avatarUrl': '//img2.blogblog.com/img/b16-rounded.gif', 'profileUrl': 'https://www.blogger.com/profile/07867684474123805993'}, 'displayTime': 'November 26, 2012 at 4:03 AM', 'deleteclass': 'item-control blog-admin pid-195722605'}, {'id': '3786948993767698818', 'body': 'Duane, thank you for your code and for all of the help you offer to all of us!', 'timestamp': '1353977068561', 'permalink': 'http://rcarduino.blogspot.com/2012/04/how-to-read-multiple-rc-channels-draft.html?showComment\x3d1353977068561#c3786948993767698818', 'author': {'name': 'Anonymous', 'avatarUrl': '//img1.blogblog.com/img/blank.gif', 'profileUrl': ''}, 'displayTime': 'November 26, 2012 at 4:44 PM', 'deleteclass': 'item-control blog-admin pid-1676968692'}, {'id': '2485731312918924994', 'body': 'Hi Duane,\x3cbr /\x3e+1 to anonymous ^. Thanks for this set of posts, they\x26#39;re really informative and well written.\x3cbr /\x3e\x3cbr /\x3eI\x26#39;ve been programming with visual C# for a while now so I\x26#39;m competent in basic programming, but have very little idea about interrupts.\x3cbr /\x3eFor a university project I\x26#39;m trying to make an autopilot routine for a quadcopter, plugging an arduino uno between the Rx and the quadcopter\x26#39;s brain.\x3cbr /\x3eWith my extremely limited knowledge of interrupts I\x26#39;ve tried to extend your code above to more channels, but it\x26#39;s not working.\x3cbr /\x3e\x3cbr /\x3eCould I ask you a favour? Would it take up much of your time to put up a second example somewhere that does the same thing but for, say, 8 channels?\x3cbr /\x3e\x3cbr /\x3eI\x26#39;ve searched everywhere ever for similar code that works for 6 or 8 channels, but there is only stuff involving using Timer1, which, from what i\x26#39;ve read (see: some of your own comments) cannot be used in conjunction with the servo library. I think there would be a lot of people out there including me who would be very grateful for an 8 channel PWM reader + passthrough.\x3cbr /\x3e\x3cbr /\x3ePreemptive Thanks,\x3cbr /\x3ePatrick L\x3cbr /\x3e\x3cbr /\x3eP.S. This Arduino stuff seems really cool and I\x26#39;m definitely going to learn how to use interrupts in the future but for this particular projects time is short and the only thing holding me up is making the arduino invisible when autopilot is inactive.', 'timestamp': '1354377918097', 'permalink': 'http://rcarduino.blogspot.com/2012/04/how-to-read-multiple-rc-channels-draft.html?showComment\x3d1354377918097#c2485731312918924994', 'author': {'name': 'Patrick L', 'avatarUrl': '//img2.blogblog.com/img/b16-rounded.gif', 'profileUrl': 'https://www.blogger.com/profile/09544231450431792536'}, 'displayTime': 'December 1, 2012 at 8:05 AM', 'deleteclass': 'item-control blog-admin pid-837435026'}, {'id': '3504432287110608807', 'body': 'To add more channels, its simply a case of cutting and pasting. The code is organized into clear sections, for example the three channel input pins are define, then the output put pins, then the variables to hold the values and so it continues throughout. To add an additional channel, look through the code line by line and wherever you see the Aux channel referenced, copy it and rename it to add your new channel. It really is that easy. Duane B', 'timestamp': '1354382496538', 'permalink': 'http://rcarduino.blogspot.com/2012/04/how-to-read-multiple-rc-channels-draft.html?showComment\x3d1354382496538#c3504432287110608807', 'author': {'name': 'Can_I_Trade?', 'avatarUrl': '//img2.blogblog.com/img/b16-rounded.gif', 'profileUrl': 'https://www.blogger.com/profile/07867684474123805993'}, 'displayTime': 'December 1, 2012 at 9:21 AM', 'deleteclass': 'item-control blog-admin pid-195722605'}, {'id': '7089337598455092391', 'body': 'What you mean I actually have to work to get what I want?! Even if \x26#39;working\x26#39; is just copying and pasting XD\x3cbr /\x3e\x3cbr /\x3eFirst I have a couple of questions.\x3cbr /\x3e1) Why did you not start at pin 1?\x3cbr /\x3e\x3cbr /\x3e2) Do the Flags assigned at 1,2 and 4 have any relation to pins, or are they their own set of numbers? (i.e. can I have a pin 1 as well as a flag 1?)\x3cbr /\x3e\x3cbr /\x3e3)Why did you skip flag 3?\x3cbr /\x3e\x3cbr /\x3eSo I did added another channel the way you said, but my quadcopter won\x26#39;t arm, meaning the 4th Channel isn\x26#39;t right. When I print servoAux2.readMicroseconds and unAux2In to serial they\x26#39;re exactly the same but the correct PWM is definitely not getting to the \x26#39;copter.\x3cbr /\x3e\x3cbr /\x3eAny ideas why?\x3cbr /\x3eI\x26#39;m hoping you\x26#39;re going to say \x26#39;ah this is a common problem...\x26#39;\x3cbr /\x3e\x3cbr /\x3eThe code is here if you\x26#39;re interested\x3cbr /\x3ehttp://www.pastebucket.com/5242\x3cbr /\x3e\x3cbr /\x3eThanks again,\x3cbr /\x3ePatrick', 'timestamp': '1354458187516', 'permalink': 'http://rcarduino.blogspot.com/2012/04/how-to-read-multiple-rc-channels-draft.html?showComment\x3d1354458187516#c7089337598455092391', 'author': {'name': 'Patrick L', 'avatarUrl': '//img2.blogblog.com/img/b16-rounded.gif', 'profileUrl': 'https://www.blogger.com/profile/09544231450431792536'}, 'displayTime': 'December 2, 2012 at 6:23 AM', 'deleteclass': 'item-control blog-admin pid-837435026'}, {'id': '5807099098183014627', 'body': 'The flag is the only thing you have wrong, the flags are \x26#39;bit flags\x26#39; meaning each one relates to a different bit in a byte. Bits have the values 1,2,4,8,16,32,64 and 128, these are the values you should use for your flags, change 5 to 8 and your code looks as if it should work.\x3cbr /\x3e\x3cbr /\x3eDuane B', 'timestamp': '1354458544601', 'permalink': 'http://rcarduino.blogspot.com/2012/04/how-to-read-multiple-rc-channels-draft.html?showComment\x3d1354458544601#c5807099098183014627', 'author': {'name': 'Can_I_Trade?', 'avatarUrl': '//img2.blogblog.com/img/b16-rounded.gif', 'profileUrl': 'https://www.blogger.com/profile/07867684474123805993'}, 'displayTime': 'December 2, 2012 at 6:29 AM', 'deleteclass': 'item-control blog-admin pid-195722605'}, {'id': '6681363773689794209', 'body': 'haha not my code, /your/ code.\x3cbr /\x3eNope I changed the flag to 8 and still nothing happens.\x3cbr /\x3eIf I print servoAux2.readMicroseconds to serial, is what\x26#39;s on my screen definitely what\x26#39;s coming out of the pin? or not necessarily so?', 'timestamp': '1354468714512', 'permalink': 'http://rcarduino.blogspot.com/2012/04/how-to-read-multiple-rc-channels-draft.html?showComment\x3d1354468714512#c6681363773689794209', 'author': {'name': 'Patrick L', 'avatarUrl': '//img2.blogblog.com/img/b16-rounded.gif', 'profileUrl': 'https://www.blogger.com/profile/09544231450431792536'}, 'displayTime': 'December 2, 2012 at 9:18 AM', 'deleteclass': 'item-control blog-admin pid-837435026'}, {'id': '7054380294572246675', 'body': 'It is what is coming out of the pin, what does it show ? does it change if you move any or all of the transmitter controls ?\x3cbr /\x3e\x3cbr /\x3eDuane B', 'timestamp': '1354469518214', 'permalink': 'http://rcarduino.blogspot.com/2012/04/how-to-read-multiple-rc-channels-draft.html?showComment\x3d1354469518214#c7054380294572246675', 'author': {'name': 'Can_I_Trade?', 'avatarUrl': '//img2.blogblog.com/img/b16-rounded.gif', 'profileUrl': 'https://www.blogger.com/profile/07867684474123805993'}, 'displayTime': 'December 2, 2012 at 9:31 AM', 'deleteclass': 'item-control blog-admin pid-195722605'}, {'id': '5732707819961099511', 'parentId': '7054380294572246675', 'body': 'All the pins are putting out expected results - minimum ~1100 maximum ~1900.\x3cbr /\x3eI don\x26#39;t know if you know anything about quadcopters, but you have to arm them so they don\x26#39;t start spinning when you\x26#39;re too close.\x3cbr /\x3eThis is done by moving throttle to minimum and rudder to maximum.\x3cbr /\x3eWith my arduino plugged in, the arming light comes on when throttle is full regardless of rudder position, but after that no response from anything, and it disarms when throttle goes to minimum.\x3cbr /\x3e\x3cbr /\x3eCould  it be a conflict because the arduino is not outputting into esc\x26#39;s but into another microcontroller? is there something slightly off with timing or something which confuses the quadcopter brain?\x3cbr /\x3e\x3cbr /\x3ePatrick', 'timestamp': '1354500423876', 'permalink': 'http://rcarduino.blogspot.com/2012/04/how-to-read-multiple-rc-channels-draft.html?showComment\x3d1354500423876#c5732707819961099511', 'author': {'name': 'Patrick L', 'avatarUrl': '//img2.blogblog.com/img/b16-rounded.gif', 'profileUrl': 'https://www.blogger.com/profile/09544231450431792536'}, 'displayTime': 'December 2, 2012 at 6:07 PM', 'deleteclass': 'item-control blog-admin pid-837435026'}, {'id': '8580337761181761083', 'body': 'Hi, So what you have is the Arduino accepting and passing through all of your channels correct, but the second uC (microcontroller) is not passing these correctly on to the ESCs. Can you check that you have a common ground connection between the two uCs and also do you have an oscilloscope that you can check that the output of the second uC is following the output from the Arduino ? if not, try a servo.\x3cbr /\x3e\x3cbr /\x3eDuane B', 'timestamp': '1354523657446', 'permalink': 'http://rcarduino.blogspot.com/2012/04/how-to-read-multiple-rc-channels-draft.html?showComment\x3d1354523657446#c8580337761181761083', 'author': {'name': 'Can_I_Trade?', 'avatarUrl': '//img2.blogblog.com/img/b16-rounded.gif', 'profileUrl': 'https://www.blogger.com/profile/07867684474123805993'}, 'displayTime': 'December 3, 2012 at 12:34 AM', 'deleteclass': 'item-control blog-admin pid-195722605'}, {'id': '1146580639422992664', 'body': 'Hi!\x3cbr /\x3eDumb question, but where IS the library on your site? I see no download area. Sorry if i missed it.\x3cbr /\x3e\x3cbr /\x3eTom', 'timestamp': '1354764188955', 'permalink': 'http://rcarduino.blogspot.com/2012/04/how-to-read-multiple-rc-channels-draft.html?showComment\x3d1354764188955#c1146580639422992664', 'author': {'name': 'Anonymous', 'avatarUrl': '//img1.blogblog.com/img/blank.gif', 'profileUrl': ''}, 'displayTime': 'December 5, 2012 at 7:23 PM', 'deleteclass': 'item-control blog-admin pid-32507362'}, {'id': '6234705996341124810', 'body': 'There are quite a few libraries dotted around, which one are you looking for ?\x3cbr /\x3e\x3cbr /\x3eDuane B', 'timestamp': '1354773913425', 'permalink': 'http://rcarduino.blogspot.com/2012/04/how-to-read-multiple-rc-channels-draft.html?showComment\x3d1354773913425#c6234705996341124810', 'author': {'name': 'Can_I_Trade?', 'avatarUrl': '//img2.blogblog.com/img/b16-rounded.gif', 'profileUrl': 'https://www.blogger.com/profile/07867684474123805993'}, 'displayTime': 'December 5, 2012 at 10:05 PM', 'deleteclass': 'item-control blog-admin pid-195722605'}, {'id': '3460505761273726796', 'body': 'Hi Duane,\x3cbr /\x3e  Thanks for the great explanations.  Still a newb, but learning fast.  Wondering if you have any thoughts on how to work with 760 microsecond, 560 Hz high speed servos.  I\x26#39;ve been mucking with the servo.h library to try and get it to refresh faster, but I\x26#39;m honestly in way over my head on that :)\x3cbr /\x3eCheers,\x3cbr /\x3eJon', 'timestamp': '1358969931065', 'permalink': 'http://rcarduino.blogspot.com/2012/04/how-to-read-multiple-rc-channels-draft.html?showComment\x3d1358969931065#c3460505761273726796', 'author': {'name': 'jon', 'avatarUrl': '//img1.blogblog.com/img/blank.gif', 'profileUrl': ''}, 'displayTime': 'January 23, 2013 at 11:38 AM', 'deleteclass': 'item-control blog-admin pid-1418260286'}, {'id': '8502763063609509099', 'body': 'Hi Duane, i am a super new beginner. I am also struggling to get a RC car moving using a Futaba recevier and transmitter. For the above project , do you happen to have the full schematic diagram? A Thousand thanks for your assistance', 'timestamp': '1361115597524', 'permalink': 'http://rcarduino.blogspot.com/2012/04/how-to-read-multiple-rc-channels-draft.html?showComment\x3d1361115597524#c8502763063609509099', 'author': {'name': 'chan', 'avatarUrl': '//img1.blogblog.com/img/blank.gif', 'profileUrl': 'http://nourlyet.com'}, 'displayTime': 'February 17, 2013 at 7:39 AM', 'deleteclass': 'item-control blog-admin pid-1799951052'}, {'id': '6801044875823201828', 'body': 'Hi, I dont have a schematic, but the only thing you really need to think about is how are you going to power the Arduino. WhAt type of baTtery is powering the car and how many volts is it ?\x3cbr /\x3e\x3cbr /\x3eDuane B\x3cbr /\x3e', 'timestamp': '1361124182547', 'permalink': 'http://rcarduino.blogspot.com/2012/04/how-to-read-multiple-rc-channels-draft.html?showComment\x3d1361124182547#c6801044875823201828', 'author': {'name': 'Can_I_Trade?', 'avatarUrl': '//img2.blogblog.com/img/b16-rounded.gif', 'profileUrl': 'https://www.blogger.com/profile/07867684474123805993'}, 'displayTime': 'February 17, 2013 at 10:03 AM', 'deleteclass': 'item-control blog-admin pid-195722605'}, {'id': '8204511934620567598', 'body': 'Hi I am new to all of this, i load the single channel code and all worked fine.  Now having load the above code all i see in the serial monitor is tyhe word \x26quot;multi channels\x26quot;  i have confirmed the the RC RX is working and giving oit data.  I have tried using a MEGA 2560 and UNO board and it does the same?', 'timestamp': '1361381970554', 'permalink': 'http://rcarduino.blogspot.com/2012/04/how-to-read-multiple-rc-channels-draft.html?showComment\x3d1361381970554#c8204511934620567598', 'author': {'name': 'Anonymous', 'avatarUrl': '//img1.blogblog.com/img/blank.gif', 'profileUrl': ''}, 'displayTime': 'February 20, 2013 at 9:39 AM', 'deleteclass': 'item-control blog-admin pid-336586914'}, {'id': '2205647210960524480', 'body': 'Hi, If you read through the code you will see that it does not attempt to output to serial, instead it directly controls servos attached to pins 8,9 or 10.\x3cbr /\x3e\x3cbr /\x3eIf you dont have any servos and just want to see serial output instead, you can add it next to the writeMicroseconds.\x3cbr /\x3e\x3cbr /\x3eDuane B', 'timestamp': '1361419936894', 'permalink': 'http://rcarduino.blogspot.com/2012/04/how-to-read-multiple-rc-channels-draft.html?showComment\x3d1361419936894#c2205647210960524480', 'author': {'name': 'Can_I_Trade?', 'avatarUrl': '//img2.blogblog.com/img/b16-rounded.gif', 'profileUrl': 'https://www.blogger.com/profile/07867684474123805993'}, 'displayTime': 'February 20, 2013 at 8:12 PM', 'deleteclass': 'item-control blog-admin pid-195722605'}, {'id': '1786659202915794470', 'body': 'Hi Duane, I am using an Arduino Uno and whenever I try to compile the code you provided, I get the following error msg\x3cbr /\x3e\x3cbr /\x3eServo\\Servo.cpp.o: In function `__vector_11\x26#39;:\x3cbr /\x3eE:\\arduino-1.0.1\\libraries\\Servo/Servo.cpp:103: multiple definition of `__vector_11\x26#39;\x3cbr /\x3eRCArduinoFastLib\\RCArduinoFastLib.cpp.o:E:\\arduino-1.0.1\\libraries\\RCArduinoFastLib/RCArduinoFastLib.cpp:51: first defined here\x3cbr /\x3eIt seems that both RCArduinoFastLib and Servo Library use the same timer\x3cbr /\x3e\x3cbr /\x3eMay I know if there is anything I\x26#39;m missing?\x3cbr /\x3e\x3cbr /\x3eThanks\x3cbr /\x3e\x3cbr /\x3eThomas', 'timestamp': '1361554499467', 'permalink': 'http://rcarduino.blogspot.com/2012/04/how-to-read-multiple-rc-channels-draft.html?showComment\x3d1361554499467#c1786659202915794470', 'author': {'name': 'wJ', 'avatarUrl': '//img2.blogblog.com/img/b16-rounded.gif', 'profileUrl': 'https://www.blogger.com/profile/09280806016748844246'}, 'displayTime': 'February 22, 2013 at 9:34 AM', 'deleteclass': 'item-control blog-admin pid-1362850376'}, {'id': '2666079372423089691', 'body': 'Hi,\x3cbr /\x3e   The RCArduinoFastLib is an alternative to the servo library which has been optimised for use in RC Projects. As its an alternative to the Servo library, it uses the same Timer resource on the basis that where RCArduinoFastLib is used, the servo library will not be used. Not sure what code you are compiling to see an error, the code in this post does not include RCArduinoFastLib so there should be no clashes.\x3cbr /\x3e\x3cbr /\x3eDuane B', 'timestamp': '1361700999975', 'permalink': 'http://rcarduino.blogspot.com/2012/04/how-to-read-multiple-rc-channels-draft.html?showComment\x3d1361700999975#c2666079372423089691', 'author': {'name': 'Can_I_Trade?', 'avatarUrl': '//img2.blogblog.com/img/b16-rounded.gif', 'profileUrl': 'https://www.blogger.com/profile/07867684474123805993'}, 'displayTime': 'February 24, 2013 at 2:16 AM', 'deleteclass': 'item-control blog-admin pid-195722605'}, {'id': '1175413570032888681', 'body': 'This is awesome, thanks for sharing! I really learned a lot about the Arduino language and signal processing from your post and from playing around with my controller/servos this weekend.\x3cbr /\x3e\x3cbr /\x3eThis is, this sketch does not work at all on an Arduino Micro. It works perfect on my Duemilanove and Mini, but not on the (Leonardo based) Micro. Any ideas on a work-around? Thanks!\x3cbr /\x3e\x3cbr /\x3e-Anthony', 'timestamp': '1363638096323', 'permalink': 'http://rcarduino.blogspot.com/2012/04/how-to-read-multiple-rc-channels-draft.html?showComment\x3d1363638096323#c1175413570032888681', 'author': {'name': 'Anonymous', 'avatarUrl': '//img1.blogblog.com/img/blank.gif', 'profileUrl': ''}, 'displayTime': 'March 18, 2013 at 1:21 PM', 'deleteclass': 'item-control blog-admin pid-34724786'}, {'id': '1916680476401965209', 'body': 'Hi,\x3cbr /\x3e  I do not have a micro but have an idea of what your problem is - it also ties into a post I was planning to write soon.\x3cbr /\x3e\x3cbr /\x3eAs a first step, lets try reading a single channel using some simpler code here - http://rcarduino.blogspot.ae/2012/01/how-to-read-rc-receiver-with.html\x3cbr /\x3e\x3cbr /\x3eYou will need to make some small changes to be able to write to serial on the micro, I think you know these already.\x3cbr /\x3e\x3cbr /\x3eLet me know if this works, it might not in which case I know what the problem is.\x3cbr /\x3e\x3cbr /\x3eDuane B.', 'timestamp': '1363672574494', 'permalink': 'http://rcarduino.blogspot.com/2012/04/how-to-read-multiple-rc-channels-draft.html?showComment\x3d1363672574494#c1916680476401965209', 'author': {'name': 'Can_I_Trade?', 'avatarUrl': '//img2.blogblog.com/img/b16-rounded.gif', 'profileUrl': 'https://www.blogger.com/profile/07867684474123805993'}, 'displayTime': 'March 18, 2013 at 10:56 PM', 'deleteclass': 'item-control blog-admin pid-195722605'}, {'id': '2528068445456954975', 'body': 'Okay, let\x26#39;s do this!\x3cbr /\x3e\x3cbr /\x3eFirst though, I just uploaded the \x26quot;MultiChannel\x26quot; code again with the \x26quot;while (!Serial) {;}\x26quot; and a \x26quot;Serial.println(\x26quot;test\x26quot;)\x26quot; thrown in. This is the exact same code as Sunday, but now it\x26#39;s actually printing \x26quot;test\x26quot;. Throttle is still showing all zeros though :(\x3cbr /\x3e\x3cbr /\x3eNow on to the code from \x26quot;How To Read an RC Receiver With A Microcontroller - Part 1\x26quot;. At first, no Serial at all. After adding, \x26quot;while (!Serial) {;}\x26quot; I can print \x26quot;test\x26quot; if inserted into the void loop(). Nothing else prints though. If the Serial.println(\x26quot;test\x26quot;); command is inside the \x26quot;if(bNewThrottleSignal)\x26quot; function it again does not print even while manipulating the controller throttle.\x3cbr /\x3e\x3cbr /\x3eIdeas?\x3cbr /\x3e\x3cbr /\x3e-Anthony', 'timestamp': '1363740466101', 'permalink': 'http://rcarduino.blogspot.com/2012/04/how-to-read-multiple-rc-channels-draft.html?showComment\x3d1363740466101#c2528068445456954975', 'author': {'name': 'Anonymous', 'avatarUrl': '//img1.blogblog.com/img/blank.gif', 'profileUrl': ''}, 'displayTime': 'March 19, 2013 at 5:47 PM', 'deleteclass': 'item-control blog-admin pid-1759499846'}, {'id': '8320882040866478901', 'body': 'Hi, What I think is happening is that the Micro has a different pin mappings between interrupts and digital pins.\x3cbr /\x3e\x3cbr /\x3eIt looks as if the Micro has interrupts 0 to 3 mapped to digital pins 0 to 3 the UNO has interrupts 0 to 1 mapped to pins 2 to 3. The code is based on interrupt 0 being mapped to pin 2 which it is not on the Micro, to test this, try changing the following line -\x3cbr /\x3e\x3cbr /\x3eattachInterrupt(THROTTLE_SIGNAL_IN,calcInput,CHANGE);\x3cbr /\x3e\x3cbr /\x3eto\x3cbr /\x3e\x3cbr /\x3eattachInterrupt(INT2,calcInput,CHANGE);\x3cbr /\x3e\x3cbr /\x3eLet me know what happens.\x3cbr /\x3e\x3cbr /\x3eFor anyone else following this, please note that this refers to the code in this post\x3cbr /\x3e\x3cbr /\x3ehttp://rcarduino.blogspot.ae/2012/01/how-to-read-rc-receiver-with.html\x3cbr /\x3e\x3cbr /\x3ewhich represents the simplest test of an Arduino to RC Receiver connection, not the code above which uses a slightly different approach. \x3cbr /\x3e\x3cbr /\x3eDuane B\x3cbr /\x3e', 'timestamp': '1363756613104', 'permalink': 'http://rcarduino.blogspot.com/2012/04/how-to-read-multiple-rc-channels-draft.html?showComment\x3d1363756613104#c8320882040866478901', 'author': {'name': 'Can_I_Trade?', 'avatarUrl': '//img2.blogblog.com/img/b16-rounded.gif', 'profileUrl': 'https://www.blogger.com/profile/07867684474123805993'}, 'displayTime': 'March 19, 2013 at 10:16 PM', 'deleteclass': 'item-control blog-admin pid-195722605'}, {'id': '8206519975791754375', 'body': 'Hi, Looking at the documentation here - \x3cbr /\x3e\x3cbr /\x3ehttp://arduino.cc/en/Reference/AttachInterrupt\x3cbr /\x3e\x3cbr /\x3eIt looks as if INT1 is mapped to pin 2 on the Leonardo, so if INT2, doesnt work as suggest above try\x3cbr /\x3e\x3cbr /\x3e\x3cbr /\x3eattachInterrupt(INT1,calcInput,CHANGE);\x3cbr /\x3e\x3cbr /\x3eDuane B', 'timestamp': '1363762196529', 'permalink': 'http://rcarduino.blogspot.com/2012/04/how-to-read-multiple-rc-channels-draft.html?showComment\x3d1363762196529#c8206519975791754375', 'author': {'name': 'Can_I_Trade?', 'avatarUrl': '//img2.blogblog.com/img/b16-rounded.gif', 'profileUrl': 'https://www.blogger.com/profile/07867684474123805993'}, 'displayTime': 'March 19, 2013 at 11:49 PM', 'deleteclass': 'item-control blog-admin pid-195722605'}, {'id': '1091536998647618063', 'body': 'Hi Duane B,\x3cbr /\x3e\x3cbr /\x3eINT2 did nothing that I could tell, but INT1 produced a huge Serial print, but nothing no pattern appeared from manipulating the controller\x26#39;s throttle.\x3cbr /\x3e\x3cbr /\x3eHere is a segment of what was printed. This string just repeats over and over again:\x3cbr /\x3e6484\x3cbr /\x3e9036\x3cbr /\x3e8916\x3cbr /\x3e8824\x3cbr /\x3e8768\x3cbr /\x3e8764\x3cbr /\x3e8772\x3cbr /\x3e8576\x3cbr /\x3e8356\x3cbr /\x3e8296\x3cbr /\x3e8276\x3cbr /\x3e8308\x3cbr /\x3e8424\x3cbr /\x3e8624\x3cbr /\x3e8700\x3cbr /\x3e8704\x3cbr /\x3e8700\x3cbr /\x3e8708\x3cbr /\x3e8708\x3cbr /\x3e8712\x3cbr /\x3e8708\x3cbr /\x3e8720\x3cbr /\x3e8712\x3cbr /\x3e8708\x3cbr /\x3e8720\x3cbr /\x3e8720\x3cbr /\x3e8712\x3cbr /\x3e8724\x3cbr /\x3e8716\x3cbr /\x3e8716\x3cbr /\x3e8716\x3cbr /\x3e8716\x3cbr /\x3e8708\x3cbr /\x3e8720\x3cbr /\x3e8716\x3cbr /\x3e8708\x3cbr /\x3e8716\x3cbr /\x3e8768\x3cbr /\x3e9008\x3cbr /\x3e9248\x3cbr /\x3e9476\x3cbr /\x3e9708\x3cbr /\x3e140\x3cbr /\x3e452\x3cbr /\x3e8428\x3cbr /\x3e88\x3cbr /\x3e80\x3cbr /\x3e8400\x3cbr /\x3e76\x3cbr /\x3e8536\x3cbr /\x3e72\x3cbr /\x3e8644\x3cbr /\x3e60\x3cbr /\x3e8720\x3cbr /\x3e52\x3cbr /\x3e8692\x3cbr /\x3e36\x3cbr /\x3e8696\x3cbr /\x3e24\x3cbr /\x3e8708\x3cbr /\x3e20\x3cbr /\x3e8700\x3cbr /\x3e20\x3cbr /\x3e8712\x3cbr /\x3e24\x3cbr /\x3e8704\x3cbr /\x3e20\x3cbr /\x3e8704\x3cbr /\x3e20\x3cbr /\x3e8712\x3cbr /\x3e20\x3cbr /\x3e8712\x3cbr /\x3e20\x3cbr /\x3e8708\x3cbr /\x3e16\x3cbr /\x3e8712\x3cbr /\x3e20\x3cbr /\x3e8712\x3cbr /\x3e24\x3cbr /\x3e8712\x3cbr /\x3e48\x3cbr /\x3e8712\x3cbr /\x3e44\x3cbr /\x3e8724\x3cbr /\x3e44\x3cbr /\x3e8712\x3cbr /\x3e52\x3cbr /\x3e8716\x3cbr /\x3e52\x3cbr /\x3e8720\x3cbr /\x3e56\x3cbr /\x3e8724\x3cbr /\x3e60\x3cbr /\x3e8716\x3cbr /\x3e60\x3cbr /\x3e8712\x3cbr /\x3e72\x3cbr /\x3e8712\x3cbr /\x3e84\x3cbr /\x3e8732\x3cbr /\x3e208\x3cbr /\x3e9044\x3cbr /\x3e\x3cbr /\x3e\x3cbr /\x3eAnd then I remembered to ground the Arduino to the RC receiver. After that, Serial.print is outputting numbers I expect: 1500s for neutral, 1100s for reverse, 1900s for forward.\x3cbr /\x3e\x3cbr /\x3eNow I plan to use the below bit of code to translate the throttle signal into PWM to use on a MOSFET for speed control. \x3cbr /\x3e     if ((unThrottleIn \x26lt; 1665) \x26amp;\x26amp; (unThrottleIn \x26gt; 1365))\x3cbr /\x3e      {\x3cbr /\x3e        Throttle \x3d 0;\x3cbr /\x3e        analogWrite (MOTORFWD, Throttle);\x3cbr /\x3e        analogWrite (MOTORRVS, Throttle);\x3cbr /\x3e       }\x3cbr /\x3e         else if(unThrottleIn \x26gt; 1665)\x3cbr /\x3e         {\x3cbr /\x3e           Throttle \x3d (unThrottleIn - 1665);\x3cbr /\x3e          analogWrite(MOTORFWD, Throttle);\x3cbr /\x3e          analogWrite(MOTORRVS, 0);\x3cbr /\x3e         }\x3cbr /\x3e         else if (unThrottleIn \x26lt; 1365)\x3cbr /\x3e         {\x3cbr /\x3e           Throttle \x3d (1365 - unThrottleIn);\x3cbr /\x3e            analogWrite(MOTORFWD, 0);\x3cbr /\x3e            analogWrite(MOTORRVS, Throttle);\x3cbr /\x3e         }\x3cbr /\x3e          }\x3cbr /\x3e\x3cbr /\x3e\x3cbr /\x3e\x3cbr /\x3eThanks for your help! I really appreciate your time; it\x26#39;s folks like you willing to help a complete stranger across the globe that make this community so great. I look forward to the day when I am able to help the next n00b!\x3cbr /\x3e\x3cbr /\x3e-Anthony\x3cbr /\x3e', 'timestamp': '1363816458139', 'permalink': 'http://rcarduino.blogspot.com/2012/04/how-to-read-multiple-rc-channels-draft.html?showComment\x3d1363816458139#c1091536998647618063', 'author': {'name': 'Anonymous', 'avatarUrl': '//img1.blogblog.com/img/blank.gif', 'profileUrl': ''}, 'displayTime': 'March 20, 2013 at 2:54 PM', 'deleteclass': 'item-control blog-admin pid-1759499846'}, {'id': '7638062525337310933', 'body': 'I may have spoke too soon... Switching to INT1 worked on \x26quot;How To Read an RC Receiver With A Microcontroller - Part 1\x26quot; but not in How To Read Multiple RC Channels. \x3cbr /\x3e\x3cbr /\x3eAlso, INT0 on Pint 3 worked great for AUX channel.', 'timestamp': '1363817649579', 'permalink': 'http://rcarduino.blogspot.com/2012/04/how-to-read-multiple-rc-channels-draft.html?showComment\x3d1363817649579#c7638062525337310933', 'author': {'name': 'Anonymous', 'avatarUrl': '//img1.blogblog.com/img/blank.gif', 'profileUrl': ''}, 'displayTime': 'March 20, 2013 at 3:14 PM', 'deleteclass': 'item-control blog-admin pid-1759499846'}, {'id': '8840172667153326266', 'body': 'Hi, \x3cbr /\x3e   Your getting one step ahead, so far all we have done is adapt one sketch to work with the Arduino Micro, now that we know the pin mappings on the Micro are different than on the UNO and Mega, we can adapt the second multi channel sketch to work on the micro.\x3cbr /\x3e\x3cbr /\x3eLooking at the pin mapping for the micro, it should be possible to read six channels without using any external libraries.\x3cbr /\x3e\x3cbr /\x3eI will put together a post showing how to do this on the UNO (5 interrupts) Leonardo/Mico (6 interrupts) and Mega (Loads of interrupts). I will share the draft post with you so that you can test it first.\x3cbr /\x3e\x3cbr /\x3eCan you send me you email address through the Arduino forum and I will send you a link to the draft post.\x3cbr /\x3e\x3cbr /\x3eDuane B', 'timestamp': '1363844017994', 'permalink': 'http://rcarduino.blogspot.com/2012/04/how-to-read-multiple-rc-channels-draft.html?showComment\x3d1363844017994#c8840172667153326266', 'author': {'name': 'Can_I_Trade?', 'avatarUrl': '//img2.blogblog.com/img/b16-rounded.gif', 'profileUrl': 'https://www.blogger.com/profile/07867684474123805993'}, 'displayTime': 'March 20, 2013 at 10:33 PM', 'deleteclass': 'item-control blog-admin pid-195722605'}, {'id': '587144618827086514', 'body': 'Hi,\x3cbr /\x3e\x3cbr /\x3eThank you for sharing your hard work. Your blog is very inspiring and i\x26#39;ve learned so much. There is still one question though. Can you tell me if one can use all this stuff along with the wire library? I mean do these all libraries use different timers and other resources so that they can be used together in one program?\x3cbr /\x3e\x3cbr /\x3eCheers,\x3cbr /\x3ePeter\x3cbr /\x3e\x3cbr /\x3e', 'timestamp': '1364124252579', 'permalink': 'http://rcarduino.blogspot.com/2012/04/how-to-read-multiple-rc-channels-draft.html?showComment\x3d1364124252579#c587144618827086514', 'author': {'name': 'Piotrek', 'avatarUrl': '//img2.blogblog.com/img/b16-rounded.gif', 'profileUrl': 'https://www.blogger.com/profile/05503881829638704819'}, 'displayTime': 'March 24, 2013 at 4:24 AM', 'deleteclass': 'item-control blog-admin pid-1451279233'}, {'id': '644315755182185427', 'body': 'Hi,\x3cbr /\x3e\x3cbr /\x3eI spent a good part of today trying to figure out why the single servo program would work and I couldn\x26#39;t get the multiple servo program working. I read through all of the comments and it\x26#39;s possible that I missed something, but I thought I would share here to try to get a better understanding. \x3cbr /\x3e\x3cbr /\x3eIn the end it seems like only 1 variable is used for both the interrupt and the pin # in the multiple servo program whereas in the single servo program there is a pin definition and an interrupt definition. When I set the interrupt number to 0 in the setup everything works (attachInterrupt(0, calcThrottle,CHANGE); with the throttle pin set to 2)\x3cbr /\x3e\x3cbr /\x3eAm I overlooking something obvious here?\x3cbr /\x3e\x3cbr /\x3eThanks for posting your code and comments, they have been extremely helpful!', 'timestamp': '1364246782861', 'permalink': 'http://rcarduino.blogspot.com/2012/04/how-to-read-multiple-rc-channels-draft.html?showComment\x3d1364246782861#c644315755182185427', 'author': {'name': 'Anonymous', 'avatarUrl': '//img1.blogblog.com/img/blank.gif', 'profileUrl': ''}, 'displayTime': 'March 25, 2013 at 2:26 PM', 'deleteclass': 'item-control blog-admin pid-1870398611'}, {'id': '4180776697483164344', 'body': 'Yes, your overlooking something.\x3cbr /\x3e\x3cbr /\x3eThe multi channel example above uses the pinchangeint library, you can see this where the interrupt is attached using -\x3cbr /\x3e\x3cbr /\x3ePCintPort::attachInterrupt(AUX_IN_PIN, calcAux,CHANGE); \x3cbr /\x3e\x3cbr /\x3einstead of the standard syntax as used in the single channel example -\x3cbr /\x3e\x3cbr /\x3eattachInterrupt(AUX_IN_PIN, calcAux,CHANGE); \x3cbr /\x3e\x3cbr /\x3eI always found it a bit confusing that the standard Arduino attachInterrupt function uses the interrupt number rather than the pin number. That is why in the single channel example we need two variables, the first is the interrupt number, the second is the pin number. It is also the reason why the UNO example did not work on your Arduino Micro. If the Arduino team had used pin numbers instead, the function could have easily figured out which interrupt is associated with which pin on which board.\x3cbr /\x3e\x3cbr /\x3eAt the moment, my assumption is that the pinchangeint library is not supported on the Arduino Micro and that is why this example is not working for you. \x3cbr /\x3e\x3cbr /\x3eI have an alternative approach which is more efficient that I hope to post later today, stay tuned.\x3cbr /\x3e\x3cbr /\x3eDuane B\x3cbr /\x3e', 'timestamp': '1364278057674', 'permalink': 'http://rcarduino.blogspot.com/2012/04/how-to-read-multiple-rc-channels-draft.html?showComment\x3d1364278057674#c4180776697483164344', 'author': {'name': 'Can_I_Trade?', 'avatarUrl': '//img2.blogblog.com/img/b16-rounded.gif', 'profileUrl': 'https://www.blogger.com/profile/07867684474123805993'}, 'displayTime': 'March 25, 2013 at 11:07 PM', 'deleteclass': 'item-control blog-admin pid-195722605'}, {'id': '881116497932404474', 'parentId': '4180776697483164344', 'body': 'Thanks for the response. I forgot to mention that I am using a Arduino mego so I turned off the pinchangeint library.\x3cbr /\x3e\x3cbr /\x3eI\x26#39;m getting a weird twitch every couple of seconds where the arduino is reading a non-center stick value (~10-20% of full scale) for what appears to be a single reading. Do you know if there is any way to eliminate twitch at the expense of accuracy? I\x26#39;ll be driving some high power motors with this and would like to avoid pulsing them when they shouldn\x26#39;t be moving.\x3cbr /\x3e\x3cbr /\x3eThanks again!', 'timestamp': '1364320232096', 'permalink': 'http://rcarduino.blogspot.com/2012/04/how-to-read-multiple-rc-channels-draft.html?showComment\x3d1364320232096#c881116497932404474', 'author': {'name': 'Anonymous', 'avatarUrl': '//img1.blogblog.com/img/blank.gif', 'profileUrl': ''}, 'displayTime': 'March 26, 2013 at 10:50 AM', 'deleteclass': 'item-control blog-admin pid-1870398611'}, {'id': '2993059407387008307', 'parentId': '4180776697483164344', 'body': 'Hi,\x3cbr /\x3e  It gets hard to follow when people comment as anonymous, can you use a nickname in your comments so that I can at least follow which anonymous is which.\x3cbr /\x3e\x3cbr /\x3eThe twitch can be one of two things -\x3cbr /\x3e\x3cbr /\x3e1) Its a result of interrupt clashes between the servo library timer interrupt and the incoming RC Signal interrupts\x3cbr /\x3e\x3cbr /\x3eI would expect a variation of about 5-10us in this case, thats one or two percent of the servo range, enough to tick, not jerk.\x3cbr /\x3e\x3cbr /\x3e2) An error in your modified code - I am assuming this is not the case.\x3cbr /\x3e\x3cbr /\x3eIf its just a twitch its 1) above, if its more than a twitch is probably 2)\x3cbr /\x3e\x3cbr /\x3eAre you planning to use the servo library to drive ESCs in your final project or are you using analogWrite to PWM Motors through a shield ?\x3cbr /\x3e\x3cbr /\x3eIf you are not planning to use servos, remove the code and the clashes will go away. If you are planning to to use servos, try this approach, it has come optimizations to reduce clashes, it also has an explanation of where the clashes come from which might be helpful\x3cbr /\x3e\x3cbr /\x3ehttp://rcarduino.blogspot.ae/2012/11/how-to-read-rc-channels-rcarduinofastlib.html\x3cbr /\x3e\x3cbr /\x3eAs you are not using pinchangeint, you will need to replace \x3cbr /\x3e\x3cbr /\x3eif(PCintPort::pinState)\x3cbr /\x3e\x3cbr /\x3ewith the direct port manipulation equivalent i.e. \x3cbr /\x3e\x3cbr /\x3eif(PORTD \x26amp; (1\x26lt;\x26lt;3)) // test INT3 on Mega Digital Pin 18  \x3cbr /\x3e\x3cbr /\x3eIf you need help with this, let me know\x3cbr /\x3e\x3cbr /\x3eDuane B', 'timestamp': '1364321520959', 'permalink': 'http://rcarduino.blogspot.com/2012/04/how-to-read-multiple-rc-channels-draft.html?showComment\x3d1364321520959#c2993059407387008307', 'author': {'name': 'Can_I_Trade?', 'avatarUrl': '//img2.blogblog.com/img/b16-rounded.gif', 'profileUrl': 'https://www.blogger.com/profile/07867684474123805993'}, 'displayTime': 'March 26, 2013 at 11:12 AM', 'deleteclass': 'item-control blog-admin pid-195722605'}, {'id': '2656484239526442348', 'parentId': '4180776697483164344', 'body': 'Thanks again for all of your help. I will not be using the servos so I tried taking the code out along with the code that I had added other than:\x3cbr /\x3e\x3cbr /\x3e//Mid point bounces between 1556 and 1560\x3cbr /\x3e \x3cbr /\x3e  if(unThrottleIn \x26gt; 1560)  \x3cbr /\x3e  {\x3cbr /\x3e    Serial.println(unThrottleIn);\x3cbr /\x3e  }\x3cbr /\x3e\x3cbr /\x3eWith this code in there I would get bundles of 15 numbers that would print to serial, they ranged from 1564 to 1588 and would come every few seconds or so. That\x26#39;s roughly 30 us of error on the large end so I\x26#39;m thinking I must be doing something wrong.\x3cbr /\x3e\x3cbr /\x3eTo find out if it was just the multiple servo code I went back to the single servo program and added only the above section of code in the part where it says \x26quot;// other processing ...\x26quot;. Once again the numbers came in bunches of 15, but the number was always 1564, so only ~5 us of error.\x3cbr /\x3e\x3cbr /\x3eI appreciate the help but I understand if this is something you don\x26#39;t have time to chase down.\x3cbr /\x3e\x3cbr /\x3eThanks again,\x3cbr /\x3eWoody (person using the mega and getting a twitchy response)\x3cbr /\x3e', 'timestamp': '1364332454616', 'permalink': 'http://rcarduino.blogspot.com/2012/04/how-to-read-multiple-rc-channels-draft.html?showComment\x3d1364332454616#c2656484239526442348', 'author': {'name': 'Anonymous', 'avatarUrl': '//img1.blogblog.com/img/blank.gif', 'profileUrl': ''}, 'displayTime': 'March 26, 2013 at 2:14 PM', 'deleteclass': 'item-control blog-admin pid-1870398611'}, {'id': '3116265874311829256', 'parentId': '644315755182185427', 'body': 'Solved by following this procedure - \x3cbr /\x3e\x3cbr /\x3e1) Use the original code from the blog here but with the following changes -\x3cbr /\x3e\x3cbr /\x3ehttp://rcarduino.blogspot.ae/2012/04/how-to-read-multiple-rc-channels-draft.html\x3cbr /\x3e\x3cbr /\x3e2) Change this\x3cbr /\x3e\x3cbr /\x3e\x3cbr /\x3e// Assign your channel in pins\x3cbr /\x3e#define THROTTLE_IN_PIN 5\x3cbr /\x3e#define STEERING_IN_PIN 6\x3cbr /\x3e#define AUX_IN_PIN 7\x3cbr /\x3e\x3cbr /\x3e// Assign your channel out pins\x3cbr /\x3e#define THROTTLE_OUT_PIN 8\x3cbr /\x3e#define STEERING_OUT_PIN 9\x3cbr /\x3e#define AUX_OUT_PIN 10\x3cbr /\x3e\x3cbr /\x3e\x3cbr /\x3eto this  -\x3cbr /\x3e\x3cbr /\x3e// Assign your channel in pins\x3cbr /\x3e#define THROTTLE_IN_PIN 8\x3cbr /\x3e#define STEERING_IN_PIN 9\x3cbr /\x3e#define AUX_IN_PIN 10\x3cbr /\x3e\x3cbr /\x3e// Assign your channel out pins\x3cbr /\x3e#define THROTTLE_OUT_PIN 5\x3cbr /\x3e#define STEERING_OUT_PIN 6\x3cbr /\x3e#define AUX_OUT_PIN 7\x3cbr /\x3e\x3cbr /\x3eBasically pins 8,9,10 and 11 are the only ones on a the micro that support pin change interrupts. For this to work you will also need to reconnect your circuit so that the RC Channels are coming into pins 8,9,10 and the servo signals are going out through 5,6 and 7.\x3cbr /\x3e\x3cbr /\x3eDuane B', 'timestamp': '1364361293387', 'permalink': 'http://rcarduino.blogspot.com/2012/04/how-to-read-multiple-rc-channels-draft.html?showComment\x3d1364361293387#c3116265874311829256', 'author': {'name': 'Can_I_Trade?', 'avatarUrl': '//img2.blogblog.com/img/b16-rounded.gif', 'profileUrl': 'https://www.blogger.com/profile/07867684474123805993'}, 'displayTime': 'March 26, 2013 at 10:14 PM', 'deleteclass': 'item-control blog-admin pid-195722605'}, {'id': '6364010071142438773', 'parentId': '4180776697483164344', 'body': 'Hi Woody,\x3cbr /\x3e   It looks as if its a problem with the modified sketch you are using, can you send me a copy to have a look, the easiest way is to send it to me through the PM system on Arduino forum.\x3cbr /\x3e\x3cbr /\x3eDuane B', 'timestamp': '1364361493638', 'permalink': 'http://rcarduino.blogspot.com/2012/04/how-to-read-multiple-rc-channels-draft.html?showComment\x3d1364361493638#c6364010071142438773', 'author': {'name': 'Can_I_Trade?', 'avatarUrl': '//img2.blogblog.com/img/b16-rounded.gif', 'profileUrl': 'https://www.blogger.com/profile/07867684474123805993'}, 'displayTime': 'March 26, 2013 at 10:18 PM', 'deleteclass': 'item-control blog-admin pid-195722605'}, {'id': '2870701584557853213', 'body': 'if have some glitch in the signal after have connected the grawnd of receiver to arduino grawnd, put a 2,2nF capacitor between signal and grown, it will delete all glitch and make the signal stable :)', 'timestamp': '1364536557798', 'permalink': 'http://rcarduino.blogspot.com/2012/04/how-to-read-multiple-rc-channels-draft.html?showComment\x3d1364536557798#c2870701584557853213', 'author': {'name': 'danithebest91', 'avatarUrl': '//img2.blogblog.com/img/b16-rounded.gif', 'profileUrl': 'https://www.blogger.com/profile/13866877162312493622'}, 'displayTime': 'March 28, 2013 at 10:55 PM', 'deleteclass': 'item-control blog-admin pid-722138767'}, {'id': '3366897649352253807', 'body': 'Hi, I need to control two servos and a esc. The receiver is 2.4 ghz called tactic. Here is a photo of the receiver and servos. \x3cbr /\x3e\x3cbr /\x3ehttp://www.aquacraftmodels.com/boats/aqub0200-vela/aqub0200-servo-lg.jpg ', 'timestamp': '1366922747437', 'permalink': 'http://rcarduino.blogspot.com/2012/04/how-to-read-multiple-rc-channels-draft.html?showComment\x3d1366922747437#c3366897649352253807', 'author': {'name': 'mlandergan', 'avatarUrl': '//img2.blogblog.com/img/b16-rounded.gif', 'profileUrl': 'https://www.blogger.com/profile/11238289406650449597'}, 'displayTime': 'April 25, 2013 at 1:45 PM', 'deleteclass': 'item-control blog-admin pid-1753693063'}, {'id': '2019009556171810295', 'body': 'Love your Library.  \x3cbr /\x3eI have used it to make an Autonomous car/boat/plane with Adafruit Ultimate GPS.  \x3cbr /\x3eThe difficulty was the conflicts with SoftwareSerial.  Problem solved!  \x3cbr /\x3eLet me know if you want to see the code.\x3cbr /\x3eIt uses less than 2% of the Uno CPU resources.\x3cbr /\x3e', 'timestamp': '1368814843966', 'permalink': 'http://rcarduino.blogspot.com/2012/04/how-to-read-multiple-rc-channels-draft.html?showComment\x3d1368814843966#c2019009556171810295', 'author': {'name': 'Steve', 'avatarUrl': '//img1.blogblog.com/img/blank.gif', 'profileUrl': ''}, 'displayTime': 'May 17, 2013 at 11:20 AM', 'deleteclass': 'item-control blog-admin pid-1874868365'}, {'id': '8909987726590245750', 'parentId': '2019009556171810295', 'body': 'How about some pictures or a video, I would like to see more of what people end up building\x3cbr /\x3e\x3cbr /\x3eDuane B', 'timestamp': '1368940176223', 'permalink': 'http://rcarduino.blogspot.com/2012/04/how-to-read-multiple-rc-channels-draft.html?showComment\x3d1368940176223#c8909987726590245750', 'author': {'name': 'Can_I_Trade?', 'avatarUrl': '//img2.blogblog.com/img/b16-rounded.gif', 'profileUrl': 'https://www.blogger.com/profile/07867684474123805993'}, 'displayTime': 'May 18, 2013 at 10:09 PM', 'deleteclass': 'item-control blog-admin pid-195722605'}, {'id': '6191177818269802092', 'body': 'I\x26#39;m trying to build my own Quadcopter using Arduino. This article on reading receiver signals using interrupts is super useful in this regard. Its also really well written...thanks a ton Duane!!!', 'timestamp': '1373999473347', 'permalink': 'http://rcarduino.blogspot.com/2012/04/how-to-read-multiple-rc-channels-draft.html?showComment\x3d1373999473347#c6191177818269802092', 'author': {'name': 'Aravind Bhimarasetty', 'avatarUrl': '//3.bp.blogspot.com/_AIoEafXLbh8/TFmpDuaNuEI/AAAAAAAACWM/BLIg-myzWsQ/S45-s35/IMG_2070.JPG', 'profileUrl': 'https://www.blogger.com/profile/17864037518750595941'}, 'displayTime': 'July 16, 2013 at 11:31 AM', 'deleteclass': 'item-control blog-admin pid-659890970'}, {'id': '1524595807105288445', 'body': 'Thank you for your work and sharing it. My project is a quadcopter. That&#180;s my new hobby and I hope see it flying... The frame is ready and now I&#180;m studing the Arduino Uno and how work the escs, signal from rc spektrum dx6i, gps, imu, and so many things. I have learned very much with your work. \x3cbr /\x3eCarlos/Lisbon\x3cbr /\x3e', 'timestamp': '1375268131015', 'permalink': 'http://rcarduino.blogspot.com/2012/04/how-to-read-multiple-rc-channels-draft.html?showComment\x3d1375268131015#c1524595807105288445', 'author': {'name': 'Anonymous', 'avatarUrl': '//img1.blogblog.com/img/blank.gif', 'profileUrl': ''}, 'displayTime': 'July 31, 2013 at 3:55 AM', 'deleteclass': 'item-control blog-admin pid-231762851'}, {'id': '8083692201506909192', 'body': 'Hi Duane,\x3cbr /\x3e\x3cbr /\x3eI have a question regarding timer interrupt. I\x26#39;m already using your code above to read various channels from my RC receiver and pass the signals to the 4 motors of my quadcopter. \x3cbr /\x3e\x3cbr /\x3eI would like to now read in accelerometer and gyro values at a constant time interval for attitude determination and control using a timer interrupt. \x3cbr /\x3e\x3cbr /\x3eWill the timer interrupt work alongside your code which also uses interrupts.\x3cbr /\x3e\x3cbr /\x3eThanks once again for sharing your code and knowledge for free!', 'timestamp': '1376721450275', 'permalink': 'http://rcarduino.blogspot.com/2012/04/how-to-read-multiple-rc-channels-draft.html?showComment\x3d1376721450275#c8083692201506909192', 'author': {'name': 'Aravind Bhimarasetty', 'avatarUrl': '//3.bp.blogspot.com/_AIoEafXLbh8/TFmpDuaNuEI/AAAAAAAACWM/BLIg-myzWsQ/S45-s35/IMG_2070.JPG', 'profileUrl': 'https://www.blogger.com/profile/17864037518750595941'}, 'displayTime': 'August 16, 2013 at 11:37 PM', 'deleteclass': 'item-control blog-admin pid-659890970'}, {'id': '652464551764701606', 'parentId': '4845768453287840141', 'body': '\x3cspan class\x3d\x27deleted-comment\x27\x3eThis comment has been removed by the author.\x3c/span\x3e', 'timestamp': '1380356921965', 'permalink': 'http://rcarduino.blogspot.com/2012/04/how-to-read-multiple-rc-channels-draft.html?showComment\x3d1380356921965#c652464551764701606', 'author': {'name': 'InfoSeeker', 'avatarUrl': '//img2.blogblog.com/img/b16-rounded.gif', 'profileUrl': 'https://www.blogger.com/profile/13484380125908716852'}, 'displayTime': 'September 28, 2013 at 1:28 AM', 'deleteclass': 'item-control blog-admin '}, {'id': '8494855612104480275', 'body': 'I am very impressed with your code and thank you for describing it. \x3cbr /\x3eI would like to know how the FLAGS such as THROTTLE_FLAG 1 are assigned to the \x3cbr /\x3evolatile uint8_t bUpdateFlagsShared, since there is no reference to the memory location name in the define statement nor is there a mention of the the flag in the declaration of the flagregister.  \x3cbr /\x3eWally ', 'timestamp': '1381213753445', 'permalink': 'http://rcarduino.blogspot.com/2012/04/how-to-read-multiple-rc-channels-draft.html?showComment\x3d1381213753445#c8494855612104480275', 'author': {'name': 'Anonymous', 'avatarUrl': '//img1.blogblog.com/img/blank.gif', 'profileUrl': ''}, 'displayTime': 'October 7, 2013 at 11:29 PM', 'deleteclass': 'item-control blog-admin pid-877226870'}, {'id': '5445331465558063083', 'body': 'Wally, your over complicating things. Its just C Code, there is no direct access to memory or registers.\x3cbr /\x3e\x3cbr /\x3eDuane', 'timestamp': '1381333051545', 'permalink': 'http://rcarduino.blogspot.com/2012/04/how-to-read-multiple-rc-channels-draft.html?showComment\x3d1381333051545#c5445331465558063083', 'author': {'name': 'Can_I_Trade?', 'avatarUrl': '//img2.blogblog.com/img/b16-rounded.gif', 'profileUrl': 'https://www.blogger.com/profile/07867684474123805993'}, 'displayTime': 'October 9, 2013 at 8:37 AM', 'deleteclass': 'item-control blog-admin pid-195722605'}, {'id': '4150355239416868781', 'body': 'Thank you Duane. Sorry for my inexperience with flags in C.  I see that I misunderstood the comment \x26quot;holds the update flags defined above\x26quot; . That had me going in the wrong direction. \x3cbr /\x3e\x3cbr /\x3e#define THROTTLE_FLAG 1\x3cbr /\x3e#define STEERING_FLAG 2\x3cbr /\x3e#defineAUX_FLAG 4\x3cbr /\x3evolatile unit8_t bUpdateFlagsShared;//holds the update flags defined above\x3cbr /\x3e\x3cbr /\x3eI see now that it is the flag place values that are \x26quot;defined above\x26quot;, and these will be \x26amp;\x26#39;ed with the value in the bUpdateFlags image of the bUpdateFlagsShared to test for the flag.  \x3cbr /\x3eWally ', 'timestamp': '1381375364927', 'permalink': 'http://rcarduino.blogspot.com/2012/04/how-to-read-multiple-rc-channels-draft.html?showComment\x3d1381375364927#c4150355239416868781', 'author': {'name': 'Anonymous', 'avatarUrl': '//img1.blogblog.com/img/blank.gif', 'profileUrl': ''}, 'displayTime': 'October 9, 2013 at 8:22 PM', 'deleteclass': 'item-control blog-admin pid-877226870'}, {'id': '4757794766560389415', 'body': 'HI,\x3cbr /\x3e\x3cbr /\x3eThanks for sharing your great work.\x3cbr /\x3e\x3cbr /\x3eI\x26#39;m using it to build a Kid mode for my RC short course truck.\x3cbr /\x3e \x3cbr /\x3eI started from your example with tree channels, and got it to work perfectly.\x3cbr /\x3eI\x26#39;ve combined with two extra interrupts for calculating distance and speed from a sonar and a button to set  limited throttle modes. \x3cbr /\x3e\x3cbr /\x3eAll work fine,  I\x26#39;m able to limit speed and based on the distance and speed readings and prevent frontal impacts while a 3 year old drives...\x3cbr /\x3e\x3cbr /\x3eThe only issue I struggling width, is that my radio only has two channels (in fact for this purpose I only need 1), so I tried to remove the AUX channel by the following changes :\x3cbr /\x3e1- Commenting everything regarding the AUX channel (Attach and interrupts):\x3cbr /\x3e2 - #define SERVO_FRAME_SPACE 2\x3cbr /\x3e3 - CRCArduinoFastServos::setFrameSpaceA(SERVO_FRAME_SPACE,8*2000);\x3cbr /\x3e\x3cbr /\x3eBut after this change it stops working. Can you give me a clue for the reason?\x3cbr /\x3e\x3cbr /\x3eThanks in advance.', 'timestamp': '1381835425709', 'permalink': 'http://rcarduino.blogspot.com/2012/04/how-to-read-multiple-rc-channels-draft.html?showComment\x3d1381835425709#c4757794766560389415', 'author': {'name': 'Nuno Bento', 'avatarUrl': '//img2.blogblog.com/img/b16-rounded.gif', 'profileUrl': 'https://www.blogger.com/profile/03612431970604229225'}, 'displayTime': 'October 15, 2013 at 4:10 AM', 'deleteclass': 'item-control blog-admin pid-279451076'}, {'id': '304036014586769257', 'body': 'Hello!\x3cbr /\x3eI and My Friends are Trying to Build a RC Quadcopter and i need Some Help on the Code for Arduino to Control The Quadcopter.\x3cbr /\x3eIt would be great If You can help me with a Sample code or a Tutorial to Arduino as I\x26#39;m New to Arduino.\x3cbr /\x3eThanks!', 'timestamp': '1382792451072', 'permalink': 'http://rcarduino.blogspot.com/2012/04/how-to-read-multiple-rc-channels-draft.html?showComment\x3d1382792451072#c304036014586769257', 'author': {'name': 'Bharat Jajoo', 'avatarUrl': '//lh6.googleusercontent.com/-cet_aWJ-6Tg/AAAAAAAAAAI/AAAAAAAAAC4/-ek6p6GJzrg/s35-c/photo.jpg', 'profileUrl': 'https://www.blogger.com/profile/04689227427832168229'}, 'displayTime': 'October 26, 2013 at 6:00 AM', 'deleteclass': 'item-control blog-admin pid-2029573756'}, {'id': '6040859328188852655', 'body': 'Hola ya probe en la 1- parte pero estas estas un poco dificil en la 2- parte\x3cbr /\x3eporque me marca error? \x3cbr /\x3e \x3cbr /\x3eArduino: 1.5.4 (Windows NT (unknown)), Board: \x26quot;Arduino Mega (ATmega1280)\x26quot;\x3cbr /\x3e\x3cbr /\x3emulticanales.ino: In function \x26#39;void setup()\x26#39;:\x3cbr /\x3emulticanales:78: error: \x26#39;PCintPort\x26#39; has not been declared\x3cbr /\x3emulticanales:79: error: \x26#39;PCintPort\x26#39; has not been declared\x3cbr /\x3emulticanales:80: error: \x26#39;PCintPort\x26#39; has not been declared\x3cbr /\x3e\x3cbr /\x3e  This report would have more information with\x3cbr /\x3e  \x26quot;Show verbose output during compilation\x26quot;\x3cbr /\x3e  enabled in File \x26gt; Preferences.\x3cbr /\x3e', 'timestamp': '1384900207718', 'permalink': 'http://rcarduino.blogspot.com/2012/04/how-to-read-multiple-rc-channels-draft.html?showComment\x3d1384900207718#c6040859328188852655', 'author': {'name': 'Anonymous', 'avatarUrl': '//img1.blogblog.com/img/blank.gif', 'profileUrl': ''}, 'displayTime': 'November 19, 2013 at 2:30 PM', 'deleteclass': 'item-control blog-admin pid-589430201'}, {'id': '5030920424261080679', 'body': 'Hey, Thanks for the wonderful  tutorial. I\x26#39;ve got one problem. Whenever i try to see the pulse width of any channel in serial terminal of arduino, it returns 0. I am calling Serial.print() within an interrupt.\x3cbr /\x3eThe code for the ISR is same as yours, except for the command for printing the pulseWidth.\x3cbr /\x3e\x3cbr /\x3evoid calcThrottle()\x3cbr /\x3e{\x3cbr /\x3e  // if the pin is high, its a rising edge of the signal pulse, so lets record its value\x3cbr /\x3e  if(digitalRead(THROTTLE_IN_PIN) \x3d\x3d HIGH)\x3cbr /\x3e  { \x3cbr /\x3e    ulThrottleStart \x3d micros();\x3cbr /\x3e  }\x3cbr /\x3e  else\x3cbr /\x3e  {\x3cbr /\x3e    // else it must be a falling edge, so lets get the time and subtract the time of the rising edge\x3cbr /\x3e    // this gives use the time between the rising and falling edges i.e. the pulse duration.\x3cbr /\x3e    unThrottleInShared \x3d (uint16_t)(micros() - ulThrottleStart);\x3cbr /\x3e    // use set the throttle flag to indicate that a new throttle signal has been received\x3cbr /\x3e    bUpdateFlagsShared |\x3d THROTTLE_FLAG;\x3cbr /\x3e   Serial.println(unThrottleInShared);\x3cbr /\x3e    \x3cbr /\x3e  }\x3cbr /\x3e \x3cbr /\x3e}  ', 'timestamp': '1391337656348', 'permalink': 'http://rcarduino.blogspot.com/2012/04/how-to-read-multiple-rc-channels-draft.html?showComment\x3d1391337656348#c5030920424261080679', 'author': {'name': 'Tanvir Parhar', 'avatarUrl': '//lh3.googleusercontent.com/-317Sy3yKgCM/AAAAAAAAAAI/AAAAAAAAACQ/24V_06xo9IE/s35-c/photo.jpg', 'profileUrl': 'https://www.blogger.com/profile/07051221274903648246'}, 'displayTime': 'February 2, 2014 at 2:40 AM', 'deleteclass': 'item-control blog-admin pid-473837522'}, {'id': '5019640639853330854', 'parentId': '5030920424261080679', 'body': 'Did you try this first ?\x3cbr /\x3e\x3cbr /\x3ehttp://rcarduino.blogspot.ae/2012/01/how-to-read-rc-receiver-with.html\x3cbr /\x3e\x3cbr /\x3eDuane', 'timestamp': '1391344286644', 'permalink': 'http://rcarduino.blogspot.com/2012/04/how-to-read-multiple-rc-channels-draft.html?showComment\x3d1391344286644#c5019640639853330854', 'author': {'name': 'Can_I_Trade?', 'avatarUrl': '//img2.blogblog.com/img/b16-rounded.gif', 'profileUrl': 'https://www.blogger.com/profile/07867684474123805993'}, 'displayTime': 'February 2, 2014 at 4:31 AM', 'deleteclass': 'item-control blog-admin pid-195722605'}, {'id': '4732592252835789004', 'parentId': '5030920424261080679', 'body': 'Yup I got it. Serial data is captured using interrupts and hence it cannot be used in another ISR.\x3cbr /\x3eHope i got it right.\x3cbr /\x3eThank you!!', 'timestamp': '1391365335564', 'permalink': 'http://rcarduino.blogspot.com/2012/04/how-to-read-multiple-rc-channels-draft.html?showComment\x3d1391365335564#c4732592252835789004', 'author': {'name': 'Tanvir Parhar', 'avatarUrl': '//lh3.googleusercontent.com/-317Sy3yKgCM/AAAAAAAAAAI/AAAAAAAAACQ/24V_06xo9IE/s35-c/photo.jpg', 'profileUrl': 'https://www.blogger.com/profile/07051221274903648246'}, 'displayTime': 'February 2, 2014 at 10:22 AM', 'deleteclass': 'item-control blog-admin pid-473837522'}, {'id': '1888173830235978399', 'body': 'I tried to read print multiple channels, but noticed a vague behaviour. I the code that you have uploaded, whenever  I declare the input pins (like throttleInPin, etc) below pin number 9(i.e. from 2 to 8) and then when i try to print the Time period read by them n serial window, I either get garbage values or nothing at all. But if I do the same for the input pins above 9 (9 till 13), I get the proper values on the serial terminal of arduino.\x3cbr /\x3eDon\x26#39;t know if it is because of the PinChangeInt library or because of some serial comm buffer\x26#39;s connection with these pins.\x3cbr /\x3eCan you help me out?\x3cbr /\x3eCode snippet for printing is-\x3cbr /\x3e\x3cbr /\x3e // on every cycle.\x3cbr /\x3e  if(bUpdateFlags \x26amp; THROTTLE_FLAG)\x3cbr /\x3e  {\x3cbr /\x3e   \x3cbr /\x3e    \x3cbr /\x3e      servoThrottle.writeMicroseconds(unThrottleIn);\x3cbr /\x3e      Serial.println(unThrottleIn);\x3cbr /\x3e    \x3cbr /\x3e  }\x3cbr /\x3eI know there\x26#39;s nothing wrong in it, as it prints the values if input pins are defined between 9 and 13, both inclusive.\x3cbr /\x3eThank you!!\x3cbr /\x3e ', 'timestamp': '1391509500851', 'permalink': 'http://rcarduino.blogspot.com/2012/04/how-to-read-multiple-rc-channels-draft.html?showComment\x3d1391509500851#c1888173830235978399', 'author': {'name': 'Tanvir Parhar', 'avatarUrl': '//lh3.googleusercontent.com/-317Sy3yKgCM/AAAAAAAAAAI/AAAAAAAAACQ/24V_06xo9IE/s35-c/photo.jpg', 'profileUrl': 'https://www.blogger.com/profile/07051221274903648246'}, 'displayTime': 'February 4, 2014 at 2:25 AM', 'deleteclass': 'item-control blog-admin pid-473837522'}, {'id': '1228296648521394429', 'parentId': '1888173830235978399', 'body': 'and yes, I read and tried your earlier post. It worked.\x3cbr /\x3eThank You.', 'timestamp': '1391509663433', 'permalink': 'http://rcarduino.blogspot.com/2012/04/how-to-read-multiple-rc-channels-draft.html?showComment\x3d1391509663433#c1228296648521394429', 'author': {'name': 'Tanvir Parhar', 'avatarUrl': '//lh3.googleusercontent.com/-317Sy3yKgCM/AAAAAAAAAAI/AAAAAAAAACQ/24V_06xo9IE/s35-c/photo.jpg', 'profileUrl': 'https://www.blogger.com/profile/07051221274903648246'}, 'displayTime': 'February 4, 2014 at 2:27 AM', 'deleteclass': 'item-control blog-admin pid-473837522'}, {'id': '2564257075032709951', 'body': 'Which model of Arduino are you using ? Not all of them support PCInt on every pin, see here - http://rcarduino.blogspot.ae/2013/04/the-problem-and-solutions-with-arduino.html\x3cbr /\x3e\x3cbr /\x3eDuane B', 'timestamp': '1391522563447', 'permalink': 'http://rcarduino.blogspot.com/2012/04/how-to-read-multiple-rc-channels-draft.html?showComment\x3d1391522563447#c2564257075032709951', 'author': {'name': 'Can_I_Trade?', 'avatarUrl': '//img2.blogblog.com/img/b16-rounded.gif', 'profileUrl': 'https://www.blogger.com/profile/07867684474123805993'}, 'displayTime': 'February 4, 2014 at 6:02 AM', 'deleteclass': 'item-control blog-admin pid-195722605'}, {'id': '6597863063914172234', 'parentId': '2564257075032709951', 'body': 'Thank you very much yet again!!!', 'timestamp': '1391588258606', 'permalink': 'http://rcarduino.blogspot.com/2012/04/how-to-read-multiple-rc-channels-draft.html?showComment\x3d1391588258606#c6597863063914172234', 'author': {'name': 'Tanvir Parhar', 'avatarUrl': '//lh3.googleusercontent.com/-317Sy3yKgCM/AAAAAAAAAAI/AAAAAAAAACQ/24V_06xo9IE/s35-c/photo.jpg', 'profileUrl': 'https://www.blogger.com/profile/07051221274903648246'}, 'displayTime': 'February 5, 2014 at 12:17 AM', 'deleteclass': 'item-control blog-admin pid-473837522'}, {'id': '8681182935465010559', 'body': 'Hi,\x3cbr /\x3e\x3cbr /\x3eMany thanks for the time you have put into developing this code.\x3cbr /\x3e\x3cbr /\x3eI\x26#39;d like to copy this and expand it to at least 5 channels and run it on the mega 2560 board. Other than the changes to how the interrupt routines are called, I gather it will still work fine if I just duplicate the code for the extra channels I need?\x3cbr /\x3e\x3cbr /\x3eMike', 'timestamp': '1392028647591', 'permalink': 'http://rcarduino.blogspot.com/2012/04/how-to-read-multiple-rc-channels-draft.html?showComment\x3d1392028647591#c8681182935465010559', 'author': {'name': 'Mike Henderson', 'avatarUrl': '//lh3.googleusercontent.com/-W280ezwqKQc/AAAAAAAAAAI/AAAAAAABHK0/nhzO2r3atlI/s35-c/photo.jpg', 'profileUrl': 'https://www.blogger.com/profile/07939751371438494450'}, 'displayTime': 'February 10, 2014 at 2:37 AM', 'deleteclass': 'item-control blog-admin pid-292422221'}, {'id': '2016492729730781313', 'body': 'Hi, It will work on the Mega using the built in AttachInterrupt function on the pins listed here http://rcarduino.blogspot.ae/2013/04/the-problem-and-solutions-with-arduino.html Here is an example of 8 channels using PCInt on an Arduino UNO http://rcarduino.blogspot.ae/2013/04/problem-reading-rc-channels-rcarduino.html\x3cbr /\x3e\x3cbr /\x3eDuane. ', 'timestamp': '1392038237238', 'permalink': 'http://rcarduino.blogspot.com/2012/04/how-to-read-multiple-rc-channels-draft.html?showComment\x3d1392038237238#c2016492729730781313', 'author': {'name': 'Can_I_Trade?', 'avatarUrl': '//img2.blogblog.com/img/b16-rounded.gif', 'profileUrl': 'https://www.blogger.com/profile/07867684474123805993'}, 'displayTime': 'February 10, 2014 at 5:17 AM', 'deleteclass': 'item-control blog-admin pid-195722605'}, {'id': '6673000479540657184', 'body': 'Hi, i want to control 4 dc motors which are 3 motors in both directions and the other motor just in one direction. I planned to use the Walkera TX5805 and RX701 which both have 7 channels. Is it possible to do the configuration with the DEVO F7 transmitter? If yes, how does the configuration looks like? Hope to get a feedback esepcially on the coding. Thank you\x3cbr /\x3e\x3cbr /\x3e', 'timestamp': '1393343003495', 'permalink': 'http://rcarduino.blogspot.com/2012/04/how-to-read-multiple-rc-channels-draft.html?showComment\x3d1393343003495#c6673000479540657184', 'author': {'name': 'Anonymous', 'avatarUrl': '//img1.blogblog.com/img/blank.gif', 'profileUrl': ''}, 'displayTime': 'February 25, 2014 at 7:43 AM', 'deleteclass': 'item-control blog-admin pid-381660647'}, {'id': '603314259414273', 'body': 'Hi, I\x26#39;m trying to read the signal from AR600 Spektrum rc receiver but i can\x26#39;t seem to find a solution. Nothing works... i tried pulseIn(), using a timer - micros(), usiong a timer with interrupts, reading from analog input. I\x26#39;m working on a school project on APM 2.5, using input pin 1 \x3d 13 and A0 \x3d 97. I can\x26#39;t get something from the receiver and I know the receiver works since without the arduino board i manage to control servos only with it. I\x26#39;ve been struggling for a few days now and I don\x26#39;t know what to do. Any help? Thanks.  \x3cbr /\x3e\x3cbr /\x3es.paul1408@gmail.com', 'timestamp': '1395152088659', 'permalink': 'http://rcarduino.blogspot.com/2012/04/how-to-read-multiple-rc-channels-draft.html?showComment\x3d1395152088659#c603314259414273', 'author': {'name': 'SPaM', 'avatarUrl': '//1.bp.blogspot.com/_8_KRrEBiEyE/SxP_z8M8sFI/AAAAAAAAACc/YGe435tJIGE/S45-s35/Image001.jpg', 'profileUrl': 'https://www.blogger.com/profile/09997255254727717661'}, 'displayTime': 'March 18, 2014 at 7:14 AM', 'deleteclass': 'item-control blog-admin pid-812495049'}, {'id': '6729309588486326191', 'body': 'No idea what an APM 2.5 is, but if its anything like and Arduino, the most common mistake is not connecting the ground of the receiver to the ground of the Arduino to form a common ground between the two.\x3cbr /\x3e\x3cbr /\x3eDuane ', 'timestamp': '1395336147318', 'permalink': 'http://rcarduino.blogspot.com/2012/04/how-to-read-multiple-rc-channels-draft.html?showComment\x3d1395336147318#c6729309588486326191', 'author': {'name': 'Can_I_Trade?', 'avatarUrl': '//img2.blogblog.com/img/b16-rounded.gif', 'profileUrl': 'https://www.blogger.com/profile/07867684474123805993'}, 'displayTime': 'March 20, 2014 at 10:22 AM', 'deleteclass': 'item-control blog-admin pid-195722605'}, {'id': '6342978880124161558', 'body': '...Or you could use a spectrum satelite receiver, and connect it to the serial port.\x3cbr /\x3ehttp://forum.arduino.cc/index.php/topic,22266.0.html\x3cbr /\x3e\x3cbr /\x3eedit\x3cbr /\x3eapm 2.5 is ardupilot mega, which does not have a serial-in from spectrum satelite\x3cbr /\x3ethat is - if you are using the normal arducopter firmware\x3cbr /\x3e\x3cbr /\x3eTry this, just replace \x26quot;ar8000\x26quot; with \x26quot;ar600\x26quot; both receivers send the same type of servo signal\x3cbr /\x3ehttp://diydrones.com/forum/topics/connecting-apm-2-5-with-spektrum-ar8000\x3cbr /\x3e\x3cbr /\x3e', 'timestamp': '1398713939408', 'permalink': 'http://rcarduino.blogspot.com/2012/04/how-to-read-multiple-rc-channels-draft.html?showComment\x3d1398713939408#c6342978880124161558', 'author': {'name': 'Kenneth Due', 'avatarUrl': '//lh4.googleusercontent.com/-_4yGqjzqJzc/AAAAAAAAAAI/AAAAAAAAAD0/e8P_pspS8f0/s35-c/photo.jpg', 'profileUrl': 'https://www.blogger.com/profile/18168519784793495143'}, 'displayTime': 'April 28, 2014 at 12:38 PM', 'deleteclass': 'item-control blog-admin pid-1267337549'}, {'id': '3757369162851941894', 'body': 'Hi Dear,\x3cbr /\x3e\x3cbr /\x3eI practiced this sketch with Arduino Mega 2560 and was working well. BUT I noticed that it\x26#39;s working for 10,11 and 12 pins only and use standard interrupts with pins 2 and 3. does it means we can have five pulse In pins only. please advise me if something missing.\x3cbr /\x3e\x3cbr /\x3eThanks a lot,\x3cbr /\x3eFateh', 'timestamp': '1401647401173', 'permalink': 'http://rcarduino.blogspot.com/2012/04/how-to-read-multiple-rc-channels-draft.html?showComment\x3d1401647401173#c3757369162851941894', 'author': {'name': 'Fateh Al-Bazeli', 'avatarUrl': '//img2.blogblog.com/img/b16-rounded.gif', 'profileUrl': 'https://www.blogger.com/profile/11789721428513972385'}, 'displayTime': 'June 1, 2014 at 11:30 AM', 'deleteclass': 'item-control blog-admin pid-1010477942'}, {'id': '807991686294511391', 'body': 'I\x26#39;m using this sketch to act as a \x26quot;cruise control\x26quot; for a model train. Haven\x26#39;t yet got my RC equipment but will in the future. At this point i\x26#39;m using a infrared switch to count wheel rotations. I\x26#39;m counting \x26quot;pulses\x26quot; from the switch in a 1/10 second time frame. There is a delay(100) in the loop. Will this mess up how the sketch works to sense pulse widths from the RX when i get the RC stuff? I don\x26#39;t need super responsive servo action; a slight delay is OK. Just need to make sure i\x26#39;m reading the correct signal from the RX.\x3cbr /\x3eThx.\x3cbr /\x3eMarty', 'timestamp': '1402446546954', 'permalink': 'http://rcarduino.blogspot.com/2012/04/how-to-read-multiple-rc-channels-draft.html?showComment\x3d1402446546954#c807991686294511391', 'author': {'name': 'skeeterweazel', 'avatarUrl': '//lh3.googleusercontent.com/-R1e9-nZ293s/AAAAAAAAAAI/AAAAAAAAABI/cPvZ5C5YZOM/s35-c/photo.jpg', 'profileUrl': 'https://www.blogger.com/profile/00002735442342456821'}, 'displayTime': 'June 10, 2014 at 5:29 PM', 'deleteclass': 'item-control blog-admin pid-958637262'}, {'id': '2712944835899513857', 'body': 'No, a delay(100) will not effect the RC Reading as it uses interrupts. However you could easily adapt one of the RC Channels in the code above to read the wheel speed using interrupts.\x3cbr /\x3e\x3cbr /\x3eDuane B', 'timestamp': '1402501684941', 'permalink': 'http://rcarduino.blogspot.com/2012/04/how-to-read-multiple-rc-channels-draft.html?showComment\x3d1402501684941#c2712944835899513857', 'author': {'name': 'Can_I_Trade?', 'avatarUrl': '//img2.blogblog.com/img/b16-rounded.gif', 'profileUrl': 'https://www.blogger.com/profile/07867684474123805993'}, 'displayTime': 'June 11, 2014 at 8:48 AM', 'deleteclass': 'item-control blog-admin pid-195722605'}, {'id': '5350492770158607692', 'body': 'hi, i have following problem: when i disconnect a rc receiver wire, there should be GND over a Pulldown Resistor on the Pin. sometimes it is recognized some times not. i don\x26#39;t know what to do. pulldown is about 20kohm\x3cbr /\x3e\x3cbr /\x3ethanks', 'timestamp': '1403539062307', 'permalink': 'http://rcarduino.blogspot.com/2012/04/how-to-read-multiple-rc-channels-draft.html?showComment\x3d1403539062307#c5350492770158607692', 'author': {'name': 'Picfly Luftaufnahmen', 'avatarUrl': '//lh6.googleusercontent.com/-86Iw90U7b84/AAAAAAAAAAI/AAAAAAAAAFU/gnyhq6Savw4/s35-c/photo.jpg', 'profileUrl': 'https://www.blogger.com/profile/14300116018647733129'}, 'displayTime': 'June 23, 2014 at 8:57 AM', 'deleteclass': 'item-control blog-admin pid-1518824996'}, {'id': '8349738243166678342', 'body': 'Try a pull up instead and/or Try a smaller value pull down like a 10K and/or Use a multimeter to make sure that the ground is a good connection to the same ground the Arduino is using. \x3cbr /\x3e\x3cbr /\x3eDuane B', 'timestamp': '1403543294031', 'permalink': 'http://rcarduino.blogspot.com/2012/04/how-to-read-multiple-rc-channels-draft.html?showComment\x3d1403543294031#c8349738243166678342', 'author': {'name': 'Can_I_Trade?', 'avatarUrl': '//img2.blogblog.com/img/b16-rounded.gif', 'profileUrl': 'https://www.blogger.com/profile/07867684474123805993'}, 'displayTime': 'June 23, 2014 at 10:08 AM', 'deleteclass': 'item-control blog-admin pid-195722605'}, {'id': '7456671866527811251', 'body': 'Thank you for sharing this information this is very nice blog thank you for giving this info.\x3cbr /\x3eI share your post link in my new site ,', 'timestamp': '1403545203683', 'permalink': 'http://rcarduino.blogspot.com/2012/04/how-to-read-multiple-rc-channels-draft.html?showComment\x3d1403545203683#c7456671866527811251', 'author': {'name': 'ARDUINO Project 99', 'avatarUrl': '//img1.blogblog.com/img/blank.gif', 'profileUrl': 'http://rcarduino.blogspot.com/2012/04/how-to-read-multiple-rc-channels-draft.html'}, 'displayTime': 'June 23, 2014 at 10:40 AM', 'deleteclass': 'item-control blog-admin pid-959029258'}, {'id': '6189444847515362405', 'body': 'Duane, thx for all your work w/ your code. It\x26#39;s working well for me on my little steam engine. I\x26#39;ve received my R/C stuff and am deciding how i want to use it. The Arduino gives so much flexibility. Here is a little video of my loco in \x26quot;cruise control\x26quot; mode. http://youtu.be/jntED_VEsMk\x3cbr /\x3eMarty', 'timestamp': '1404279111440', 'permalink': 'http://rcarduino.blogspot.com/2012/04/how-to-read-multiple-rc-channels-draft.html?showComment\x3d1404279111440#c6189444847515362405', 'author': {'name': 'skeeterweazel', 'avatarUrl': '//lh3.googleusercontent.com/-R1e9-nZ293s/AAAAAAAAAAI/AAAAAAAAABI/cPvZ5C5YZOM/s35-c/photo.jpg', 'profileUrl': 'https://www.blogger.com/profile/00002735442342456821'}, 'displayTime': 'July 1, 2014 at 10:31 PM', 'deleteclass': 'item-control blog-admin pid-958637262'}, {'id': '4505641256291294418', 'body': 'Hello Duane B\x3cbr /\x3e\x3cbr /\x3eI design a code based on your example that sample 10 RC signals. 4 of them I pass directly to 4 servos using servo library. I use a Pro Mini card with ATMEGA328 5V/16M. It works fine but a get a tickle on servos. This tickle persist even when I send a constant value of 1500 at the servos  on setup function and on loop function I don\x26#39;t actualize this value, and of course the pin change interrupt is working. When I disable the RC signals (close the radio Tx) the tickle disappear. So you have any idea how I can solve the problem of the servo tickling?\x3cbr /\x3e\x3cbr /\x3eThank you very much\x3cbr /\x3eSorin', 'timestamp': '1413678373939', 'permalink': 'http://rcarduino.blogspot.com/2012/04/how-to-read-multiple-rc-channels-draft.html?showComment\x3d1413678373939#c4505641256291294418', 'author': {'name': 'Sorin Czeizler', 'avatarUrl': '//lh6.googleusercontent.com/-lkDAQkM2ABM/AAAAAAAAAAI/AAAAAAAAABI/UXUa2lY0I4s/s35-c/photo.jpg', 'profileUrl': 'https://www.blogger.com/profile/00323788940063133185'}, 'displayTime': 'October 18, 2014 at 5:26 PM', 'deleteclass': 'item-control blog-admin pid-1051042003'}, {'id': '5893870403756843096', 'body': '\x3cspan class\x3d\x27deleted-comment\x27\x3eThis comment has been removed by the author.\x3c/span\x3e', 'timestamp': '1413715375811', 'permalink': 'http://rcarduino.blogspot.com/2012/04/how-to-read-multiple-rc-channels-draft.html?showComment\x3d1413715375811#c5893870403756843096', 'author': {'name': 'Can_I_Trade?', 'avatarUrl': '//img2.blogblog.com/img/b16-rounded.gif', 'profileUrl': 'https://www.blogger.com/profile/07867684474123805993'}, 'displayTime': 'October 19, 2014 at 3:42 AM', 'deleteclass': 'item-control blog-admin pid-195722605'}, {'id': '1210265758923081675', 'parentId': '4505641256291294418', 'body': 'Hi, If I understand, you write 1500 to your servos in the setup function and then do not change this value. You use interrupts to read RC Signals but do not use the signals you read to update servo positions. Your servos make tiny movements as if there is some small interference. These tiny movements stop if you turn the radio off. \x3cbr /\x3e\x3cbr /\x3eThere is an explanation and solution here - http://rcarduino.blogspot.ae/2012/11/how-to-read-rc-channels-rcarduinofastlib.html Duane B on How To Read Multiple RC Channels\x3cbr /\x3e\x3cbr /\x3eDuane B', 'timestamp': '1413715497684', 'permalink': 'http://rcarduino.blogspot.com/2012/04/how-to-read-multiple-rc-channels-draft.html?showComment\x3d1413715497684#c1210265758923081675', 'author': {'name': 'Can_I_Trade?', 'avatarUrl': '//img2.blogblog.com/img/b16-rounded.gif', 'profileUrl': 'https://www.blogger.com/profile/07867684474123805993'}, 'displayTime': 'October 19, 2014 at 3:44 AM', 'deleteclass': 'item-control blog-admin pid-195722605'}, {'id': '7342575671776317599', 'body': 'I\x26#39;m just beginning to look at this, and by no means an expert, but why don\x26#39;t we use a filter (PWM to analog voltage say a 750k resistor and a 1000u cap?) and plug the RC directly to analog pins instead of reading with pulseIn or interrupts?', 'timestamp': '1424452296322', 'permalink': 'http://rcarduino.blogspot.com/2012/04/how-to-read-multiple-rc-channels-draft.html?showComment\x3d1424452296322#c7342575671776317599', 'author': {'name': 'Anonymous', 'avatarUrl': '//img1.blogblog.com/img/blank.gif', 'profileUrl': ''}, 'displayTime': 'February 20, 2015 at 9:11 AM', 'deleteclass': 'item-control blog-admin pid-261425593'}, {'id': '6669762254613736625', 'body': 'RC PWM is a very different signal than, the PWM Signal you get from analogWrite. RC PWM is a way of multiplexing lots of individual RC Channels into a single radio channel. If you look at the content of a single channel you will see that it is mostly empty space. There is a lot more background here -\x3cbr /\x3e\x3cbr /\x3ehttp://rcarduino.blogspot.ae/2012/01/how-to-read-rc-receiver-with.html\x3cbr /\x3e\x3cbr /\x3eand\x3cbr /\x3e\x3cbr /\x3ehttp://rcarduino.blogspot.ae/2012/11/how-to-read-rc-receiver-ppm-stream.html\x3cbr /\x3e\x3cbr /\x3eSo long story short, RC Signals are designed to pack upto 10 Servo (PWM) channels into a single (PPM) Radio channel, transmitting analogue type signals would not allow more than one servo per radio channel. \x3cbr /\x3e\x3cbr /\x3eAs a final thought, what would neutral and reverse look like if it was as simple as sending PWM ?\x3cbr /\x3e\x3cbr /\x3eDuane.', 'timestamp': '1424625199172', 'permalink': 'http://rcarduino.blogspot.com/2012/04/how-to-read-multiple-rc-channels-draft.html?showComment\x3d1424625199172#c6669762254613736625', 'author': {'name': 'Can_I_Trade?', 'avatarUrl': '//img2.blogblog.com/img/b16-rounded.gif', 'profileUrl': 'https://www.blogger.com/profile/07867684474123805993'}, 'displayTime': 'February 22, 2015 at 9:13 AM', 'deleteclass': 'item-control blog-admin pid-195722605'}, {'id': '4328179495323319472', 'parentId': '6669762254613736625', 'body': 'I think we are looking at it differently. I am talking about capturing the signal from the pin outputs of the rc receiver, since you hook up ESCs and servos to them directly. I get the radio signal itself is PWM or PPM, but I thought the receivers always output PWM on the individual channels.\x3cbr /\x3e\x3cbr /\x3eIf we tapped into the pin outs on the rc receiver to the analog in on the arduino, wouldn\x26#39;t it be the same signal a servo would get, a PWM? Then putting the circuit above inbetween to level the signal to beable to jsut do an analogread?', 'timestamp': '1425576656371', 'permalink': 'http://rcarduino.blogspot.com/2012/04/how-to-read-multiple-rc-channels-draft.html?showComment\x3d1425576656371#c4328179495323319472', 'author': {'name': 'Anonymous', 'avatarUrl': '//img1.blogblog.com/img/blank.gif', 'profileUrl': ''}, 'displayTime': 'March 5, 2015 at 9:30 AM', 'deleteclass': 'item-control blog-admin pid-2099957756'}, {'id': '6038377744243095430', 'parentId': '6669762254613736625', 'body': 'Please read or reread the link I posted in my previous response, particularly the background section starting with the comment \x3cbr /\x3e\x3cbr /\x3e\x26quot;What are we looking for when we read from an RC Receiver ? Its not what I originally expected, my guess was that it was an analogue signal that would be amplified by the speed controller or servo controller to drive the motors. Its not analogue at all, its actually mostly empty space. \x3cbr /\x3e\x26quot;\x3cbr /\x3e\x3cbr /\x3eDuane.', 'timestamp': '1425992534705', 'permalink': 'http://rcarduino.blogspot.com/2012/04/how-to-read-multiple-rc-channels-draft.html?showComment\x3d1425992534705#c6038377744243095430', 'author': {'name': 'Can_I_Trade?', 'avatarUrl': '//img2.blogblog.com/img/b16-rounded.gif', 'profileUrl': 'https://www.blogger.com/profile/07867684474123805993'}, 'displayTime': 'March 10, 2015 at 6:02 AM', 'deleteclass': 'item-control blog-admin pid-195722605'}, {'id': '7777676159559989198', 'body': 'Hello Duane B!\x3cbr /\x3e\x3cbr /\x3eYour code works fine, thank you. I use it to measure two RC channel and control an PWM output. I tried to control some not-pwm-compatible pins, so I included a SoftPWM library too. Is it possible to work together with your code? Thank you.\x3cbr /\x3e\x3cbr /\x3eMec', 'timestamp': '1430940542605', 'permalink': 'http://rcarduino.blogspot.com/2012/04/how-to-read-multiple-rc-channels-draft.html?showComment\x3d1430940542605#c7777676159559989198', 'author': {'name': 'Anonymous', 'avatarUrl': '//img1.blogblog.com/img/blank.gif', 'profileUrl': ''}, 'displayTime': 'May 6, 2015 at 12:29 PM', 'deleteclass': 'item-control blog-admin pid-837853385'}, {'id': '6163973406224087061', 'body': 'If all you are doing is reading incoming RC Signals and outputting PWM through a soft PWM Library, it should be possible. If you were outputting servo signals as well as soft PWM there would probably be conflicts in the use of timer interrupts by both libraries, this would not work well.\x3cbr /\x3e\x3cbr /\x3eThe soft PWM Libraries make use of high frequency timer interrupts which will have some effect on the accuracy of reading incoming signals as the Arduino can only deal with one interrupt at a time (RC Input interrupt or SoftPWM Output interrupt).\x3cbr /\x3e\x3cbr /\x3eI suggest that you give it a try, in theory it should work if you can tolerate the small (1 or 2%) errors in the input.\x3cbr /\x3e\x3cbr /\x3eDuane.', 'timestamp': '1430972194034', 'permalink': 'http://rcarduino.blogspot.com/2012/04/how-to-read-multiple-rc-channels-draft.html?showComment\x3d1430972194034#c6163973406224087061', 'author': {'name': 'Can_I_Trade?', 'avatarUrl': '//img2.blogblog.com/img/b16-rounded.gif', 'profileUrl': 'https://www.blogger.com/profile/07867684474123805993'}, 'displayTime': 'May 6, 2015 at 9:16 PM', 'deleteclass': 'item-control blog-admin pid-195722605'}, {'id': '2353058878784677902', 'parentId': '6163973406224087061', 'body': 'Thank you. I tried, it works, but some times it seems that program is stopped (SoftPWM stuck on a fixed value). I will debug my code. but in another configuration, where I don\x26#39;t use SoftPWM same program runs fine.\x3cbr /\x3e\x3cbr /\x3eMec', 'timestamp': '1430986671734', 'permalink': 'http://rcarduino.blogspot.com/2012/04/how-to-read-multiple-rc-channels-draft.html?showComment\x3d1430986671734#c2353058878784677902', 'author': {'name': 'Anonymous', 'avatarUrl': '//img1.blogblog.com/img/blank.gif', 'profileUrl': ''}, 'displayTime': 'May 7, 2015 at 1:17 AM', 'deleteclass': 'item-control blog-admin pid-1577641593'}, {'id': '6839787671402722390', 'body': 'Its probably a timer clash between the two libraries, check which timer registers the softPWM library uses and if it gives you an easy option to use a different set.\x3cbr /\x3e\x3cbr /\x3eDuane.', 'timestamp': '1431009389866', 'permalink': 'http://rcarduino.blogspot.com/2012/04/how-to-read-multiple-rc-channels-draft.html?showComment\x3d1431009389866#c6839787671402722390', 'author': {'name': 'Can_I_Trade?', 'avatarUrl': '//img2.blogblog.com/img/b16-rounded.gif', 'profileUrl': 'https://www.blogger.com/profile/07867684474123805993'}, 'displayTime': 'May 7, 2015 at 7:36 AM', 'deleteclass': 'item-control blog-admin pid-195722605'}, {'id': '5954011276169241791', 'body': 'Hi, My RC Transmitter-Receiver set still works fine but seeing as how it\x26#39;s pretty old now, every now and then the signal glitches and the receiver receives an outlier signal. I monitored the signal input in serial monitor and the normal range (from moving the stick on the transmitter all the way left and then all the way right) was 1100 to 1900 in serial monitor and when this \x26quot;glitch\x26quot; occurred, it would send something like \x3cbr /\x3e\x3cbr /\x3e22312\x3cbr /\x3e12916\x3cbr /\x3e24112\x3cbr /\x3e18324\x3cbr /\x3e\x3cbr /\x3eWhich would in effect make the servos attached to the output pins spaz out and this damaged the servos as they are not continuous rotating ones and when they reach their maximum and try to keep going, gears break and so on.\x3cbr /\x3e\x3cbr /\x3eMy question is how do I prevent the arduino from outputting these outlier numbers to the motors and how do I set an Operating Range or threshold for the input signal?\x3cbr /\x3e\x3cbr /\x3eThanks in advance\x3cbr /\x3eThe Anonymous Sometimes Late Spectating Potato', 'timestamp': '1434235486985', 'permalink': 'http://rcarduino.blogspot.com/2012/04/how-to-read-multiple-rc-channels-draft.html?showComment\x3d1434235486985#c5954011276169241791', 'author': {'name': 'Anonymous', 'avatarUrl': '//img1.blogblog.com/img/blank.gif', 'profileUrl': ''}, 'displayTime': 'June 13, 2015 at 3:44 PM', 'deleteclass': 'item-control blog-admin pid-1423500774'}, {'id': '2027969907999937248', 'body': 'See the \x26#39;constrain\x26#39; function on arduino.cc but those values suggest there is something wrong in your code or circuit.\x3cbr /\x3e\x3cbr /\x3eDuane B\x3cbr /\x3e', 'timestamp': '1434378392563', 'permalink': 'http://rcarduino.blogspot.com/2012/04/how-to-read-multiple-rc-channels-draft.html?showComment\x3d1434378392563#c2027969907999937248', 'author': {'name': 'Can_I_Trade?', 'avatarUrl': '//img2.blogblog.com/img/b16-rounded.gif', 'profileUrl': 'https://www.blogger.com/profile/07867684474123805993'}, 'displayTime': 'June 15, 2015 at 7:26 AM', 'deleteclass': 'item-control blog-admin pid-195722605'}, {'id': '2313710955702469522', 'body': 'Good information. I\x26#39;ve been editing some code that reads controllers in interrupts as you described and it makes no attempt to safeguard against updates at the wrong time. It was originally meant for an Arduino Uno but I\x26#39;m porting to a 32 bit Teensy 3.1. Firstly all the channels were going into a single interrupt and then it did a lot of work to decide which one tripped it. I have since made it one routine for each channel which simplifies the code a lot and makes each interrupt as fast as possible. Most obvious is the variables can be updated at any time and used inconsistently in the main code. There is also nothing declared as volatile.', 'timestamp': '1444934392861', 'permalink': 'http://rcarduino.blogspot.com/2012/04/how-to-read-multiple-rc-channels-draft.html?showComment\x3d1444934392861#c2313710955702469522', 'author': {'name': 'TheWhitde', 'avatarUrl': '//img2.blogblog.com/img/b16-rounded.gif', 'profileUrl': 'https://www.blogger.com/profile/13311933630092885001'}, 'displayTime': 'October 15, 2015 at 11:39 AM', 'deleteclass': 'item-control blog-admin pid-743450070'}, {'id': '2258078341566864416', 'parentId': '2313710955702469522', 'body': 'Are you making this available, I too use a Teensy from time to time.\x3cbr /\x3e\x3cbr /\x3eThanks!', 'timestamp': '1448327063115', 'permalink': 'http://rcarduino.blogspot.com/2012/04/how-to-read-multiple-rc-channels-draft.html?showComment\x3d1448327063115#c2258078341566864416', 'author': {'name': 'Unknown', 'avatarUrl': '//img2.blogblog.com/img/b16-rounded.gif', 'profileUrl': 'https://www.blogger.com/profile/08472191540534079861'}, 'displayTime': 'November 23, 2015 at 5:04 PM', 'deleteclass': 'item-control blog-admin pid-313306405'}, {'id': '7705277709493986484', 'body': 'Hi Dear\x3cbr /\x3eI am testing your upper code (Sample Code - MultiChannels rcarduino.blogspot.com) with an arduino Uno. I am not using a receiver for the input signal to the arduino, but the ESC output of a Pixhawk. The sample code is for 3 servo, and it\x26#39;s work quite fine. I have modify the code to use with 4 servos, and now it is slow and hacking.\x3cbr /\x3eDid you have an idea on whats wrong?\x3cbr /\x3eThanks,\x3cbr /\x3eOlivier', 'timestamp': '1452443010614', 'permalink': 'http://rcarduino.blogspot.com/2012/04/how-to-read-multiple-rc-channels-draft.html?showComment\x3d1452443010614#c7705277709493986484', 'author': {'name': 'Anonymous', 'avatarUrl': '//img1.blogblog.com/img/blank.gif', 'profileUrl': ''}, 'displayTime': 'January 10, 2016 at 8:23 AM', 'deleteclass': 'item-control blog-admin pid-1931952856'}];
      var msgs = {'loadMore': 'Load more...', 'loading': 'Loading...', 'loaded': 'No more!', 'addComment': 'Add comment', 'reply': 'Reply', 'delete': 'Delete'};
      var config = {'blogId': '7214097671310478681', 'postId': '1988199595784546015', 'feed': 'http://rcarduino.blogspot.com/feeds/1988199595784546015/comments/default', 'authorName': 'Can_I_Trade?', 'authorUrl': 'https://www.blogger.com/profile/07867684474123805993', 'baseUri': 'https://www.blogger.com', 'maxThreadDepth': 2};

// <![CDATA[
      var cursor = null;
      if (items && items.length > 0) {
        cursor = parseInt(items[items.length - 1].timestamp) + 1;
      }

      var bodyFromEntry = function(entry) {
        if (entry.gd$extendedProperty) {
          for (var k in entry.gd$extendedProperty) {
            if (entry.gd$extendedProperty[k].name == 'blogger.contentRemoved') {
              return '<span class="deleted-comment">' + entry.content.$t + '</span>';
            }
          }
        }
        return entry.content.$t;
      }

      var parse = function(data) {
        cursor = null;
        var comments = [];
        if (data && data.feed && data.feed.entry) {
          for (var i = 0, entry; entry = data.feed.entry[i]; i++) {
            var comment = {};
            // comment ID, parsed out of the original id format
            var id = /blog-(\d+).post-(\d+)/.exec(entry.id.$t);
            comment.id = id ? id[2] : null;
            comment.body = bodyFromEntry(entry);
            comment.timestamp = Date.parse(entry.published.$t) + '';
            if (entry.author && entry.author.constructor === Array) {
              var auth = entry.author[0];
              if (auth) {
                comment.author = {
                  name: (auth.name ? auth.name.$t : undefined),
                  profileUrl: (auth.uri ? auth.uri.$t : undefined),
                  avatarUrl: (auth.gd$image ? auth.gd$image.src : undefined)
                };
              }
            }
            if (entry.link) {
              if (entry.link[2]) {
                comment.link = comment.permalink = entry.link[2].href;
              }
              if (entry.link[3]) {
                var pid = /.*comments\/default\/(\d+)\?.*/.exec(entry.link[3].href);
                if (pid && pid[1]) {
                  comment.parentId = pid[1];
                }
              }
            }
            comment.deleteclass = 'item-control blog-admin';
            if (entry.gd$extendedProperty) {
              for (var k in entry.gd$extendedProperty) {
                if (entry.gd$extendedProperty[k].name == 'blogger.itemClass') {
                  comment.deleteclass += ' ' + entry.gd$extendedProperty[k].value;
                } else if (entry.gd$extendedProperty[k].name == 'blogger.displayTime') {
                  comment.displayTime = entry.gd$extendedProperty[k].value;
                }
              }
            }
            comments.push(comment);
          }
        }
        return comments;
      };

      var paginator = function(callback) {
        if (hasMore()) {
          var url = config.feed + '?alt=json&v=2&orderby=published&reverse=false&max-results=50';
          if (cursor) {
            url += '&published-min=' + new Date(cursor).toISOString();
          }
          window.bloggercomments = function(data) {
            var parsed = parse(data);
            cursor = parsed.length < 50 ? null
                : parseInt(parsed[parsed.length - 1].timestamp) + 1
            callback(parsed);
            window.bloggercomments = null;
          }
          url += '&callback=bloggercomments';
          var script = document.createElement('script');
          script.type = 'text/javascript';
          script.src = url;
          document.getElementsByTagName('head')[0].appendChild(script);
        }
      };
      var hasMore = function() {
        return !!cursor;
      };
      var getMeta = function(key, comment) {
        if ('iswriter' == key) {
          var matches = !!comment.author
              && comment.author.name == config.authorName
              && comment.author.profileUrl == config.authorUrl;
          return matches ? 'true' : '';
        } else if ('deletelink' == key) {
          return config.baseUri + '/delete-comment.g?blogID='
               + config.blogId + '&postID=' + comment.id;
        } else if ('deleteclass' == key) {
          return comment.deleteclass;
        }
        return '';
      };

      var replybox = null;
      var replyUrlParts = null;
      var replyParent = undefined;

      var onReply = function(commentId, domId) {
        if (replybox == null) {
          // lazily cache replybox, and adjust to suit this style:
          replybox = document.getElementById('comment-editor');
          if (replybox != null) {
            replybox.height = '250px';
            replybox.style.display = 'block';
            replyUrlParts = replybox.src.split('#');
          }
        }
        if (replybox && (commentId !== replyParent)) {
          replybox.src = '';
          document.getElementById(domId).insertBefore(replybox, null);
          replybox.src = replyUrlParts[0]
              + (commentId ? '&parentID=' + commentId : '')
              + '#' + replyUrlParts[1];
          replyParent = commentId;
        }
      };

      var hash = (window.location.hash || '#').substring(1);
      var startThread, targetComment;
      if (/^comment-form_/.test(hash)) {
        startThread = hash.substring('comment-form_'.length);
      } else if (/^c[0-9]+$/.test(hash)) {
        targetComment = hash.substring(1);
      }

      // Configure commenting API:
      var configJso = {
        'maxDepth': config.maxThreadDepth
      };
      var provider = {
        'id': config.postId,
        'data': items,
        'loadNext': paginator,
        'hasMore': hasMore,
        'getMeta': getMeta,
        'onReply': onReply,
        'rendered': true,
        'initComment': targetComment,
        'initReplyThread': startThread,
        'config': configJso,
        'messages': msgs
      };

      var render = function() {
        if (window.goog && window.goog.comments) {
          var holder = document.getElementById('comment-holder');
          window.goog.comments.render(holder, provider);
        }
      };

      // render now, or queue to render when library loads:
      if (window.goog && window.goog.comments) {
        render();
      } else {
        window.goog = window.goog || {};
        window.goog.comments = window.goog.comments || {};
        window.goog.comments.loadQueue = window.goog.comments.loadQueue || [];
        window.goog.comments.loadQueue.push(render);
      }
    })();
// ]]>
  </script>
<div id="comment-holder">

<div id="bc_0_142C" kind="c"><div id="bc_0_142CT"><div id="bc_0_141T" class="comment-thread" kind="r" t="0" u="0"><ol id="bc_0_141TB"><li id="bc_0_0B" class="comment" kind="b"><div class="avatar-image-container"><img src="./read receiver_files/blank.gif"></div><div id="c31245691701104701" class="comment-block"><div id="bc_0_0M" class="comment-header" kind="m"><cite class="user">Anonymous</cite><span class="icon user"></span><span class="datetime secondary-text"><a rel="nofollow" href="http://rcarduino.blogspot.com/2012/04/how-to-read-multiple-rc-channels-draft.html?showComment=1335126562658#c31245691701104701">April 22, 2012 at 1:29 PM</a></span></div><p id="bc_0_0MC" class="comment-content">Hi, I really like your code and I think you did a great job and it works perfectly. However, I have been reading through your code for the last few hours and I am having trouble figuring out how I could complete this task:<br><br>I have an 6DOF IMU that is connected to my arduino and is outputting euler angles. I would like to be able to use the unAuxIn value to switch from manually controlling the servos with my transmitter to using the angles from the IMU to control the position of the servo. In essence all I think I might need would be an if statements that would say something like "if unAuxIn &gt; 1800" but I don't know where this would go and I don't know if there is a better way to do this. I know this is a bit of a big question but I have been following you posts over the past few months and I think you are doing a great job. If you want to find out a bit more about the IMU I am using so that you can better understand my question, you can go to this website:<br><br>http://bildr.org/2012/03/stable-orientation-digital-imu-6dof-arduino/</p><span id="bc_0_0MN" class="comment-actions secondary-text" kind="m"><a kind="i" href="javascript:;" target="_self" o="r">Reply</a><span class="item-control blog-admin pid-371174944"><a o="d" target="_self" href="https://www.blogger.com/delete-comment.g?blogID=7214097671310478681&amp;postID=31245691701104701">Delete</a></span></span></div><div id="bc_0_0BR" class="comment-replies"></div><div id="bc_0_0B_box" class="comment-replybox-single"></div></li><li id="bc_0_1B" class="comment" kind="b"><div class="avatar-image-container"><img src="./read receiver_files/b16-rounded.gif"></div><div id="c7821900414415938199" class="comment-block"><div id="bc_0_1M" class="comment-header" kind="m"><cite class="user blog-author"><a rel="nofollow" href="https://www.blogger.com/profile/07867684474123805993">Can_I_Trade?</a></cite><span class="icon user blog-author"></span><span class="datetime secondary-text"><a rel="nofollow" href="http://rcarduino.blogspot.com/2012/04/how-to-read-multiple-rc-channels-draft.html?showComment=1335365937991#c7821900414415938199">April 25, 2012 at 7:58 AM</a></span></div><p id="bc_0_1MC" class="comment-content">Hi,<br>   Thanks for the feedback.<br><br>   Your idea to test for AuxIn &gt; 1800 is correct. I would add a new variable to track the current mode. I would set the mode to AUTO_PILOT if AuxIn &gt; 1800 and to MANUAL_PILOT if AuxIn &lt; 1200 - I assume that your auxiliary channel is a two position swicth like mine. You will then need to a new if condition which will only update the throttle and steering channel if mode = MANUAL_PILOT. As for what you do with the IMU, thats up to you.<br><br>Duane B.</p><span id="bc_0_1MN" class="comment-actions secondary-text" kind="m"><a kind="i" href="javascript:;" target="_self" o="r">Reply</a><span class="item-control blog-admin pid-195722605"><a o="d" target="_self" href="https://www.blogger.com/delete-comment.g?blogID=7214097671310478681&amp;postID=7821900414415938199">Delete</a></span></span></div><div id="bc_0_1BR" class="comment-replies"></div><div id="bc_0_1B_box" class="comment-replybox-single"></div></li><li id="bc_0_2B" class="comment" kind="b"><div class="avatar-image-container"><img src="./read receiver_files/b16-rounded.gif"></div><div id="c4044417050883765032" class="comment-block"><div id="bc_0_2M" class="comment-header" kind="m"><cite class="user"><a rel="nofollow" href="https://www.blogger.com/profile/05061017668201831309">Sev</a></cite><span class="icon user"></span><span class="datetime secondary-text"><a rel="nofollow" href="http://rcarduino.blogspot.com/2012/04/how-to-read-multiple-rc-channels-draft.html?showComment=1336588619546#c4044417050883765032">May 9, 2012 at 11:36 AM</a></span></div><p id="bc_0_2MC" class="comment-content">Hello,<br><br>I'm a beginner and I'm trying your code...<br><br>I'm surpised because the AUX channel has a very slow response time and I don't no why, do you think this is normal ?<br><br>Sev</p><span id="bc_0_2MN" class="comment-actions secondary-text" kind="m"><a kind="i" href="javascript:;" target="_self" o="r">Reply</a><span class="item-control blog-admin pid-1754858847"><a o="d" target="_self" href="https://www.blogger.com/delete-comment.g?blogID=7214097671310478681&amp;postID=4044417050883765032">Delete</a></span></span></div><div id="bc_0_2BR" class="comment-replies"></div><div id="bc_0_2B_box" class="comment-replybox-single"></div></li><li id="bc_0_3B" class="comment" kind="b"><div class="avatar-image-container"><img src="./read receiver_files/b16-rounded.gif"></div><div id="c4407410078954593671" class="comment-block"><div id="bc_0_3M" class="comment-header" kind="m"><cite class="user blog-author"><a rel="nofollow" href="https://www.blogger.com/profile/07867684474123805993">Can_I_Trade?</a></cite><span class="icon user blog-author"></span><span class="datetime secondary-text"><a rel="nofollow" href="http://rcarduino.blogspot.com/2012/04/how-to-read-multiple-rc-channels-draft.html?showComment=1336636900816#c4407410078954593671">May 10, 2012 at 1:01 AM</a></span></div><p id="bc_0_3MC" class="comment-content">Hi,<br>   As a quick test, try swapping the connection of your Aux channel with one of the other channels, for example, connect your throttle channel to aux and aux to the throttle, is the response of aux still slow ? This will tell whether it is a transmitter setting or the problem is in the code.<br><br>Duane B</p><span id="bc_0_3MN" class="comment-actions secondary-text" kind="m"><a kind="i" href="javascript:;" target="_self" o="r">Reply</a><span class="item-control blog-admin pid-195722605"><a o="d" target="_self" href="https://www.blogger.com/delete-comment.g?blogID=7214097671310478681&amp;postID=4407410078954593671">Delete</a></span></span></div><div id="bc_0_3BR" class="comment-replies"></div><div id="bc_0_3B_box" class="comment-replybox-single"></div></li><li id="bc_0_4B" class="comment" kind="b"><div class="avatar-image-container"><img src="./read receiver_files/b16-rounded.gif"></div><div id="c3627766762744377811" class="comment-block"><div id="bc_0_4M" class="comment-header" kind="m"><cite class="user"><a rel="nofollow" href="https://www.blogger.com/profile/05061017668201831309">Sev</a></cite><span class="icon user"></span><span class="datetime secondary-text"><a rel="nofollow" href="http://rcarduino.blogspot.com/2012/04/how-to-read-multiple-rc-channels-draft.html?showComment=1336647591217#c3627766762744377811">May 10, 2012 at 3:59 AM</a></span></div><p id="bc_0_4MC" class="comment-content">Hello,<br><br>I allready tested to move PIN attribution from :<br>// Assign your channel in pins<br>#define THROTTLE_IN_PIN 5<br>#define STEERING_IN_PIN 6<br>#define AUX_IN_PIN 7<br><br>to :<br>#define THROTTLE_IN_PIN 4<br>#define STEERING_IN_PIN 5<br>#define AUX_IN_PIN 6<br><br>My receiver has been tested without Arduino, connected to 3 servo.<br>I allready try to plug "Aux Servo" and "Steering Servo" one on each other.<br><br>And this is allways the <br><br>That's why I'm seriously thinking about a code specification on Aux Channel. (AUX_OUT_PIN 10)<br><br>Maybe I'll try to put Steering-out on 10 and Aux-out on 9...</p><span id="bc_0_4MN" class="comment-actions secondary-text" kind="m"><a kind="i" href="javascript:;" target="_self" o="r">Reply</a><span class="item-control blog-admin pid-1754858847"><a o="d" target="_self" href="https://www.blogger.com/delete-comment.g?blogID=7214097671310478681&amp;postID=3627766762744377811">Delete</a></span></span></div><div id="bc_0_4BR" class="comment-replies"></div><div id="bc_0_4B_box" class="comment-replybox-single"></div></li><li id="bc_0_5B" class="comment" kind="b"><div class="avatar-image-container"><img src="./read receiver_files/b16-rounded.gif"></div><div id="c9156711619191735374" class="comment-block"><div id="bc_0_5M" class="comment-header" kind="m"><cite class="user blog-author"><a rel="nofollow" href="https://www.blogger.com/profile/07867684474123805993">Can_I_Trade?</a></cite><span class="icon user blog-author"></span><span class="datetime secondary-text"><a rel="nofollow" href="http://rcarduino.blogspot.com/2012/04/how-to-read-multiple-rc-channels-draft.html?showComment=1336648871926#c9156711619191735374">May 10, 2012 at 4:21 AM</a></span></div><p id="bc_0_5MC" class="comment-content">Hi,<br>  Can you clarify that it is always the AUX_OUT_PIN which is slow whatever is connected to it and can you be more specific about the slow response<br><br>Thanks</p><span id="bc_0_5MN" class="comment-actions secondary-text" kind="m"><a kind="i" href="javascript:;" target="_self" o="r">Reply</a><span class="item-control blog-admin pid-195722605"><a o="d" target="_self" href="https://www.blogger.com/delete-comment.g?blogID=7214097671310478681&amp;postID=9156711619191735374">Delete</a></span></span></div><div id="bc_0_5BR" class="comment-replies"></div><div id="bc_0_5B_box" class="comment-replybox-single"></div></li><li id="bc_0_6B" class="comment" kind="b"><div class="avatar-image-container"><img src="./read receiver_files/b16-rounded.gif"></div><div id="c6937203567631709011" class="comment-block"><div id="bc_0_6M" class="comment-header" kind="m"><cite class="user"><a rel="nofollow" href="https://www.blogger.com/profile/05061017668201831309">Sev</a></cite><span class="icon user"></span><span class="datetime secondary-text"><a rel="nofollow" href="http://rcarduino.blogspot.com/2012/04/how-to-read-multiple-rc-channels-draft.html?showComment=1336674734323#c6937203567631709011">May 10, 2012 at 11:32 AM</a></span></div><p id="bc_0_6MC" class="comment-content">I've tested changing output pin (9/10), supressing conditions flags... and this always happening with Aux Channel, but finaly I found something strange :<br><br>This is mostly happening when Throttle Channel is at the middle point...<br>Maybe the "GoingUp Aux signal" is "masked" by the "GoingDown Throttle signal", is this possible ?</p><span id="bc_0_6MN" class="comment-actions secondary-text" kind="m"><a kind="i" href="javascript:;" target="_self" o="r">Reply</a><span class="item-control blog-admin pid-1754858847"><a o="d" target="_self" href="https://www.blogger.com/delete-comment.g?blogID=7214097671310478681&amp;postID=6937203567631709011">Delete</a></span></span></div><div id="bc_0_6BR" class="comment-replies"></div><div id="bc_0_6B_box" class="comment-replybox-single"></div></li><li id="bc_0_7B" class="comment" kind="b"><div class="avatar-image-container"><img src="./read receiver_files/b16-rounded.gif"></div><div id="c3267519069333371572" class="comment-block"><div id="bc_0_7M" class="comment-header" kind="m"><cite class="user blog-author"><a rel="nofollow" href="https://www.blogger.com/profile/07867684474123805993">Can_I_Trade?</a></cite><span class="icon user blog-author"></span><span class="datetime secondary-text"><a rel="nofollow" href="http://rcarduino.blogspot.com/2012/04/how-to-read-multiple-rc-channels-draft.html?showComment=1336676261337#c3267519069333371572">May 10, 2012 at 11:57 AM</a></span></div><p id="bc_0_7MC" class="comment-content">Hi,<br>one thing I wanted to eliminate is 'channel mixing' where your radio is set up to adjust the output of one channel based on another channel. What radio and receiver are you using and what do you have connected to the aux channel ?<br><br>also, what type of vehicle ?<br><br>Thanks<br><br>Duane</p><span id="bc_0_7MN" class="comment-actions secondary-text" kind="m"><a kind="i" href="javascript:;" target="_self" o="r">Reply</a><span class="item-control blog-admin pid-195722605"><a o="d" target="_self" href="https://www.blogger.com/delete-comment.g?blogID=7214097671310478681&amp;postID=3267519069333371572">Delete</a></span></span></div><div id="bc_0_7BR" class="comment-replies"></div><div id="bc_0_7B_box" class="comment-replybox-single"></div></li><li id="bc_0_8B" class="comment" kind="b"><div class="avatar-image-container"><img src="./read receiver_files/b16-rounded.gif"></div><div id="c585026711357186901" class="comment-block"><div id="bc_0_8M" class="comment-header" kind="m"><cite class="user blog-author"><a rel="nofollow" href="https://www.blogger.com/profile/07867684474123805993">Can_I_Trade?</a></cite><span class="icon user blog-author"></span><span class="datetime secondary-text"><a rel="nofollow" href="http://rcarduino.blogspot.com/2012/04/how-to-read-multiple-rc-channels-draft.html?showComment=1336677686773#c585026711357186901">May 10, 2012 at 12:21 PM</a></span></div><p id="bc_0_8MC" class="comment-content">One more thing, have you tried using the original code as it is posted here, but with the throttle input and output physically swapped with the aux input and output. If the code is causing the response this should now effect the throttle not aux.<br><br>Duane b</p><span id="bc_0_8MN" class="comment-actions secondary-text" kind="m"><a kind="i" href="javascript:;" target="_self" o="r">Reply</a><span class="item-control blog-admin pid-195722605"><a o="d" target="_self" href="https://www.blogger.com/delete-comment.g?blogID=7214097671310478681&amp;postID=585026711357186901">Delete</a></span></span></div><div id="bc_0_8BR" class="comment-replies"></div><div id="bc_0_8B_box" class="comment-replybox-single"></div></li><li id="bc_0_9B" class="comment" kind="b"><div class="avatar-image-container"><img src="./read receiver_files/vache.gif"></div><div id="c7835930787849471152" class="comment-block"><div id="bc_0_9M" class="comment-header" kind="m"><cite class="user"><a rel="nofollow" href="https://www.blogger.com/profile/05061017668201831309">Sev</a></cite><span class="icon user"></span><span class="datetime secondary-text"><a rel="nofollow" href="http://rcarduino.blogspot.com/2012/04/how-to-read-multiple-rc-channels-draft.html?showComment=1336679539918#c7835930787849471152">May 10, 2012 at 12:52 PM</a></span></div><p id="bc_0_9MC" class="comment-content">I'm using Turnigy9CH-Tx with Eurgle3ch-Rx, for the moment, it is just for testing, so I just plug 2 servos (Steer&amp;Aux) and 1 little 8A/ESC with type400 motor, (the ESC/BEC feed the servos 5V).<br><br>As you said, Next test will be to swap PIN again (Thro &amp; Aux, IN and OUT), if this is a masking effect, I should be fixed with this test (I'll try to post it on YouTube)</p><span id="bc_0_9MN" class="comment-actions secondary-text" kind="m"><a kind="i" href="javascript:;" target="_self" o="r">Reply</a><span class="item-control blog-admin pid-1754858847"><a o="d" target="_self" href="https://www.blogger.com/delete-comment.g?blogID=7214097671310478681&amp;postID=7835930787849471152">Delete</a></span></span></div><div id="bc_0_9BR" class="comment-replies"></div><div id="bc_0_9B_box" class="comment-replybox-single"></div></li><li id="bc_0_10B" class="comment" kind="b"><div class="avatar-image-container"><img src="./read receiver_files/b16-rounded.gif"></div><div id="c7799416253235296328" class="comment-block"><div id="bc_0_10M" class="comment-header" kind="m"><cite class="user blog-author"><a rel="nofollow" href="https://www.blogger.com/profile/07867684474123805993">Can_I_Trade?</a></cite><span class="icon user blog-author"></span><span class="datetime secondary-text"><a rel="nofollow" href="http://rcarduino.blogspot.com/2012/04/how-to-read-multiple-rc-channels-draft.html?showComment=1336679943965#c7799416253235296328">May 10, 2012 at 12:59 PM</a></span></div><p id="bc_0_10MC" class="comment-content">Hi, is it this radio, if so the link suggests that version 1 has problems<br><br>http://www.hobbyking.com/hobbyking/store/__8992__Turnigy_9X_9Ch_Transmitter_w_Module_8ch_Receiver_Mode_2_v2_Firmware_.html<br><br>Duane B</p><span id="bc_0_10MN" class="comment-actions secondary-text" kind="m"><a kind="i" href="javascript:;" target="_self" o="r">Reply</a><span class="item-control blog-admin pid-195722605"><a o="d" target="_self" href="https://www.blogger.com/delete-comment.g?blogID=7214097671310478681&amp;postID=7799416253235296328">Delete</a></span></span></div><div id="bc_0_10BR" class="comment-replies"></div><div id="bc_0_10B_box" class="comment-replybox-single"></div></li><li id="bc_0_11B" class="comment" kind="b"><div class="avatar-image-container"><img src="./read receiver_files/b16-rounded.gif"></div><div id="c295888462324965399" class="comment-block"><div id="bc_0_11M" class="comment-header" kind="m"><cite class="user blog-author"><a rel="nofollow" href="https://www.blogger.com/profile/07867684474123805993">Can_I_Trade?</a></cite><span class="icon user blog-author"></span><span class="datetime secondary-text"><a rel="nofollow" href="http://rcarduino.blogspot.com/2012/04/how-to-read-multiple-rc-channels-draft.html?showComment=1336680875038#c295888462324965399">May 10, 2012 at 1:14 PM</a></span></div><p id="bc_0_11MC" class="comment-content">Link to manual - http://www.filadelfosrc.com/Manuals/TX-9X-M2-Manual.pdf</p><span id="bc_0_11MN" class="comment-actions secondary-text" kind="m"><a kind="i" href="javascript:;" target="_self" o="r">Reply</a><span class="item-control blog-admin pid-195722605"><a o="d" target="_self" href="https://www.blogger.com/delete-comment.g?blogID=7214097671310478681&amp;postID=295888462324965399">Delete</a></span></span></div><div id="bc_0_11BR" class="comment-replies"></div><div id="bc_0_11B_box" class="comment-replybox-single"></div></li><li id="bc_0_12B" class="comment" kind="b"><div class="avatar-image-container"><img src="./read receiver_files/b16-rounded.gif"></div><div id="c6609302542724165431" class="comment-block"><div id="bc_0_12M" class="comment-header" kind="m"><cite class="user blog-author"><a rel="nofollow" href="https://www.blogger.com/profile/07867684474123805993">Can_I_Trade?</a></cite><span class="icon user blog-author"></span><span class="datetime secondary-text"><a rel="nofollow" href="http://rcarduino.blogspot.com/2012/04/how-to-read-multiple-rc-channels-draft.html?showComment=1336715340020#c6609302542724165431">May 10, 2012 at 10:49 PM</a></span></div><p id="bc_0_12MC" class="comment-content">Hi,<br>   From the serial output you posted, it looks as if everything is working fine as far as the Arduino is concerned, the AUX Channel shows a steady input of 1468. <br><br>I notice that you are using a 9 channel transmitter with a 3 channel receiver, my guess is that the receiver processes the first 3 pulses it receives and ignores any further pulses until the next frame begins. It is possible that what is happening is that your transmitter AUX signal is not within the first three pulses so the transmitter is receiving throttle, steering, and then some other channel which is not Aux. The Aux pulse is later in the frame and being ignored by the receiver.<br><br>Try your test again but using the full range of controls/channels available on the transmitter, my guess is that one of them should cause the full range of movement in AUX.<br><br>To keep the serial output short and clear, you can stop outputting columns 1 and 3 we are only interested in the channel value.<br><br>Duane B.</p><span id="bc_0_12MN" class="comment-actions secondary-text" kind="m"><a kind="i" href="javascript:;" target="_self" o="r">Reply</a><span class="item-control blog-admin pid-195722605"><a o="d" target="_self" href="https://www.blogger.com/delete-comment.g?blogID=7214097671310478681&amp;postID=6609302542724165431">Delete</a></span></span></div><div id="bc_0_12BR" class="comment-replies"></div><div id="bc_0_12B_box" class="comment-replybox-single"></div></li><li id="bc_0_13B" class="comment" kind="b"><div class="avatar-image-container"><img src="./read receiver_files/vache.gif"></div><div id="c3129072337005094880" class="comment-block"><div id="bc_0_13M" class="comment-header" kind="m"><cite class="user"><a rel="nofollow" href="https://www.blogger.com/profile/05061017668201831309">Sev</a></cite><span class="icon user"></span><span class="datetime secondary-text"><a rel="nofollow" href="http://rcarduino.blogspot.com/2012/04/how-to-read-multiple-rc-channels-draft.html?showComment=1336728797532#c3129072337005094880">May 11, 2012 at 2:33 AM</a></span></div><p id="bc_0_13MC" class="comment-content">Thank for your responses, My Rx/Tx system is fully fonctionnal AND programmable, I'm using V2 radio with custom firmware (er9x), so the original manual is not usefull for me.<br>I'm using this system with planes, AR Drone (with MiruMod Arduino), and lots of little things I builded.<br><br>Before this test, I've programmed my radio to send what I want on the first 3 Channels, the Rx is only reading 3 first Channels.<br><br>When I connect everything directly on the Tx, everything is working fine, even the 3rd channel with a servo.<br><br>On my serialOutput, please take a look at the numbers I just colored in red, I think this is the problem.<br>The strange thing is that ulAuxStart is no more frequently updated BUT unAuxInShared continue to be (how is it possible ?)... if Arduino really do not see AuxGoingUp signal, unAuxInShared should be unrealist (too big) !!<br><br>The servo lagging problem is occuring precisely at this moment.</p><span id="bc_0_13MN" class="comment-actions secondary-text" kind="m"><a kind="i" href="javascript:;" target="_self" o="r">Reply</a><span class="item-control blog-admin pid-1754858847"><a o="d" target="_self" href="https://www.blogger.com/delete-comment.g?blogID=7214097671310478681&amp;postID=3129072337005094880">Delete</a></span></span></div><div id="bc_0_13BR" class="comment-replies"></div><div id="bc_0_13B_box" class="comment-replybox-single"></div></li><li id="bc_0_14B" class="comment" kind="b"><div class="avatar-image-container"><img src="./read receiver_files/b16-rounded.gif"></div><div id="c3697392536458134851" class="comment-block"><div id="bc_0_14M" class="comment-header" kind="m"><cite class="user blog-author"><a rel="nofollow" href="https://www.blogger.com/profile/07867684474123805993">Can_I_Trade?</a></cite><span class="icon user blog-author"></span><span class="datetime secondary-text"><a rel="nofollow" href="http://rcarduino.blogspot.com/2012/04/how-to-read-multiple-rc-channels-draft.html?showComment=1336731443771#c3697392536458134851">May 11, 2012 at 3:17 AM</a></span></div><p id="bc_0_14MC" class="comment-content">Hi,<br>  Can you post your loop function or the ISR, whichever it is that you are generating the serial from<br><br>Thanks</p><span id="bc_0_14MN" class="comment-actions secondary-text" kind="m"><a kind="i" href="javascript:;" target="_self" o="r">Reply</a><span class="item-control blog-admin pid-195722605"><a o="d" target="_self" href="https://www.blogger.com/delete-comment.g?blogID=7214097671310478681&amp;postID=3697392536458134851">Delete</a></span></span></div><div id="bc_0_14BR" class="comment-replies"></div><div id="bc_0_14B_box" class="comment-replybox-single"></div></li><li id="bc_0_15B" class="comment" kind="b"><div class="avatar-image-container"><img src="./read receiver_files/b16-rounded.gif"></div><div id="c7629849682551087629" class="comment-block"><div id="bc_0_15M" class="comment-header" kind="m"><cite class="user blog-author"><a rel="nofollow" href="https://www.blogger.com/profile/07867684474123805993">Can_I_Trade?</a></cite><span class="icon user blog-author"></span><span class="datetime secondary-text"><a rel="nofollow" href="http://rcarduino.blogspot.com/2012/04/how-to-read-multiple-rc-channels-draft.html?showComment=1336733052636#c7629849682551087629">May 11, 2012 at 3:44 AM</a></span></div><p id="bc_0_15MC" class="comment-content">Solved ! I hope.<br><br>I have just breadboarded a quick set up here and I am saddened to say I had exactly the same problem. Sometimes the Aux would respond instantly, other times it would be two or more seconds before Aux would respond. <br><br>My test set up was Aux into the Arduino and out to a servo.<br><br>As a second test, I connected the steering out of my receiver into the Aux in of my Arduino, the response was again lagging. <br><br>Cut a long story short, I was missing pulses due to a bad connection. Looking at your trace it looks as if you are also missing pulses.<br><br>To get my original connection to work I have to hold it into the receiver with hand pressure, like this there is no lag. If I take my hand off, the connection is not so good and I can expect to miss pulses resulting in what looks like lag.<br><br>I hope this is the solution for you also, let me know.<br><br>Duane</p><span id="bc_0_15MN" class="comment-actions secondary-text" kind="m"><a kind="i" href="javascript:;" target="_self" o="r">Reply</a><span class="item-control blog-admin pid-195722605"><a o="d" target="_self" href="https://www.blogger.com/delete-comment.g?blogID=7214097671310478681&amp;postID=7629849682551087629">Delete</a></span></span></div><div id="bc_0_15BR" class="comment-replies"></div><div id="bc_0_15B_box" class="comment-replybox-single"></div></li><li id="bc_0_16B" class="comment" kind="b"><div class="avatar-image-container"><img src="./read receiver_files/vache.gif"></div><div id="c7569830295934601722" class="comment-block"><div id="bc_0_16M" class="comment-header" kind="m"><cite class="user"><a rel="nofollow" href="https://www.blogger.com/profile/05061017668201831309">Sev</a></cite><span class="icon user"></span><span class="datetime secondary-text"><a rel="nofollow" href="http://rcarduino.blogspot.com/2012/04/how-to-read-multiple-rc-channels-draft.html?showComment=1337113728156#c7569830295934601722">May 15, 2012 at 1:28 PM</a></span></div><p id="bc_0_16MC" class="comment-content">You were totally right !!<br><br>My receiver do not have a real 3rd channel, I've done a test with the original 8ch Rx and everything is okay...<br><br>I now understand why I crashed a fast plane with this kind of receiver...<br><br>Thank you for all your help.<br><br>Sev</p><span id="bc_0_16MN" class="comment-actions secondary-text" kind="m"><a kind="i" href="javascript:;" target="_self" o="r">Reply</a><span class="item-control blog-admin pid-1754858847"><a o="d" target="_self" href="https://www.blogger.com/delete-comment.g?blogID=7214097671310478681&amp;postID=7569830295934601722">Delete</a></span></span></div><div id="bc_0_16BR" class="comment-replies"></div><div id="bc_0_16B_box" class="comment-replybox-single"></div></li><li id="bc_0_17B" class="comment" kind="b"><div class="avatar-image-container"><img src="./read receiver_files/blank.gif"></div><div id="c3319814249056078636" class="comment-block"><div id="bc_0_17M" class="comment-header" kind="m"><cite class="user">Anonymous</cite><span class="icon user"></span><span class="datetime secondary-text"><a rel="nofollow" href="http://rcarduino.blogspot.com/2012/04/how-to-read-multiple-rc-channels-draft.html?showComment=1338509798386#c3319814249056078636">May 31, 2012 at 5:16 PM</a></span></div><p id="bc_0_17MC" class="comment-content">i have a small question i am trying to control 2 DC motors using RC transmitter and receiver adn i want the motors to go forward backward and stop without controlling the speed or anything (will move with digital signal high or low only) and i dont know how to read the signal from the receiver and transform it to digital signal to drive the DC motors?</p><span id="bc_0_17MN" class="comment-actions secondary-text" kind="m"><a kind="i" href="javascript:;" target="_self" o="r">Reply</a><span class="item-control blog-admin pid-1655783702"><a o="d" target="_self" href="https://www.blogger.com/delete-comment.g?blogID=7214097671310478681&amp;postID=3319814249056078636">Delete</a></span></span></div><div id="bc_0_17BR" class="comment-replies"></div><div id="bc_0_17B_box" class="comment-replybox-single"></div></li><li id="bc_0_18B" class="comment" kind="b"><div class="avatar-image-container"><img src="./read receiver_files/b16-rounded.gif"></div><div id="c2763869246235237115" class="comment-block"><div id="bc_0_18M" class="comment-header" kind="m"><cite class="user blog-author"><a rel="nofollow" href="https://www.blogger.com/profile/07867684474123805993">Can_I_Trade?</a></cite><span class="icon user blog-author"></span><span class="datetime secondary-text"><a rel="nofollow" href="http://rcarduino.blogspot.com/2012/04/how-to-read-multiple-rc-channels-draft.html?showComment=1338525656205#c2763869246235237115">May 31, 2012 at 9:40 PM</a></span></div><p id="bc_0_18MC" class="comment-content">Try this -<br>http://rcarduino.blogspot.com/2012/05/interfacing-rc-channels-to-l293d-motor.html<br><br>Duane B</p><span id="bc_0_18MN" class="comment-actions secondary-text" kind="m"><a kind="i" href="javascript:;" target="_self" o="r">Reply</a><span class="item-control blog-admin pid-195722605"><a o="d" target="_self" href="https://www.blogger.com/delete-comment.g?blogID=7214097671310478681&amp;postID=2763869246235237115">Delete</a></span></span></div><div id="bc_0_18BR" class="comment-replies"></div><div id="bc_0_18B_box" class="comment-replybox-single"></div></li><li id="bc_0_19B" class="comment" kind="b"><div class="avatar-image-container"><img src="./read receiver_files/blank.gif"></div><div id="c4646355535774947523" class="comment-block"><div id="bc_0_19M" class="comment-header" kind="m"><cite class="user">Ash</cite><span class="icon user"></span><span class="datetime secondary-text"><a rel="nofollow" href="http://rcarduino.blogspot.com/2012/04/how-to-read-multiple-rc-channels-draft.html?showComment=1341282306602#c4646355535774947523">July 2, 2012 at 7:25 PM</a></span></div><p id="bc_0_19MC" class="comment-content">Hi,<br>I've worked with your code on using a single RC signal and one interrupt and it worked fine for me. (http://rcarduino.blogspot.co.nz/2012/01/how-to-read-rc-receiver-with.html) But now that I'm reading this code on multiple inputs, I've tried to copy the code and try it straight away before playing around with it, but it comes up with an error saying " 'PCintPort' has not been declared " I've gone through and installed the library again for PinChangeInt but that hasn't changed it. This code is all new to me, though I've played with arduino stuff as a hobby for a little while. Any ideas on what I'm doing wrong?<br><br>The code that I'm using is an exact copy of the big sample code above.<br><br>Cheers,<br>Ash</p><span id="bc_0_19MN" class="comment-actions secondary-text" kind="m"><a kind="i" href="javascript:;" target="_self" o="r">Reply</a><span class="item-control blog-admin pid-1963498035"><a o="d" target="_self" href="https://www.blogger.com/delete-comment.g?blogID=7214097671310478681&amp;postID=4646355535774947523">Delete</a></span></span></div><div id="bc_0_19BR" class="comment-replies"></div><div id="bc_0_19B_box" class="comment-replybox-single"></div></li><li id="bc_0_20B" class="comment" kind="b"><div class="avatar-image-container"><img src="./read receiver_files/b16-rounded.gif"></div><div id="c4562914365369151984" class="comment-block"><div id="bc_0_20M" class="comment-header" kind="m"><cite class="user blog-author"><a rel="nofollow" href="https://www.blogger.com/profile/07867684474123805993">Can_I_Trade?</a></cite><span class="icon user blog-author"></span><span class="datetime secondary-text"><a rel="nofollow" href="http://rcarduino.blogspot.com/2012/04/how-to-read-multiple-rc-channels-draft.html?showComment=1341297217629#c4562914365369151984">July 2, 2012 at 11:33 PM</a></span></div><p id="bc_0_20MC" class="comment-content">Hi,<br>   It should be something simple, what version of the library are you using and where did you get it from ? Also what version of Arduino are you using ?<br><br>Duane B</p><span id="bc_0_20MN" class="comment-actions secondary-text" kind="m"><a kind="i" href="javascript:;" target="_self" o="r">Reply</a><span class="item-control blog-admin pid-195722605"><a o="d" target="_self" href="https://www.blogger.com/delete-comment.g?blogID=7214097671310478681&amp;postID=4562914365369151984">Delete</a></span></span></div><div id="bc_0_20BR" class="comment-replies"></div><div id="bc_0_20B_box" class="comment-replybox-single"></div></li><li id="bc_0_21B" class="comment" kind="b"><div class="avatar-image-container"><img src="./read receiver_files/blank.gif"></div><div id="c3593274132511355812" class="comment-block"><div id="bc_0_21M" class="comment-header" kind="m"><cite class="user">Ash</cite><span class="icon user"></span><span class="datetime secondary-text"><a rel="nofollow" href="http://rcarduino.blogspot.com/2012/04/how-to-read-multiple-rc-channels-draft.html?showComment=1341361331900#c3593274132511355812">July 3, 2012 at 5:22 PM</a></span></div><p id="bc_0_21MC" class="comment-content">I'm using an arduino Uno R3, bought about 2 months ago, and the version of PinChangeInt is 1.72 from this source (http://code.google.com/p/arduino-pinchangeint/downloads/detail?name=pinchangeint-v1.72.zip) and the version of arduino software is 1.0.1 for windows.<br><br>When I click on 'sketch' up the top and then 'import library' it now shows me that I now have the option to import the PinChangeInt library, but I've just realised that when I click it doesn't write the '#include' statement in the sketch. Could this just be an install error?<br><br>Ash</p><span id="bc_0_21MN" class="comment-actions secondary-text" kind="m"><a kind="i" href="javascript:;" target="_self" o="r">Reply</a><span class="item-control blog-admin pid-1963498035"><a o="d" target="_self" href="https://www.blogger.com/delete-comment.g?blogID=7214097671310478681&amp;postID=3593274132511355812">Delete</a></span></span></div><div id="bc_0_21BR" class="comment-replies"></div><div id="bc_0_21B_box" class="comment-replybox-single"></div></li><li id="bc_0_22B" class="comment" kind="b"><div class="avatar-image-container"><img src="./read receiver_files/blank.gif"></div><div id="c503846261597032251" class="comment-block"><div id="bc_0_22M" class="comment-header" kind="m"><cite class="user">Ash</cite><span class="icon user"></span><span class="datetime secondary-text"><a rel="nofollow" href="http://rcarduino.blogspot.com/2012/04/how-to-read-multiple-rc-channels-draft.html?showComment=1341363947185#c503846261597032251">July 3, 2012 at 6:05 PM</a></span></div><p id="bc_0_22MC" class="comment-content">Hi Duane,<br><br>Your code works perfectly, it was my fault for not installing the library properly, I accidently put the PinChangeInt library an extra file deep when i unzipped it.<br><br>Thanks for your suggestions, they made me think a bit simpler.<br><br>Ash</p><span id="bc_0_22MN" class="comment-actions secondary-text" kind="m"><a kind="i" href="javascript:;" target="_self" o="r">Reply</a><span class="item-control blog-admin pid-1963498035"><a o="d" target="_self" href="https://www.blogger.com/delete-comment.g?blogID=7214097671310478681&amp;postID=503846261597032251">Delete</a></span></span></div><div id="bc_0_22BR" class="comment-replies"></div><div id="bc_0_22B_box" class="comment-replybox-single"></div></li><li id="bc_0_23B" class="comment" kind="b"><div class="avatar-image-container"><img src="./read receiver_files/blank.gif"></div><div id="c9107021421874957501" class="comment-block"><div id="bc_0_23M" class="comment-header" kind="m"><cite class="user">Summit</cite><span class="icon user"></span><span class="datetime secondary-text"><a rel="nofollow" href="http://rcarduino.blogspot.com/2012/04/how-to-read-multiple-rc-channels-draft.html?showComment=1342445809949#c9107021421874957501">July 16, 2012 at 6:36 AM</a></span></div><p id="bc_0_23MC" class="comment-content">Hey Duane, I tried out the concept behind your code for controlling four servos. The code can be found here:https://docs.google.com/open?id=0BzJW8_XBaNMRUm9FX3JZRElVRGc<br><br>What I am trying to do is to control 4 servos using two channels and one channel for controlling the motor. My underlying aim is to control the servos such that if I deflect the analog stick of the transmitter in one direction, it will rotate one servo a full 180 degrees and if i deflect it in the opposite direction then i will get another 180 deflection is another servo. This is because the transmitter isnt able to provide the throw that i need.<br><br>The problem that i am facing, is that two servos can be controlled very easily, but the third servo is moving eratically.<br><br>Please check if there is a blunder in the code or if you have a better solution to the task that i mentioned.<br><br>Thanks<br>Summit</p><span id="bc_0_23MN" class="comment-actions secondary-text" kind="m"><a kind="i" href="javascript:;" target="_self" o="r">Reply</a><span class="item-control blog-admin pid-178633729"><a o="d" target="_self" href="https://www.blogger.com/delete-comment.g?blogID=7214097671310478681&amp;postID=9107021421874957501">Delete</a></span></span></div><div id="bc_0_23BR" class="comment-replies"></div><div id="bc_0_23B_box" class="comment-replybox-single"></div></li><li id="bc_0_25B" class="comment" kind="b"><div class="avatar-image-container"><img src="./read receiver_files/b16-rounded.gif"></div><div id="c212282257652412702" class="comment-block"><div id="bc_0_25M" class="comment-header" kind="m"><cite class="user blog-author"><a rel="nofollow" href="https://www.blogger.com/profile/07867684474123805993">Can_I_Trade?</a></cite><span class="icon user blog-author"></span><span class="datetime secondary-text"><a rel="nofollow" href="http://rcarduino.blogspot.com/2012/04/how-to-read-multiple-rc-channels-draft.html?showComment=1342457505846#c212282257652412702">July 16, 2012 at 9:51 AM</a></span></div><p id="bc_0_25MC" class="comment-content">Hi,<br><br>I can see a lot wrong with your code, I do not have time to go through line by line and so your best bet might be to re-read this post, and use the code provided as the base for your own project.<br><br>Sorry,<br><br>Duane B</p><span id="bc_0_25MN" class="comment-actions secondary-text" kind="m"><a kind="i" href="javascript:;" target="_self" o="r">Reply</a><span class="item-control blog-admin pid-195722605"><a o="d" target="_self" href="https://www.blogger.com/delete-comment.g?blogID=7214097671310478681&amp;postID=212282257652412702">Delete</a></span></span></div><div id="bc_0_25BR" class="comment-replies"><span id="bc_0_25b+seedB1kHD" kind="d"><div id="bc_0_24T" class="comment-thread inline-thread" kind="t" t="0" u="0"><span id="bc_0_24TT" class="thread-toggle thread-expanded" kind="g"><span id="bc_0_24TA" class="thread-arrow"></span><span id="bc_0_24TN" class="thread-count"><span id="bc_0_24TNT" style="display: none;"></span><span id="bc_0_24TNU" style="display: none;"></span><a href="javascript:;" target="_self">Replies</a><div id="bc_0_24TD" class="thread-dropContainer thread-expanded"><span class="thread-drop"></span></div></span></span><ol id="bc_0_24TC" class="thread-chrome thread-expanded"><div><li id="bc_0_24B" class="comment" kind="b"><div class="avatar-image-container"><img src="./read receiver_files/blank.gif"></div><div id="c8674271504393252312" class="comment-block"><div id="bc_0_24M" class="comment-header" kind="m"><cite class="user">Summit</cite><span class="icon user"></span><span class="datetime secondary-text"><a rel="nofollow" href="http://rcarduino.blogspot.com/2012/04/how-to-read-multiple-rc-channels-draft.html?showComment=1342463547761#c8674271504393252312">July 16, 2012 at 11:32 AM</a></span></div><p id="bc_0_24MC" class="comment-content">Hey<br>Thanks for the reply. I re read the post many times but the code that i have written is for Arduino Mega not for Uno and hence i could use the available interrupts on it rather than using the software interrupts that are generated using the PinChange library.<br>If you could just give me the gist of what is wrong with the code (even a very light gist) or how to proceed in correcting it then it would be great.<br><br>Thanks again<br>Summit</p><span id="bc_0_24MN" class="comment-actions secondary-text" kind="m"><span class="item-control blog-admin pid-901678879"><a o="d" target="_self" href="https://www.blogger.com/delete-comment.g?blogID=7214097671310478681&amp;postID=8674271504393252312">Delete</a></span></span></div><div id="bc_0_24BR" class="comment-replies"></div><div id="bc_0_24B_box" class="comment-replybox-single"></div></li></div><div id="bc_0_24I" class="continue" kind="ci"><a href="javascript:;" target="_self">Reply</a></div></ol><div id="bc_0_24T_box" class="comment-replybox-thread"></div></div></span></div><div id="bc_0_25B_box" class="comment-replybox-single"></div></li><li id="bc_0_26B" class="comment" kind="b"><div class="avatar-image-container"><img src="./read receiver_files/b16-rounded.gif"></div><div id="c796216243915178009" class="comment-block"><div id="bc_0_26M" class="comment-header" kind="m"><cite class="user blog-author"><a rel="nofollow" href="https://www.blogger.com/profile/07867684474123805993">Can_I_Trade?</a></cite><span class="icon user blog-author"></span><span class="datetime secondary-text"><a rel="nofollow" href="http://rcarduino.blogspot.com/2012/04/how-to-read-multiple-rc-channels-draft.html?showComment=1342508536738#c796216243915178009">July 17, 2012 at 12:02 AM</a></span></div><p id="bc_0_26MC" class="comment-content">Hi,<br>The code I have provided in this post has been used by many people on both UNO's and Mega's. To use the code on a Mega replace PCintPort::attachInterrupt with attachInterrupt and make sure that the pin you use is one of the Mega interrupt pins.<br><br>I have provided this code for people to use, lots do and all of the feedback indicates that it works very well. <br><br>My suggestion for you is to replace the PCintPort::attachInterrupt with attachInterrupt, use the code as it is provided here to control your project in the normal way, then once you have it working make whatever project specific changes you need.<br><br>Duane</p><span id="bc_0_26MN" class="comment-actions secondary-text" kind="m"><a kind="i" href="javascript:;" target="_self" o="r">Reply</a><span class="item-control blog-admin pid-195722605"><a o="d" target="_self" href="https://www.blogger.com/delete-comment.g?blogID=7214097671310478681&amp;postID=796216243915178009">Delete</a></span></span></div><div id="bc_0_26BR" class="comment-replies"></div><div id="bc_0_26B_box" class="comment-replybox-single"></div></li><li id="bc_0_27B" class="comment" kind="b"><div class="avatar-image-container"><img src="./read receiver_files/blank.gif"></div><div id="c4124979611398671742" class="comment-block"><div id="bc_0_27M" class="comment-header" kind="m"><cite class="user">Steven</cite><span class="icon user"></span><span class="datetime secondary-text"><a rel="nofollow" href="http://rcarduino.blogspot.com/2012/04/how-to-read-multiple-rc-channels-draft.html?showComment=1343400357033#c4124979611398671742">July 27, 2012 at 7:45 AM</a></span></div><p id="bc_0_27MC" class="comment-content">Hi,<br>I am trying to use the example you provided with an Arduino Mega Pro, and it doesn't want to read any of the interrupts. I have the signals from my radio receiver in ports 2, 3, and 18 which according to this: http://arduino.cc/it/Reference/AttachInterrupt<br>are all interrupt ports. When I measure the voltages from the signal cables I get values from ~.2 to ~.4 volts depending on what the remote is doing (changing throttle/steering). Are these just too low for my arduino to read?</p><span id="bc_0_27MN" class="comment-actions secondary-text" kind="m"><a kind="i" href="javascript:;" target="_self" o="r">Reply</a><span class="item-control blog-admin pid-1160363245"><a o="d" target="_self" href="https://www.blogger.com/delete-comment.g?blogID=7214097671310478681&amp;postID=4124979611398671742">Delete</a></span></span></div><div id="bc_0_27BR" class="comment-replies"></div><div id="bc_0_27B_box" class="comment-replybox-single"></div></li><li id="bc_0_28B" class="comment" kind="b"><div class="avatar-image-container"><img src="./read receiver_files/b16-rounded.gif"></div><div id="c1543268646459532451" class="comment-block"><div id="bc_0_28M" class="comment-header" kind="m"><cite class="user blog-author"><a rel="nofollow" href="https://www.blogger.com/profile/07867684474123805993">Can_I_Trade?</a></cite><span class="icon user blog-author"></span><span class="datetime secondary-text"><a rel="nofollow" href="http://rcarduino.blogspot.com/2012/04/how-to-read-multiple-rc-channels-draft.html?showComment=1343401835766#c1543268646459532451">July 27, 2012 at 8:10 AM</a></span></div><p id="bc_0_28MC" class="comment-content">Hi,<br>   Read part one here to understand why you are seeing those low values and use the code provided in part one to test your basic connectivity.<br><br>http://rcarduino.blogspot.com/2012/01/how-to-read-rc-receiver-with.html<br><br>Duane B</p><span id="bc_0_28MN" class="comment-actions secondary-text" kind="m"><a kind="i" href="javascript:;" target="_self" o="r">Reply</a><span class="item-control blog-admin pid-195722605"><a o="d" target="_self" href="https://www.blogger.com/delete-comment.g?blogID=7214097671310478681&amp;postID=1543268646459532451">Delete</a></span></span></div><div id="bc_0_28BR" class="comment-replies"></div><div id="bc_0_28B_box" class="comment-replybox-single"></div></li><li id="bc_0_29B" class="comment" kind="b"><div class="avatar-image-container"><img src="./read receiver_files/blank.gif"></div><div id="c610737589663517951" class="comment-block"><div id="bc_0_29M" class="comment-header" kind="m"><cite class="user">Steven</cite><span class="icon user"></span><span class="datetime secondary-text"><a rel="nofollow" href="http://rcarduino.blogspot.com/2012/04/how-to-read-multiple-rc-channels-draft.html?showComment=1343404606955#c610737589663517951">July 27, 2012 at 8:56 AM</a></span></div><p id="bc_0_29MC" class="comment-content">Hi,<br>The example from part one works fine. I noticed that the example for three inputs doesn't have both the interrupt pin id and the digital id. So I changed the attatchInterrupts to use the interrupt id (0, 1, and 5 for me) and now calcAux gets called one time, and then the program stops looping.<br><br>Should I just be using the interrupt port id and not the actual digital port id?</p><span id="bc_0_29MN" class="comment-actions secondary-text" kind="m"><a kind="i" href="javascript:;" target="_self" o="r">Reply</a><span class="item-control blog-admin pid-1160363245"><a o="d" target="_self" href="https://www.blogger.com/delete-comment.g?blogID=7214097671310478681&amp;postID=610737589663517951">Delete</a></span></span></div><div id="bc_0_29BR" class="comment-replies"></div><div id="bc_0_29B_box" class="comment-replybox-single"></div></li><li id="bc_0_30B" class="comment" kind="b"><div class="avatar-image-container"><img src="./read receiver_files/b16-rounded.gif"></div><div id="c1398078571204408191" class="comment-block"><div id="bc_0_30M" class="comment-header" kind="m"><cite class="user blog-author"><a rel="nofollow" href="https://www.blogger.com/profile/07867684474123805993">Can_I_Trade?</a></cite><span class="icon user blog-author"></span><span class="datetime secondary-text"><a rel="nofollow" href="http://rcarduino.blogspot.com/2012/04/how-to-read-multiple-rc-channels-draft.html?showComment=1343406583632#c1398078571204408191">July 27, 2012 at 9:29 AM</a></span></div><p id="bc_0_30MC" class="comment-content">Hi,<br>If you are using a Mega, you have enough interrupts available so you do not need to use the PinChangeInt library. To use the interrupts directly replace PCintPort::attachInterrupt with just attachInterrupt in the setup function. You should not be able to use the interrupts. The attachInterrupt function accepts the digital pin number rather than the interrupt number. On my UNO i need to pass 2 as the pin number in order to attach to int0 which is digital pin 2.<br><br>Duane B</p><span id="bc_0_30MN" class="comment-actions secondary-text" kind="m"><a kind="i" href="javascript:;" target="_self" o="r">Reply</a><span class="item-control blog-admin pid-195722605"><a o="d" target="_self" href="https://www.blogger.com/delete-comment.g?blogID=7214097671310478681&amp;postID=1398078571204408191">Delete</a></span></span></div><div id="bc_0_30BR" class="comment-replies"></div><div id="bc_0_30B_box" class="comment-replybox-single"></div></li><li id="bc_0_31B" class="comment" kind="b"><div class="avatar-image-container"><img src="./read receiver_files/blank.gif"></div><div id="c727516544022261933" class="comment-block"><div id="bc_0_31M" class="comment-header" kind="m"><cite class="user">Steven</cite><span class="icon user"></span><span class="datetime secondary-text"><a rel="nofollow" href="http://rcarduino.blogspot.com/2012/04/how-to-read-multiple-rc-channels-draft.html?showComment=1343408342659#c727516544022261933">July 27, 2012 at 9:59 AM</a></span></div><p id="bc_0_31MC" class="comment-content">I'm using the digital pin numbers, but no matter what is input, the output remains .38 volts. Also none of my Serial.prints are actually being printed which makes me think something is hanging up somewhere. Any more ideas?</p><span id="bc_0_31MN" class="comment-actions secondary-text" kind="m"><a kind="i" href="javascript:;" target="_self" o="r">Reply</a><span class="item-control blog-admin pid-1160363245"><a o="d" target="_self" href="https://www.blogger.com/delete-comment.g?blogID=7214097671310478681&amp;postID=727516544022261933">Delete</a></span></span></div><div id="bc_0_31BR" class="comment-replies"></div><div id="bc_0_31B_box" class="comment-replybox-single"></div></li><li id="bc_0_32B" class="comment" kind="b"><div class="avatar-image-container"><img src="./read receiver_files/b16-rounded.gif"></div><div id="c3775094112615644527" class="comment-block"><div id="bc_0_32M" class="comment-header" kind="m"><cite class="user blog-author"><a rel="nofollow" href="https://www.blogger.com/profile/07867684474123805993">Can_I_Trade?</a></cite><span class="icon user blog-author"></span><span class="datetime secondary-text"><a rel="nofollow" href="http://rcarduino.blogspot.com/2012/04/how-to-read-multiple-rc-channels-draft.html?showComment=1343414022679#c3775094112615644527">July 27, 2012 at 11:33 AM</a></span></div><p id="bc_0_32MC" class="comment-content">Its probably something simple, post your code and forget about the volts. Servo signals are mostly empty space as explained in part one - your multi meter can't tell you this so it comes up with .38 volts - 5 volts for 10% of the time = more or less .5 volts.<br><br>Duane.</p><span id="bc_0_32MN" class="comment-actions secondary-text" kind="m"><a kind="i" href="javascript:;" target="_self" o="r">Reply</a><span class="item-control blog-admin pid-195722605"><a o="d" target="_self" href="https://www.blogger.com/delete-comment.g?blogID=7214097671310478681&amp;postID=3775094112615644527">Delete</a></span></span></div><div id="bc_0_32BR" class="comment-replies"></div><div id="bc_0_32B_box" class="comment-replybox-single"></div></li><li id="bc_0_33B" class="comment" kind="b"><div class="avatar-image-container"><img src="./read receiver_files/blank.gif"></div><div id="c2886690247900420115" class="comment-block"><div id="bc_0_33M" class="comment-header" kind="m"><cite class="user">Steven</cite><span class="icon user"></span><span class="datetime secondary-text"><a rel="nofollow" href="http://rcarduino.blogspot.com/2012/04/how-to-read-multiple-rc-channels-draft.html?showComment=1343423408786#c2886690247900420115">July 27, 2012 at 2:10 PM</a></span></div><p id="bc_0_33MC" class="comment-content">I can't post it all. It is the example code with the ports changed to 3, 2, and 18 and the PCintPort::s removed.<br><br>// include the pinchangeint library - see the links in the related topics section above for details<br>//#include <br><br>#include <br><br>// Assign your channel in pins<br>#define THROTTLE_IN_PIN 3<br>#define STEERING_IN_PIN 2<br>#define AUX_IN_PIN 18<br><br>// Assign your channel out pins<br>#define THROTTLE_OUT_PIN 8<br>#define STEERING_OUT_PIN 9<br>#define AUX_OUT_PIN 10<br><br>void setup()<br>{<br>  Serial.begin(9600);<br>  <br>  Serial.println("multiChannels");<br><br>  // attach servo objects, these will generate the correct <br>  // pulses for driving Electronic speed controllers, servos or other devices<br>  // designed to interface directly with RC Receivers  <br>  servoThrottle.attach(THROTTLE_OUT_PIN);<br>  servoSteering.attach(STEERING_OUT_PIN);<br>  servoAux.attach(AUX_OUT_PIN);<br><br>  // using the PinChangeInt library, attach the interrupts<br>  // used to read the channels<br>  attachInterrupt(THROTTLE_IN_PIN, calcThrottle,CHANGE); <br>  attachInterrupt(STEERING_IN_PIN, calcSteering,CHANGE); <br>  attachInterrupt(AUX_IN_PIN, calcAux,CHANGE); <br>}</p><span id="bc_0_33MN" class="comment-actions secondary-text" kind="m"><a kind="i" href="javascript:;" target="_self" o="r">Reply</a><span class="item-control blog-admin pid-1160363245"><a o="d" target="_self" href="https://www.blogger.com/delete-comment.g?blogID=7214097671310478681&amp;postID=2886690247900420115">Delete</a></span></span></div><div id="bc_0_33BR" class="comment-replies"></div><div id="bc_0_33B_box" class="comment-replybox-single"></div></li><li id="bc_0_34B" class="comment" kind="b"><div class="avatar-image-container"><img src="./read receiver_files/b16-rounded.gif"></div><div id="c1894635560601706969" class="comment-block"><div id="bc_0_34M" class="comment-header" kind="m"><cite class="user blog-author"><a rel="nofollow" href="https://www.blogger.com/profile/07867684474123805993">Can_I_Trade?</a></cite><span class="icon user blog-author"></span><span class="datetime secondary-text"><a rel="nofollow" href="http://rcarduino.blogspot.com/2012/04/how-to-read-multiple-rc-channels-draft.html?showComment=1343451087450#c1894635560601706969">July 27, 2012 at 9:51 PM</a></span></div><p id="bc_0_34MC" class="comment-content">Try this test, first disconnect any external circuitry, then uses the defines below. What I am doing is using the Servo object to output a test signal on the interrupt pins, the output will quickly go out of range because small errors will feedback into themselves but you should see readings starting at around 1500us and quickly ramping up or down as the errors accumulate. Once this works we can figure out which pins to use to drive external components.<br><br>// Assign your channel in pins<br>#define THROTTLE_IN_PIN 0<br>#define STEERING_IN_PIN 1<br>#define AUX_IN_PIN 2<br><br>// Assign your channel out pins<br>#define THROTTLE_OUT_PIN 2<br>#define STEERING_OUT_PIN 3<br>#define AUX_OUT_PIN 21<br><br>As above, the output pins are mapped to themselves using the Mega interrupt to digital pin number mapping outlined in the first paragraph of this link - http://arduino.cc/it/Reference/AttachInterrupt<br><br>Duane B.</p><span id="bc_0_34MN" class="comment-actions secondary-text" kind="m"><a kind="i" href="javascript:;" target="_self" o="r">Reply</a><span class="item-control blog-admin pid-195722605"><a o="d" target="_self" href="https://www.blogger.com/delete-comment.g?blogID=7214097671310478681&amp;postID=1894635560601706969">Delete</a></span></span></div><div id="bc_0_34BR" class="comment-replies"></div><div id="bc_0_34B_box" class="comment-replybox-single"></div></li><li id="bc_0_36B" class="comment" kind="b"><div class="avatar-image-container"><img src="./read receiver_files/b16-rounded.gif"></div><div id="c4845768453287840141" class="comment-block"><div id="bc_0_36M" class="comment-header" kind="m"><cite class="user blog-author"><a rel="nofollow" href="https://www.blogger.com/profile/07867684474123805993">Can_I_Trade?</a></cite><span class="icon user blog-author"></span><span class="datetime secondary-text"><a rel="nofollow" href="http://rcarduino.blogspot.com/2012/04/how-to-read-multiple-rc-channels-draft.html?showComment=1343466693960#c4845768453287840141">July 28, 2012 at 2:11 AM</a></span></div><p id="bc_0_36MC" class="comment-content">Hi Steven,<br>   Looking at your Mega code and the online documentation for attachInterrupt - <br><br>Most Arduino boards have two external interrupts: numbers 0 (on digital pin 2) and 1 (on digital pin 3). The Arduino Mega has an additional four: numbers 2 (pin 21), 3 (pin 20), 4 (pin 19), and 5 (pin 18). <br><br>I can see that you are attaching your interrupts to the wrong pins.<br><br>The problem comes from the fact that attachInterrupt takes the interrupt number, but digitalRead uses the digital pin number. Its not a problem with pinchangeint because the library uses digital pin numbers, but using attachInterrupt you will need to do the following - <br><br>To fix this, make the following changes - <br><br>// Assign your channel in pins, these are pin numbers for use in digitalRead<br>#define THROTTLE_IN_PIN 2 // Pin 2 = Interrupt 0<br>#define STEERING_IN_PIN 3 // pin 3 = Interrupt 1<br>#define AUX_IN_PIN 21      // pin 21 = Interrupt 2<br><br>Add this -<br><br>// Assign interrupt numbers, we will only use these in setup <br>#define THROTTLE_IN_INTERRUPT 0 // Pin 2 = Interrupt 0<br>#define STEERING_IN_INTERRUPT 1 // pin 3 = Interrupt 1<br>#define AUX_IN_INTERRUPT 2      // pin 21 = Interrupt 2<br><br>Now in setup use - <br><br>attachInterrupt(THROTTLE_IN_INTERRUPT, calcThrottle,CHANGE);<br>attachInterrupt(STEERING_IN_INTERRUPT, calcSteering,CHANGE);<br>attachInterrupt(AUX_IN_INTERRUPT, calcAux,CHANGE); <br><br>If you want to change pins, refer to the attachInterrupt documentation for the mapping between Mega pins and interrupts.<br><br>Duane B.</p><span id="bc_0_36MN" class="comment-actions secondary-text" kind="m"><a kind="i" href="javascript:;" target="_self" o="r">Reply</a><span class="item-control blog-admin pid-195722605"><a o="d" target="_self" href="https://www.blogger.com/delete-comment.g?blogID=7214097671310478681&amp;postID=4845768453287840141">Delete</a></span></span></div><div id="bc_0_36BR" class="comment-replies"><span id="bc_0_36b+seedB1lQD" kind="d"><div id="bc_0_35T" class="comment-thread inline-thread" kind="t" t="0" u="0"><span id="bc_0_35TT" class="thread-toggle thread-expanded" kind="g"><span id="bc_0_35TA" class="thread-arrow"></span><span id="bc_0_35TN" class="thread-count"><span id="bc_0_35TNT" style="display: none;"></span><span id="bc_0_35TNU" style="display: none;"></span><a href="javascript:;" target="_self">Replies</a><div id="bc_0_35TD" class="thread-dropContainer thread-expanded"><span class="thread-drop"></span></div></span></span><ol id="bc_0_35TC" class="thread-chrome thread-expanded"><div><li id="bc_0_35B" class="comment" kind="b"><div class="avatar-image-container"><img src="./read receiver_files/b16-rounded.gif"></div><div id="c652464551764701606" class="comment-block"><div id="bc_0_35M" class="comment-header" kind="m"><cite class="user"><a rel="nofollow" href="https://www.blogger.com/profile/13484380125908716852">InfoSeeker</a></cite><span class="icon user"></span><span class="datetime secondary-text"><a rel="nofollow" href="http://rcarduino.blogspot.com/2012/04/how-to-read-multiple-rc-channels-draft.html?showComment=1380356921965#c652464551764701606">September 28, 2013 at 1:28 AM</a></span></div><p id="bc_0_35MC" class="comment-content"><span class="deleted-comment">This comment has been removed by the author.</span></p><span id="bc_0_35MN" class="comment-actions secondary-text" kind="m"><span class="item-control blog-admin "><a o="d" target="_self" href="https://www.blogger.com/delete-comment.g?blogID=7214097671310478681&amp;postID=652464551764701606">Delete</a></span></span></div><div id="bc_0_35BR" class="comment-replies"></div><div id="bc_0_35B_box" class="comment-replybox-single"></div></li></div><div id="bc_0_35I" class="continue" kind="ci"><a href="javascript:;" target="_self">Reply</a></div></ol><div id="bc_0_35T_box" class="comment-replybox-thread"></div></div></span></div><div id="bc_0_36B_box" class="comment-replybox-single"></div></li><li id="bc_0_37B" class="comment" kind="b"><div class="avatar-image-container"><img src="./read receiver_files/blank.gif"></div><div id="c6391890267514905534" class="comment-block"><div id="bc_0_37M" class="comment-header" kind="m"><cite class="user">Steven</cite><span class="icon user"></span><span class="datetime secondary-text"><a rel="nofollow" href="http://rcarduino.blogspot.com/2012/04/how-to-read-multiple-rc-channels-draft.html?showComment=1343476601208#c6391890267514905534">July 28, 2012 at 4:56 AM</a></span></div><p id="bc_0_37MC" class="comment-content">Thank you so much Duane. I had tried adding in the interrupt and pin ports earlier, but it didn't work. Maybe I missed something last time. Thanks again for all your work developing and supporting your guides.</p><span id="bc_0_37MN" class="comment-actions secondary-text" kind="m"><a kind="i" href="javascript:;" target="_self" o="r">Reply</a><span class="item-control blog-admin pid-1160363245"><a o="d" target="_self" href="https://www.blogger.com/delete-comment.g?blogID=7214097671310478681&amp;postID=6391890267514905534">Delete</a></span></span></div><div id="bc_0_37BR" class="comment-replies"></div><div id="bc_0_37B_box" class="comment-replybox-single"></div></li><li id="bc_0_38B" class="comment" kind="b"><div class="avatar-image-container"><img src="./read receiver_files/photo.jpg"></div><div id="c2059885962064367295" class="comment-block"><div id="bc_0_38M" class="comment-header" kind="m"><cite class="user"><a rel="nofollow" href="https://www.blogger.com/profile/08192216079022016311">Kai Laborenz</a></cite><span class="icon user"></span><span class="datetime secondary-text"><a rel="nofollow" href="http://rcarduino.blogspot.com/2012/04/how-to-read-multiple-rc-channels-draft.html?showComment=1346742009782#c2059885962064367295">September 4, 2012 at 12:00 AM</a></span></div><p id="bc_0_38MC" class="comment-content">Thanks for this great posts!<br><br>As I see you are using 3 pins for the 3 signals. Is it possible to use this approach (http://diydrones.com/profiles/blogs/705844:BlogPost:38393) - reading the sum signal - with your method? If yes, how?<br>Do you think, it will help to increase performance?</p><span id="bc_0_38MN" class="comment-actions secondary-text" kind="m"><a kind="i" href="javascript:;" target="_self" o="r">Reply</a><span class="item-control blog-admin pid-1461526927"><a o="d" target="_self" href="https://www.blogger.com/delete-comment.g?blogID=7214097671310478681&amp;postID=2059885962064367295">Delete</a></span></span></div><div id="bc_0_38BR" class="comment-replies"></div><div id="bc_0_38B_box" class="comment-replybox-single"></div></li><li id="bc_0_39B" class="comment" kind="b"><div class="avatar-image-container"><img src="./read receiver_files/b16-rounded.gif"></div><div id="c7102399501649164072" class="comment-block"><div id="bc_0_39M" class="comment-header" kind="m"><cite class="user blog-author"><a rel="nofollow" href="https://www.blogger.com/profile/07867684474123805993">Can_I_Trade?</a></cite><span class="icon user blog-author"></span><span class="datetime secondary-text"><a rel="nofollow" href="http://rcarduino.blogspot.com/2012/04/how-to-read-multiple-rc-channels-draft.html?showComment=1346780505499#c7102399501649164072">September 4, 2012 at 10:41 AM</a></span></div><p id="bc_0_39MC" class="comment-content">Hi, Personally I prefer to use three pins if I have the three decoded signals available. I have tried reading the single stream, but have found it less resilient to noise - everything works on the kitchen table, but at speed and distance its a lot more complicated - so if you have the three, four, five or six channels available individually from you receiver I would personally trust the existing decode software/hardware rather than take it out of the loop and reinvent it just to save a few pins. Duane B</p><span id="bc_0_39MN" class="comment-actions secondary-text" kind="m"><a kind="i" href="javascript:;" target="_self" o="r">Reply</a><span class="item-control blog-admin pid-195722605"><a o="d" target="_self" href="https://www.blogger.com/delete-comment.g?blogID=7214097671310478681&amp;postID=7102399501649164072">Delete</a></span></span></div><div id="bc_0_39BR" class="comment-replies"></div><div id="bc_0_39B_box" class="comment-replybox-single"></div></li><li id="bc_0_40B" class="comment" kind="b"><div class="avatar-image-container"><img src="./read receiver_files/b16-rounded.gif"></div><div id="c887615432750296916" class="comment-block"><div id="bc_0_40M" class="comment-header" kind="m"><cite class="user"><a rel="nofollow" href="https://www.blogger.com/profile/13047206286596519463">Arun Horne</a></cite><span class="icon user"></span><span class="datetime secondary-text"><a rel="nofollow" href="http://rcarduino.blogspot.com/2012/04/how-to-read-multiple-rc-channels-draft.html?showComment=1348494262207#c887615432750296916">September 24, 2012 at 6:44 AM</a></span></div><p id="bc_0_40MC" class="comment-content">Great post. One interesting note on enabling/disabling interrupts - you might like to use the following as provided by avr/atomic.h:<br><br>ATOMIC_BLOCK ( ATOMIC_RESTORESTATE ) {<br>   //copy to local<br>}<br><br>This can replace the following code and takes care of restoring SREG correctly:<br><br>noInterrupts();<br>///copy to local<br>interrupts();</p><span id="bc_0_40MN" class="comment-actions secondary-text" kind="m"><a kind="i" href="javascript:;" target="_self" o="r">Reply</a><span class="item-control blog-admin pid-1250445810"><a o="d" target="_self" href="https://www.blogger.com/delete-comment.g?blogID=7214097671310478681&amp;postID=887615432750296916">Delete</a></span></span></div><div id="bc_0_40BR" class="comment-replies"></div><div id="bc_0_40B_box" class="comment-replybox-single"></div></li><li id="bc_0_41B" class="comment" kind="b"><div class="avatar-image-container"><img src="./read receiver_files/b16-rounded.gif"></div><div id="c5502737218269517146" class="comment-block"><div id="bc_0_41M" class="comment-header" kind="m"><cite class="user"><a rel="nofollow" href="https://www.blogger.com/profile/13047206286596519463">Arun Horne</a></cite><span class="icon user"></span><span class="datetime secondary-text"><a rel="nofollow" href="http://rcarduino.blogspot.com/2012/04/how-to-read-multiple-rc-channels-draft.html?showComment=1348497729960#c5502737218269517146">September 24, 2012 at 7:42 AM</a></span></div><p id="bc_0_41MC" class="comment-content">(Sorry, docs for above -&gt; http://www.nongnu.org/avr-libc/user-manual/group__util__atomic.html#gaaaea265b31dabcfb3098bec7685c39e4)</p><span id="bc_0_41MN" class="comment-actions secondary-text" kind="m"><a kind="i" href="javascript:;" target="_self" o="r">Reply</a><span class="item-control blog-admin pid-1250445810"><a o="d" target="_self" href="https://www.blogger.com/delete-comment.g?blogID=7214097671310478681&amp;postID=5502737218269517146">Delete</a></span></span></div><div id="bc_0_41BR" class="comment-replies"></div><div id="bc_0_41B_box" class="comment-replybox-single"></div></li><li id="bc_0_42B" class="comment" kind="b"><div class="avatar-image-container"><img src="./read receiver_files/b16-rounded.gif"></div><div id="c5920686414578664669" class="comment-block"><div id="bc_0_42M" class="comment-header" kind="m"><cite class="user blog-author"><a rel="nofollow" href="https://www.blogger.com/profile/07867684474123805993">Can_I_Trade?</a></cite><span class="icon user blog-author"></span><span class="datetime secondary-text"><a rel="nofollow" href="http://rcarduino.blogspot.com/2012/04/how-to-read-multiple-rc-channels-draft.html?showComment=1348509222410#c5920686414578664669">September 24, 2012 at 10:53 AM</a></span></div><p id="bc_0_42MC" class="comment-content">Hi, There are a few things that can be done to optimize this code, but I spent a long time thinking about whether to optimize it or make it as readable as possible. In the end I went for readable and given the number of people that are now successfully using the code I think it was the right choice. In a few weeks I will post a follow up with two or three optimizations for people who are familiar with the code as it stands and want to progress. One of them will be accessing SREG directly, the others will trim a few microseconds from the ISRs - however given that there are faster Arduino compatibles based on different processors coming soon - teensie 3.0 and Arduino Due - it might be better to stay at the high level for portability. Duane B<br> </p><span id="bc_0_42MN" class="comment-actions secondary-text" kind="m"><a kind="i" href="javascript:;" target="_self" o="r">Reply</a><span class="item-control blog-admin pid-195722605"><a o="d" target="_self" href="https://www.blogger.com/delete-comment.g?blogID=7214097671310478681&amp;postID=5920686414578664669">Delete</a></span></span></div><div id="bc_0_42BR" class="comment-replies"></div><div id="bc_0_42B_box" class="comment-replybox-single"></div></li><li id="bc_0_43B" class="comment" kind="b"><div class="avatar-image-container"><img src="./read receiver_files/b16-rounded.gif"></div><div id="c8375335711915113620" class="comment-block"><div id="bc_0_43M" class="comment-header" kind="m"><cite class="user"><a rel="nofollow" href="https://www.blogger.com/profile/10523943804657602216">Brett Smith</a></cite><span class="icon user"></span><span class="datetime secondary-text"><a rel="nofollow" href="http://rcarduino.blogspot.com/2012/04/how-to-read-multiple-rc-channels-draft.html?showComment=1350169442570#c8375335711915113620">October 13, 2012 at 4:04 PM</a></span></div><p id="bc_0_43MC" class="comment-content">Hello,<br>I am having an unusual problem. When I load the code from my laptop and leave it plugged in, everything works perfectly. I am powering my receiver from the 5v output from the arduino. However, when I unplug the board and power it from my battery, my servos do not move at all. Same issue if I power the receiver from  a seperate battery. Any advice??<br>Thanks in advance.</p><span id="bc_0_43MN" class="comment-actions secondary-text" kind="m"><a kind="i" href="javascript:;" target="_self" o="r">Reply</a><span class="item-control blog-admin pid-1066458986"><a o="d" target="_self" href="https://www.blogger.com/delete-comment.g?blogID=7214097671310478681&amp;postID=8375335711915113620">Delete</a></span></span></div><div id="bc_0_43BR" class="comment-replies"></div><div id="bc_0_43B_box" class="comment-replybox-single"></div></li><li id="bc_0_44B" class="comment" kind="b"><div class="avatar-image-container"><img src="./read receiver_files/b16-rounded.gif"></div><div id="c1748844904513017574" class="comment-block"><div id="bc_0_44M" class="comment-header" kind="m"><cite class="user blog-author"><a rel="nofollow" href="https://www.blogger.com/profile/07867684474123805993">Can_I_Trade?</a></cite><span class="icon user blog-author"></span><span class="datetime secondary-text"><a rel="nofollow" href="http://rcarduino.blogspot.com/2012/04/how-to-read-multiple-rc-channels-draft.html?showComment=1350214063493#c1748844904513017574">October 14, 2012 at 4:27 AM</a></span></div><p id="bc_0_44MC" class="comment-content">Hi,<br>This is normally something to do with the way your standalone project is wired, I am snowed under at the moment so your best bet will be to start a topic on the Arduino forum and include a diagram of your standalone circuit.<br><br>Duane B</p><span id="bc_0_44MN" class="comment-actions secondary-text" kind="m"><a kind="i" href="javascript:;" target="_self" o="r">Reply</a><span class="item-control blog-admin pid-195722605"><a o="d" target="_self" href="https://www.blogger.com/delete-comment.g?blogID=7214097671310478681&amp;postID=1748844904513017574">Delete</a></span></span></div><div id="bc_0_44BR" class="comment-replies"></div><div id="bc_0_44B_box" class="comment-replybox-single"></div></li><li id="bc_0_45B" class="comment" kind="b"><div class="avatar-image-container"><img src="./read receiver_files/b16-rounded.gif"></div><div id="c6482080502051393347" class="comment-block"><div id="bc_0_45M" class="comment-header" kind="m"><cite class="user blog-author"><a rel="nofollow" href="https://www.blogger.com/profile/07867684474123805993">Can_I_Trade?</a></cite><span class="icon user blog-author"></span><span class="datetime secondary-text"><a rel="nofollow" href="http://rcarduino.blogspot.com/2012/04/how-to-read-multiple-rc-channels-draft.html?showComment=1350215446164#c6482080502051393347">October 14, 2012 at 4:50 AM</a></span></div><p id="bc_0_45MC" class="comment-content">If you do, let me know and I will take a look at it<br><br>Duane B</p><span id="bc_0_45MN" class="comment-actions secondary-text" kind="m"><a kind="i" href="javascript:;" target="_self" o="r">Reply</a><span class="item-control blog-admin pid-195722605"><a o="d" target="_self" href="https://www.blogger.com/delete-comment.g?blogID=7214097671310478681&amp;postID=6482080502051393347">Delete</a></span></span></div><div id="bc_0_45BR" class="comment-replies"></div><div id="bc_0_45B_box" class="comment-replybox-single"></div></li><li id="bc_0_46B" class="comment" kind="b"><div class="avatar-image-container"><img src="./read receiver_files/blank.gif"></div><div id="c3173187285391383487" class="comment-block"><div id="bc_0_46M" class="comment-header" kind="m"><cite class="user"><a rel="nofollow" href="http://eclipse.baeyens.it/">jan Baeyens</a></cite><span class="icon user"></span><span class="datetime secondary-text"><a rel="nofollow" href="http://rcarduino.blogspot.com/2012/04/how-to-read-multiple-rc-channels-draft.html?showComment=1351023216082#c3173187285391383487">October 23, 2012 at 1:13 PM</a></span></div><p id="bc_0_46MC" class="comment-content">Hi Duane<br>Thanks for this extensive in-depth explanation.<br>I have 2 questions about the code that are (as far as I see) not yet answered. I need some text to explain my questions so please bear with me.<br><br>In your main loop in the part that copies the volatile reads to the local reads there id a test on the flag for each copy. <br>   if(bUpdateFlags &amp; THROTTLE_FLAG)<br>   {<br>     RC_Channel_1_Value = unThrottleInShared;<br>   }<br>From what I understand the test is not needed and is increasing the time you are in the interrupt blocking code. <br>I think the condition is not needed because interrupts themselves can not be interrupted so you can not read incorrect values. As to my understanding the flag and the value are always in sync.<br>There may be a startup sync problem (before the very first read on each channel) but as your code uses the flag to action the values your code as is would handle this properly.<br><br>My first question is: Do you see any drawbacks of replacing the conditional copy by a plain copy.<br><br>Continue thinking in the same way: Do you see a real life drawback of replacing<br>    if (bUpdateFlags &amp; THROTTLE_FLAG){<br>      copy volatile vars<br>    }<br>    conditionally do actions<br><br>by <br>if (bUpdateFlags &amp; (THROTTLE_FLAG | STEERING_FLAG | AUX_FLAG  )  ) {<br>      copy volatile vars<br>      do actions<br>    }<br>I realize this will reduce the response time as you are waiting for all channels to arrive before acting upon them. I can imagine that someone who wants to get everything out of his material prefers your proposal. But would this make a difference to someone who does not want to squeeze everything out of his material?<br><br>So my second question is: Can you as an RC specialist give your opinion whether "waiting for all channels" will make any difference in the world of "standard users".<br><br>Best regards<br>Jantje</p><span id="bc_0_46MN" class="comment-actions secondary-text" kind="m"><a kind="i" href="javascript:;" target="_self" o="r">Reply</a><span class="item-control blog-admin pid-1155490428"><a o="d" target="_self" href="https://www.blogger.com/delete-comment.g?blogID=7214097671310478681&amp;postID=3173187285391383487">Delete</a></span></span></div><div id="bc_0_46BR" class="comment-replies"></div><div id="bc_0_46B_box" class="comment-replybox-single"></div></li><li id="bc_0_47B" class="comment" kind="b"><div class="avatar-image-container"><img src="./read receiver_files/blank.gif"></div><div id="c661205000296016621" class="comment-block"><div id="bc_0_47M" class="comment-header" kind="m"><cite class="user"><a rel="nofollow" href="http://eclipse.baeyens.it/">jan Baeyens</a></cite><span class="icon user"></span><span class="datetime secondary-text"><a rel="nofollow" href="http://rcarduino.blogspot.com/2012/04/how-to-read-multiple-rc-channels-draft.html?showComment=1351025440214#c661205000296016621">October 23, 2012 at 1:50 PM</a></span></div><p id="bc_0_47MC" class="comment-content">Rofl<br>Sorry just read this in the code<br>   // in the current code, the shared values are always populated<br>   // so we could copy them without testing the flags<br>   // however in the future this could change, so lets<br>   // only copy when the flags tell us we can.<br>My second question still stands (for now)<br><br>Best regards<br>Jantje</p><span id="bc_0_47MN" class="comment-actions secondary-text" kind="m"><a kind="i" href="javascript:;" target="_self" o="r">Reply</a><span class="item-control blog-admin pid-1155490428"><a o="d" target="_self" href="https://www.blogger.com/delete-comment.g?blogID=7214097671310478681&amp;postID=661205000296016621">Delete</a></span></span></div><div id="bc_0_47BR" class="comment-replies"></div><div id="bc_0_47B_box" class="comment-replybox-single"></div></li><li id="bc_0_48B" class="comment" kind="b"><div class="avatar-image-container"><img src="./read receiver_files/b16-rounded.gif"></div><div id="c147377043435808144" class="comment-block"><div id="bc_0_48M" class="comment-header" kind="m"><cite class="user blog-author"><a rel="nofollow" href="https://www.blogger.com/profile/07867684474123805993">Can_I_Trade?</a></cite><span class="icon user blog-author"></span><span class="datetime secondary-text"><a rel="nofollow" href="http://rcarduino.blogspot.com/2012/04/how-to-read-multiple-rc-channels-draft.html?showComment=1351058567201#c147377043435808144">October 23, 2012 at 11:02 PM</a></span></div><p id="bc_0_48MC" class="comment-content">To answer this question - Can you as an RC specialist give your opinion whether "waiting for all channels" will make any difference in the world of "standard users". - It really depends on the application, for example if you are trying to stabalize something (quadcopters) or stop a skid developing (RC Car/yaw control) or optimise traction the faster you can respond to a developing condition the better. The difference between the code here and what you suggest is small, the difference between the code and using pulseIn or some other blocking approach is massive. I tend to treat the channels individually so that I can intercept a throttle or steering signal as soon as I have it rather than waiting a few additional uS for a complete frame worth of signals. Last night I came across some code I wrote in the summer that uses an alternative servo class to provide faster servo refresh and optimise the time spent in both the Servo and RC Channel ISRS. I will publish it in the next few days. Duane B</p><span id="bc_0_48MN" class="comment-actions secondary-text" kind="m"><a kind="i" href="javascript:;" target="_self" o="r">Reply</a><span class="item-control blog-admin pid-195722605"><a o="d" target="_self" href="https://www.blogger.com/delete-comment.g?blogID=7214097671310478681&amp;postID=147377043435808144">Delete</a></span></span></div><div id="bc_0_48BR" class="comment-replies"></div><div id="bc_0_48B_box" class="comment-replybox-single"></div></li><li id="bc_0_49B" class="comment" kind="b"><div class="avatar-image-container"><img src="./read receiver_files/blank.gif"></div><div id="c402349402746029567" class="comment-block"><div id="bc_0_49M" class="comment-header" kind="m"><cite class="user"><a rel="nofollow" href="http://eclipse.baeyens.it/">jan Baeyens</a></cite><span class="icon user"></span><span class="datetime secondary-text"><a rel="nofollow" href="http://rcarduino.blogspot.com/2012/04/how-to-read-multiple-rc-channels-draft.html?showComment=1351071753676#c402349402746029567">October 24, 2012 at 2:42 AM</a></span></div><p id="bc_0_49MC" class="comment-content">Duane<br>Thanks for the answer.<br>I'm currently (amongst others) working on a library based on the code above.<br>The idea is to hide the complexity in the library and keep the functional part in the code.<br><br>The pattern of a sketch would look like this:<br>#include "PinChangeInt.h"<br>#define NUM_RC_CHANNELS 5<br><br>// Assign your pins to channels<br>PROGMEM const byte RC_Channel_Pin[NUM_RC_CHANNELS]={5,6,7,8,9};<br>// create local variables to hold a local copies of the channel inputs<br>uint16_t RC_Channel_Value[NUM_RC_CHANNELS];<br>//assign interrupt functions to channels<br>#include "RCLib.h"<br><br>void setup()<br>{<br> //Serial.begin(9600);<br><br> //Serial.println("multiChannels");<br><br> // attach the interrupts used to read the channels<br> SetRCInterrupts();<br><br>}<br><br>void loop()<br>{<br><br> // If you want to wait for all channels to have reported the change you can use the code below<br> if(haveAllRCChannelsReceivedInfo())<br> {<br>   //do your channel actions here<br>  //The values received are in RC_Channel_Value[]<br> }<br> //End of: If you want to wait for all channels to have reported the change you can use the code below<br><br> //If you prefer to react as soon as possible<br> uint8_t UpdateFlag = getChannelsReceiveInfo();<br> if (UpdateFlag &amp; 1)<br> {<br>  //Channel 1 changed so do what needs to be done for a channel 1 change<br> }<br> //end of: If you prefer to react as soon as possible<br>}<br><br>Can you tell me what you think?<br>Best regards<br>Jantje</p><span id="bc_0_49MN" class="comment-actions secondary-text" kind="m"><a kind="i" href="javascript:;" target="_self" o="r">Reply</a><span class="item-control blog-admin pid-417906179"><a o="d" target="_self" href="https://www.blogger.com/delete-comment.g?blogID=7214097671310478681&amp;postID=402349402746029567">Delete</a></span></span></div><div id="bc_0_49BR" class="comment-replies"></div><div id="bc_0_49B_box" class="comment-replybox-single"></div></li><li id="bc_0_50B" class="comment" kind="b"><div class="avatar-image-container"><img src="./read receiver_files/b16-rounded.gif"></div><div id="c6820591017341619035" class="comment-block"><div id="bc_0_50M" class="comment-header" kind="m"><cite class="user blog-author"><a rel="nofollow" href="https://www.blogger.com/profile/07867684474123805993">Can_I_Trade?</a></cite><span class="icon user blog-author"></span><span class="datetime secondary-text"><a rel="nofollow" href="http://rcarduino.blogspot.com/2012/04/how-to-read-multiple-rc-channels-draft.html?showComment=1351075786298#c6820591017341619035">October 24, 2012 at 3:49 AM</a></span></div><p id="bc_0_50MC" class="comment-content">I have stayed away from releasing a library because all of the array access and pin mapping slows things down a lot inside the ISR - too much for me to have ever been happy enough to release something - I have built a few different approaches including some fast low level ones but too much of it is either reinventing the wheel (re implementing pin change int ) or just not fast enough. The thing I like about this code is that it will move straight over to the new ARM platforms because its at a sufficiently high level and still gives good performance on the AVRs. Duane B</p><span id="bc_0_50MN" class="comment-actions secondary-text" kind="m"><a kind="i" href="javascript:;" target="_self" o="r">Reply</a><span class="item-control blog-admin pid-195722605"><a o="d" target="_self" href="https://www.blogger.com/delete-comment.g?blogID=7214097671310478681&amp;postID=6820591017341619035">Delete</a></span></span></div><div id="bc_0_50BR" class="comment-replies"></div><div id="bc_0_50B_box" class="comment-replybox-single"></div></li><li id="bc_0_53B" class="comment" kind="b"><div class="avatar-image-container"><img src="./read receiver_files/blank.gif"></div><div id="c4583261143770247193" class="comment-block"><div id="bc_0_53M" class="comment-header" kind="m"><cite class="user"><a rel="nofollow" href="http://eclipse.baeyens.it/">jan Baeyens</a></cite><span class="icon user"></span><span class="datetime secondary-text"><a rel="nofollow" href="http://rcarduino.blogspot.com/2012/04/how-to-read-multiple-rc-channels-draft.html?showComment=1351264625191#c4583261143770247193">October 26, 2012 at 8:17 AM</a></span></div><p id="bc_0_53MC" class="comment-content">Duane<br>I came to the conclusion that the answer to my question ""waiting for all channels" will make any difference in the world of "standard users" is Yes, it does. Why? One broken line and all RC control is gone :-(. So I dumped the idea.<br><br>The library is going fine<br>The usage is simple (internal it is not :-( ) and I have been able to test it on a duemilanove with the PinChangeInt library and without. I want to test it with a mega and leonardo this weekend.<br>I'm fighting PROGMEM because it changes the actual values read. I'm not sure what to think about that.<br>Best regards<br>Jantje<br></p><span id="bc_0_53MN" class="comment-actions secondary-text" kind="m"><a kind="i" href="javascript:;" target="_self" o="r">Reply</a><span class="item-control blog-admin pid-863480191"><a o="d" target="_self" href="https://www.blogger.com/delete-comment.g?blogID=7214097671310478681&amp;postID=4583261143770247193">Delete</a></span></span></div><div id="bc_0_53BR" class="comment-replies"><span id="bc_0_53b+seedB1khD" kind="d"><div id="bc_0_51T" class="comment-thread inline-thread" kind="t" t="0" u="0"><span id="bc_0_51TT" class="thread-toggle thread-expanded" kind="g"><span id="bc_0_51TA" class="thread-arrow"></span><span id="bc_0_51TN" class="thread-count"><span id="bc_0_51TNT" style="display: none;"></span><span id="bc_0_51TNU" style="display: none;"></span><a href="javascript:;" target="_self">Replies</a><div id="bc_0_51TD" class="thread-dropContainer thread-expanded"><span class="thread-drop"></span></div></span></span><ol id="bc_0_51TC" class="thread-chrome thread-expanded"><div><li id="bc_0_51B" class="comment" kind="b"><div class="avatar-image-container"><img src="./read receiver_files/b16-rounded.gif"></div><div id="c8607137481291491192" class="comment-block"><div id="bc_0_51M" class="comment-header" kind="m"><cite class="user blog-author"><a rel="nofollow" href="https://www.blogger.com/profile/07867684474123805993">Can_I_Trade?</a></cite><span class="icon user blog-author"></span><span class="datetime secondary-text"><a rel="nofollow" href="http://rcarduino.blogspot.com/2012/04/how-to-read-multiple-rc-channels-draft.html?showComment=1351440478821#c8607137481291491192">October 28, 2012 at 9:07 AM</a></span></div><p id="bc_0_51MC" class="comment-content">Why PROGMEM ?<br><br>Duane</p><span id="bc_0_51MN" class="comment-actions secondary-text" kind="m"><span class="item-control blog-admin pid-195722605"><a o="d" target="_self" href="https://www.blogger.com/delete-comment.g?blogID=7214097671310478681&amp;postID=8607137481291491192">Delete</a></span></span></div><div id="bc_0_51BR" class="comment-replies"></div><div id="bc_0_51B_box" class="comment-replybox-single"></div></li><li id="bc_0_52B" class="comment" kind="b"><div class="avatar-image-container"><img src="./read receiver_files/b16-rounded.gif"></div><div id="c7088636818596825026" class="comment-block"><div id="bc_0_52M" class="comment-header" kind="m"><cite class="user"><a rel="nofollow" href="https://www.blogger.com/profile/03000823057849953778">jan</a></cite><span class="icon user"></span><span class="datetime secondary-text"><a rel="nofollow" href="http://rcarduino.blogspot.com/2012/04/how-to-read-multiple-rc-channels-draft.html?showComment=1351553606744#c7088636818596825026">October 29, 2012 at 4:33 PM</a></span></div><p id="bc_0_52MC" class="comment-content">Hi Duane<br>Sorry I missed this remark.<br>I need PROGMEM to store fixed values needed. one example is to be able to map pins to interrupts.<br>It works fine now but I  get to many warnings in regards to progmem which hides the warnings I create.<br>You can see my lib at https://github.com/jantje/libraries<br>I didn't do any testing but I assume I get very similar speed measurements as to your code and it is lots easier to write.<br>For instance if you do not include pinchangeint you use the arduino attachInterrupt() and pins.<br>If you include pinchangeint you automatically use the pinchangeint attachInterrupt() and pins.<br>Och the code is dirty (I mean hard to read) because I extensively used MACRO's to solve problems because I wanted "fast code" rather that "readable code"<br>Tell me what you think about it.<br>Best regards<br>Jantje</p><span id="bc_0_52MN" class="comment-actions secondary-text" kind="m"><span class="item-control blog-admin pid-685214817"><a o="d" target="_self" href="https://www.blogger.com/delete-comment.g?blogID=7214097671310478681&amp;postID=7088636818596825026">Delete</a></span></span></div><div id="bc_0_52BR" class="comment-replies"></div><div id="bc_0_52B_box" class="comment-replybox-single"></div></li></div><div id="bc_0_51I" class="continue" kind="ci"><a href="javascript:;" target="_self">Reply</a></div></ol><div id="bc_0_51T_box" class="comment-replybox-thread"></div></div></span></div><div id="bc_0_53B_box" class="comment-replybox-single"></div></li><li id="bc_0_54B" class="comment" kind="b"><div class="avatar-image-container"><img src="./read receiver_files/blank.gif"></div><div id="c8673980785192807875" class="comment-block"><div id="bc_0_54M" class="comment-header" kind="m"><cite class="user">Anonymous</cite><span class="icon user"></span><span class="datetime secondary-text"><a rel="nofollow" href="http://rcarduino.blogspot.com/2012/04/how-to-read-multiple-rc-channels-draft.html?showComment=1353663137684#c8673980785192807875">November 23, 2012 at 1:32 AM</a></span></div><p id="bc_0_54MC" class="comment-content">I'm not sure I see why you're using Servo as an output routine. What would be wrong with simply echoing what the input pins do? <br><br>For example, the throttle input rises and triggers the ISR to simply set the throttle output pin. Likewise, a falling pin would simply trigger the ISR to clear the throttle output pin. </p><span id="bc_0_54MN" class="comment-actions secondary-text" kind="m"><a kind="i" href="javascript:;" target="_self" o="r">Reply</a><span class="item-control blog-admin pid-1645271770"><a o="d" target="_self" href="https://www.blogger.com/delete-comment.g?blogID=7214097671310478681&amp;postID=8673980785192807875">Delete</a></span></span></div><div id="bc_0_54BR" class="comment-replies"></div><div id="bc_0_54B_box" class="comment-replybox-single"></div></li><li id="bc_0_55B" class="comment" kind="b"><div class="avatar-image-container"><img src="./read receiver_files/b16-rounded.gif"></div><div id="c6601446281855857123" class="comment-block"><div id="bc_0_55M" class="comment-header" kind="m"><cite class="user blog-author"><a rel="nofollow" href="https://www.blogger.com/profile/07867684474123805993">Can_I_Trade?</a></cite><span class="icon user blog-author"></span><span class="datetime secondary-text"><a rel="nofollow" href="http://rcarduino.blogspot.com/2012/04/how-to-read-multiple-rc-channels-draft.html?showComment=1353670641087#c6601446281855857123">November 23, 2012 at 3:37 AM</a></span></div><p id="bc_0_55MC" class="comment-content">If all you ever wanted to do was read the input and pass it straight to the output, there would be no need for the Arduino at all. My expectation is that once people are reading the input and are confident that the servo library output does what they expect, they will do something more interesting, as an example see this - <br><br>http://rcarduino.blogspot.com/2012/07/rcarduino-yaw-control-part-2.html<br><br>or this - <br><br>http://rcarduino.blogspot.com/2012/05/interfacing-rc-channels-to-l293d-motor.html<br><br>or this -<br><br>http://rcarduino.blogspot.com/2012/01/traction-control-part-13-we-have.html<br><br>Duane B</p><span id="bc_0_55MN" class="comment-actions secondary-text" kind="m"><a kind="i" href="javascript:;" target="_self" o="r">Reply</a><span class="item-control blog-admin pid-195722605"><a o="d" target="_self" href="https://www.blogger.com/delete-comment.g?blogID=7214097671310478681&amp;postID=6601446281855857123">Delete</a></span></span></div><div id="bc_0_55BR" class="comment-replies"></div><div id="bc_0_55B_box" class="comment-replybox-single"></div></li><li id="bc_0_56B" class="comment" kind="b"><div class="avatar-image-container"><img src="./read receiver_files/blank.gif"></div><div id="c4780930212047871269" class="comment-block"><div id="bc_0_56M" class="comment-header" kind="m"><cite class="user">Anonymous</cite><span class="icon user"></span><span class="datetime secondary-text"><a rel="nofollow" href="http://rcarduino.blogspot.com/2012/04/how-to-read-multiple-rc-channels-draft.html?showComment=1353918996579#c4780930212047871269">November 26, 2012 at 12:36 AM</a></span></div><p id="bc_0_56MC" class="comment-content">When reading the serial output, should the be a specific value or is a small variance normal..<br><br>i.e.<br><br>Throttle (F) 1908/1912<br>Throttle (N) 1508/1512<br>Throttle (R) 1112/1116<br><br>Steering (R) 1908/1912<br>Steering (N) 1512/1516<br>Steering (L) 1112/1116</p><span id="bc_0_56MN" class="comment-actions secondary-text" kind="m"><a kind="i" href="javascript:;" target="_self" o="r">Reply</a><span class="item-control blog-admin pid-1676968692"><a o="d" target="_self" href="https://www.blogger.com/delete-comment.g?blogID=7214097671310478681&amp;postID=4780930212047871269">Delete</a></span></span></div><div id="bc_0_56BR" class="comment-replies"></div><div id="bc_0_56B_box" class="comment-replybox-single"></div></li><li id="bc_0_57B" class="comment" kind="b"><div class="avatar-image-container"><img src="./read receiver_files/b16-rounded.gif"></div><div id="c9043905439765437985" class="comment-block"><div id="bc_0_57M" class="comment-header" kind="m"><cite class="user blog-author"><a rel="nofollow" href="https://www.blogger.com/profile/07867684474123805993">Can_I_Trade?</a></cite><span class="icon user blog-author"></span><span class="datetime secondary-text"><a rel="nofollow" href="http://rcarduino.blogspot.com/2012/04/how-to-read-multiple-rc-channels-draft.html?showComment=1353931399531#c9043905439765437985">November 26, 2012 at 4:03 AM</a></span></div><p id="bc_0_57MC" class="comment-content">The small variance is normal, you can find an explanation and recommendations for reducing it here but note that its generally not enough to move a servo or ESC and is also smaller than the general level of radio interference you can expect, see - <br><br>explanation and reduction<br>http://rcarduino.blogspot.com/2012/11/how-to-read-rc-channels-rcarduinofastlib.html<br><br>radio interference illustration<br>http://rcarduino.blogspot.com/2012/03/reading-from-rc-reveiver-do-you-need.html<br><br>Duane B</p><span id="bc_0_57MN" class="comment-actions secondary-text" kind="m"><a kind="i" href="javascript:;" target="_self" o="r">Reply</a><span class="item-control blog-admin pid-195722605"><a o="d" target="_self" href="https://www.blogger.com/delete-comment.g?blogID=7214097671310478681&amp;postID=9043905439765437985">Delete</a></span></span></div><div id="bc_0_57BR" class="comment-replies"></div><div id="bc_0_57B_box" class="comment-replybox-single"></div></li><li id="bc_0_58B" class="comment" kind="b"><div class="avatar-image-container"><img src="./read receiver_files/blank.gif"></div><div id="c3786948993767698818" class="comment-block"><div id="bc_0_58M" class="comment-header" kind="m"><cite class="user">Anonymous</cite><span class="icon user"></span><span class="datetime secondary-text"><a rel="nofollow" href="http://rcarduino.blogspot.com/2012/04/how-to-read-multiple-rc-channels-draft.html?showComment=1353977068561#c3786948993767698818">November 26, 2012 at 4:44 PM</a></span></div><p id="bc_0_58MC" class="comment-content">Duane, thank you for your code and for all of the help you offer to all of us!</p><span id="bc_0_58MN" class="comment-actions secondary-text" kind="m"><a kind="i" href="javascript:;" target="_self" o="r">Reply</a><span class="item-control blog-admin pid-1676968692"><a o="d" target="_self" href="https://www.blogger.com/delete-comment.g?blogID=7214097671310478681&amp;postID=3786948993767698818">Delete</a></span></span></div><div id="bc_0_58BR" class="comment-replies"></div><div id="bc_0_58B_box" class="comment-replybox-single"></div></li><li id="bc_0_59B" class="comment" kind="b"><div class="avatar-image-container"><img src="./read receiver_files/b16-rounded.gif"></div><div id="c2485731312918924994" class="comment-block"><div id="bc_0_59M" class="comment-header" kind="m"><cite class="user"><a rel="nofollow" href="https://www.blogger.com/profile/09544231450431792536">Patrick L</a></cite><span class="icon user"></span><span class="datetime secondary-text"><a rel="nofollow" href="http://rcarduino.blogspot.com/2012/04/how-to-read-multiple-rc-channels-draft.html?showComment=1354377918097#c2485731312918924994">December 1, 2012 at 8:05 AM</a></span></div><p id="bc_0_59MC" class="comment-content">Hi Duane,<br>+1 to anonymous ^. Thanks for this set of posts, they're really informative and well written.<br><br>I've been programming with visual C# for a while now so I'm competent in basic programming, but have very little idea about interrupts.<br>For a university project I'm trying to make an autopilot routine for a quadcopter, plugging an arduino uno between the Rx and the quadcopter's brain.<br>With my extremely limited knowledge of interrupts I've tried to extend your code above to more channels, but it's not working.<br><br>Could I ask you a favour? Would it take up much of your time to put up a second example somewhere that does the same thing but for, say, 8 channels?<br><br>I've searched everywhere ever for similar code that works for 6 or 8 channels, but there is only stuff involving using Timer1, which, from what i've read (see: some of your own comments) cannot be used in conjunction with the servo library. I think there would be a lot of people out there including me who would be very grateful for an 8 channel PWM reader + passthrough.<br><br>Preemptive Thanks,<br>Patrick L<br><br>P.S. This Arduino stuff seems really cool and I'm definitely going to learn how to use interrupts in the future but for this particular projects time is short and the only thing holding me up is making the arduino invisible when autopilot is inactive.</p><span id="bc_0_59MN" class="comment-actions secondary-text" kind="m"><a kind="i" href="javascript:;" target="_self" o="r">Reply</a><span class="item-control blog-admin pid-837435026"><a o="d" target="_self" href="https://www.blogger.com/delete-comment.g?blogID=7214097671310478681&amp;postID=2485731312918924994">Delete</a></span></span></div><div id="bc_0_59BR" class="comment-replies"></div><div id="bc_0_59B_box" class="comment-replybox-single"></div></li><li id="bc_0_60B" class="comment" kind="b"><div class="avatar-image-container"><img src="./read receiver_files/b16-rounded.gif"></div><div id="c3504432287110608807" class="comment-block"><div id="bc_0_60M" class="comment-header" kind="m"><cite class="user blog-author"><a rel="nofollow" href="https://www.blogger.com/profile/07867684474123805993">Can_I_Trade?</a></cite><span class="icon user blog-author"></span><span class="datetime secondary-text"><a rel="nofollow" href="http://rcarduino.blogspot.com/2012/04/how-to-read-multiple-rc-channels-draft.html?showComment=1354382496538#c3504432287110608807">December 1, 2012 at 9:21 AM</a></span></div><p id="bc_0_60MC" class="comment-content">To add more channels, its simply a case of cutting and pasting. The code is organized into clear sections, for example the three channel input pins are define, then the output put pins, then the variables to hold the values and so it continues throughout. To add an additional channel, look through the code line by line and wherever you see the Aux channel referenced, copy it and rename it to add your new channel. It really is that easy. Duane B</p><span id="bc_0_60MN" class="comment-actions secondary-text" kind="m"><a kind="i" href="javascript:;" target="_self" o="r">Reply</a><span class="item-control blog-admin pid-195722605"><a o="d" target="_self" href="https://www.blogger.com/delete-comment.g?blogID=7214097671310478681&amp;postID=3504432287110608807">Delete</a></span></span></div><div id="bc_0_60BR" class="comment-replies"></div><div id="bc_0_60B_box" class="comment-replybox-single"></div></li><li id="bc_0_61B" class="comment" kind="b"><div class="avatar-image-container"><img src="./read receiver_files/b16-rounded.gif"></div><div id="c7089337598455092391" class="comment-block"><div id="bc_0_61M" class="comment-header" kind="m"><cite class="user"><a rel="nofollow" href="https://www.blogger.com/profile/09544231450431792536">Patrick L</a></cite><span class="icon user"></span><span class="datetime secondary-text"><a rel="nofollow" href="http://rcarduino.blogspot.com/2012/04/how-to-read-multiple-rc-channels-draft.html?showComment=1354458187516#c7089337598455092391">December 2, 2012 at 6:23 AM</a></span></div><p id="bc_0_61MC" class="comment-content">What you mean I actually have to work to get what I want?! Even if 'working' is just copying and pasting XD<br><br>First I have a couple of questions.<br>1) Why did you not start at pin 1?<br><br>2) Do the Flags assigned at 1,2 and 4 have any relation to pins, or are they their own set of numbers? (i.e. can I have a pin 1 as well as a flag 1?)<br><br>3)Why did you skip flag 3?<br><br>So I did added another channel the way you said, but my quadcopter won't arm, meaning the 4th Channel isn't right. When I print servoAux2.readMicroseconds and unAux2In to serial they're exactly the same but the correct PWM is definitely not getting to the 'copter.<br><br>Any ideas why?<br>I'm hoping you're going to say 'ah this is a common problem...'<br><br>The code is here if you're interested<br>http://www.pastebucket.com/5242<br><br>Thanks again,<br>Patrick</p><span id="bc_0_61MN" class="comment-actions secondary-text" kind="m"><a kind="i" href="javascript:;" target="_self" o="r">Reply</a><span class="item-control blog-admin pid-837435026"><a o="d" target="_self" href="https://www.blogger.com/delete-comment.g?blogID=7214097671310478681&amp;postID=7089337598455092391">Delete</a></span></span></div><div id="bc_0_61BR" class="comment-replies"></div><div id="bc_0_61B_box" class="comment-replybox-single"></div></li><li id="bc_0_62B" class="comment" kind="b"><div class="avatar-image-container"><img src="./read receiver_files/b16-rounded.gif"></div><div id="c5807099098183014627" class="comment-block"><div id="bc_0_62M" class="comment-header" kind="m"><cite class="user blog-author"><a rel="nofollow" href="https://www.blogger.com/profile/07867684474123805993">Can_I_Trade?</a></cite><span class="icon user blog-author"></span><span class="datetime secondary-text"><a rel="nofollow" href="http://rcarduino.blogspot.com/2012/04/how-to-read-multiple-rc-channels-draft.html?showComment=1354458544601#c5807099098183014627">December 2, 2012 at 6:29 AM</a></span></div><p id="bc_0_62MC" class="comment-content">The flag is the only thing you have wrong, the flags are 'bit flags' meaning each one relates to a different bit in a byte. Bits have the values 1,2,4,8,16,32,64 and 128, these are the values you should use for your flags, change 5 to 8 and your code looks as if it should work.<br><br>Duane B</p><span id="bc_0_62MN" class="comment-actions secondary-text" kind="m"><a kind="i" href="javascript:;" target="_self" o="r">Reply</a><span class="item-control blog-admin pid-195722605"><a o="d" target="_self" href="https://www.blogger.com/delete-comment.g?blogID=7214097671310478681&amp;postID=5807099098183014627">Delete</a></span></span></div><div id="bc_0_62BR" class="comment-replies"></div><div id="bc_0_62B_box" class="comment-replybox-single"></div></li><li id="bc_0_63B" class="comment" kind="b"><div class="avatar-image-container"><img src="./read receiver_files/b16-rounded.gif"></div><div id="c6681363773689794209" class="comment-block"><div id="bc_0_63M" class="comment-header" kind="m"><cite class="user"><a rel="nofollow" href="https://www.blogger.com/profile/09544231450431792536">Patrick L</a></cite><span class="icon user"></span><span class="datetime secondary-text"><a rel="nofollow" href="http://rcarduino.blogspot.com/2012/04/how-to-read-multiple-rc-channels-draft.html?showComment=1354468714512#c6681363773689794209">December 2, 2012 at 9:18 AM</a></span></div><p id="bc_0_63MC" class="comment-content">haha not my code, /your/ code.<br>Nope I changed the flag to 8 and still nothing happens.<br>If I print servoAux2.readMicroseconds to serial, is what's on my screen definitely what's coming out of the pin? or not necessarily so?</p><span id="bc_0_63MN" class="comment-actions secondary-text" kind="m"><a kind="i" href="javascript:;" target="_self" o="r">Reply</a><span class="item-control blog-admin pid-837435026"><a o="d" target="_self" href="https://www.blogger.com/delete-comment.g?blogID=7214097671310478681&amp;postID=6681363773689794209">Delete</a></span></span></div><div id="bc_0_63BR" class="comment-replies"></div><div id="bc_0_63B_box" class="comment-replybox-single"></div></li><li id="bc_0_65B" class="comment" kind="b"><div class="avatar-image-container"><img src="./read receiver_files/b16-rounded.gif"></div><div id="c7054380294572246675" class="comment-block"><div id="bc_0_65M" class="comment-header" kind="m"><cite class="user blog-author"><a rel="nofollow" href="https://www.blogger.com/profile/07867684474123805993">Can_I_Trade?</a></cite><span class="icon user blog-author"></span><span class="datetime secondary-text"><a rel="nofollow" href="http://rcarduino.blogspot.com/2012/04/how-to-read-multiple-rc-channels-draft.html?showComment=1354469518214#c7054380294572246675">December 2, 2012 at 9:31 AM</a></span></div><p id="bc_0_65MC" class="comment-content">It is what is coming out of the pin, what does it show ? does it change if you move any or all of the transmitter controls ?<br><br>Duane B</p><span id="bc_0_65MN" class="comment-actions secondary-text" kind="m"><a kind="i" href="javascript:;" target="_self" o="r">Reply</a><span class="item-control blog-admin pid-195722605"><a o="d" target="_self" href="https://www.blogger.com/delete-comment.g?blogID=7214097671310478681&amp;postID=7054380294572246675">Delete</a></span></span></div><div id="bc_0_65BR" class="comment-replies"><span id="bc_0_65b+seedB1kuD" kind="d"><div id="bc_0_64T" class="comment-thread inline-thread" kind="t" t="0" u="0"><span id="bc_0_64TT" class="thread-toggle thread-expanded" kind="g"><span id="bc_0_64TA" class="thread-arrow"></span><span id="bc_0_64TN" class="thread-count"><span id="bc_0_64TNT" style="display: none;"></span><span id="bc_0_64TNU" style="display: none;"></span><a href="javascript:;" target="_self">Replies</a><div id="bc_0_64TD" class="thread-dropContainer thread-expanded"><span class="thread-drop"></span></div></span></span><ol id="bc_0_64TC" class="thread-chrome thread-expanded"><div><li id="bc_0_64B" class="comment" kind="b"><div class="avatar-image-container"><img src="./read receiver_files/b16-rounded.gif"></div><div id="c5732707819961099511" class="comment-block"><div id="bc_0_64M" class="comment-header" kind="m"><cite class="user"><a rel="nofollow" href="https://www.blogger.com/profile/09544231450431792536">Patrick L</a></cite><span class="icon user"></span><span class="datetime secondary-text"><a rel="nofollow" href="http://rcarduino.blogspot.com/2012/04/how-to-read-multiple-rc-channels-draft.html?showComment=1354500423876#c5732707819961099511">December 2, 2012 at 6:07 PM</a></span></div><p id="bc_0_64MC" class="comment-content">All the pins are putting out expected results - minimum ~1100 maximum ~1900.<br>I don't know if you know anything about quadcopters, but you have to arm them so they don't start spinning when you're too close.<br>This is done by moving throttle to minimum and rudder to maximum.<br>With my arduino plugged in, the arming light comes on when throttle is full regardless of rudder position, but after that no response from anything, and it disarms when throttle goes to minimum.<br><br>Could  it be a conflict because the arduino is not outputting into esc's but into another microcontroller? is there something slightly off with timing or something which confuses the quadcopter brain?<br><br>Patrick</p><span id="bc_0_64MN" class="comment-actions secondary-text" kind="m"><span class="item-control blog-admin pid-837435026"><a o="d" target="_self" href="https://www.blogger.com/delete-comment.g?blogID=7214097671310478681&amp;postID=5732707819961099511">Delete</a></span></span></div><div id="bc_0_64BR" class="comment-replies"></div><div id="bc_0_64B_box" class="comment-replybox-single"></div></li></div><div id="bc_0_64I" class="continue" kind="ci"><a href="javascript:;" target="_self">Reply</a></div></ol><div id="bc_0_64T_box" class="comment-replybox-thread"></div></div></span></div><div id="bc_0_65B_box" class="comment-replybox-single"></div></li><li id="bc_0_66B" class="comment" kind="b"><div class="avatar-image-container"><img src="./read receiver_files/b16-rounded.gif"></div><div id="c8580337761181761083" class="comment-block"><div id="bc_0_66M" class="comment-header" kind="m"><cite class="user blog-author"><a rel="nofollow" href="https://www.blogger.com/profile/07867684474123805993">Can_I_Trade?</a></cite><span class="icon user blog-author"></span><span class="datetime secondary-text"><a rel="nofollow" href="http://rcarduino.blogspot.com/2012/04/how-to-read-multiple-rc-channels-draft.html?showComment=1354523657446#c8580337761181761083">December 3, 2012 at 12:34 AM</a></span></div><p id="bc_0_66MC" class="comment-content">Hi, So what you have is the Arduino accepting and passing through all of your channels correct, but the second uC (microcontroller) is not passing these correctly on to the ESCs. Can you check that you have a common ground connection between the two uCs and also do you have an oscilloscope that you can check that the output of the second uC is following the output from the Arduino ? if not, try a servo.<br><br>Duane B</p><span id="bc_0_66MN" class="comment-actions secondary-text" kind="m"><a kind="i" href="javascript:;" target="_self" o="r">Reply</a><span class="item-control blog-admin pid-195722605"><a o="d" target="_self" href="https://www.blogger.com/delete-comment.g?blogID=7214097671310478681&amp;postID=8580337761181761083">Delete</a></span></span></div><div id="bc_0_66BR" class="comment-replies"></div><div id="bc_0_66B_box" class="comment-replybox-single"></div></li><li id="bc_0_67B" class="comment" kind="b"><div class="avatar-image-container"><img src="./read receiver_files/blank.gif"></div><div id="c1146580639422992664" class="comment-block"><div id="bc_0_67M" class="comment-header" kind="m"><cite class="user">Anonymous</cite><span class="icon user"></span><span class="datetime secondary-text"><a rel="nofollow" href="http://rcarduino.blogspot.com/2012/04/how-to-read-multiple-rc-channels-draft.html?showComment=1354764188955#c1146580639422992664">December 5, 2012 at 7:23 PM</a></span></div><p id="bc_0_67MC" class="comment-content">Hi!<br>Dumb question, but where IS the library on your site? I see no download area. Sorry if i missed it.<br><br>Tom</p><span id="bc_0_67MN" class="comment-actions secondary-text" kind="m"><a kind="i" href="javascript:;" target="_self" o="r">Reply</a><span class="item-control blog-admin pid-32507362"><a o="d" target="_self" href="https://www.blogger.com/delete-comment.g?blogID=7214097671310478681&amp;postID=1146580639422992664">Delete</a></span></span></div><div id="bc_0_67BR" class="comment-replies"></div><div id="bc_0_67B_box" class="comment-replybox-single"></div></li><li id="bc_0_68B" class="comment" kind="b"><div class="avatar-image-container"><img src="./read receiver_files/b16-rounded.gif"></div><div id="c6234705996341124810" class="comment-block"><div id="bc_0_68M" class="comment-header" kind="m"><cite class="user blog-author"><a rel="nofollow" href="https://www.blogger.com/profile/07867684474123805993">Can_I_Trade?</a></cite><span class="icon user blog-author"></span><span class="datetime secondary-text"><a rel="nofollow" href="http://rcarduino.blogspot.com/2012/04/how-to-read-multiple-rc-channels-draft.html?showComment=1354773913425#c6234705996341124810">December 5, 2012 at 10:05 PM</a></span></div><p id="bc_0_68MC" class="comment-content">There are quite a few libraries dotted around, which one are you looking for ?<br><br>Duane B</p><span id="bc_0_68MN" class="comment-actions secondary-text" kind="m"><a kind="i" href="javascript:;" target="_self" o="r">Reply</a><span class="item-control blog-admin pid-195722605"><a o="d" target="_self" href="https://www.blogger.com/delete-comment.g?blogID=7214097671310478681&amp;postID=6234705996341124810">Delete</a></span></span></div><div id="bc_0_68BR" class="comment-replies"></div><div id="bc_0_68B_box" class="comment-replybox-single"></div></li><li id="bc_0_69B" class="comment" kind="b"><div class="avatar-image-container"><img src="./read receiver_files/blank.gif"></div><div id="c3460505761273726796" class="comment-block"><div id="bc_0_69M" class="comment-header" kind="m"><cite class="user">jon</cite><span class="icon user"></span><span class="datetime secondary-text"><a rel="nofollow" href="http://rcarduino.blogspot.com/2012/04/how-to-read-multiple-rc-channels-draft.html?showComment=1358969931065#c3460505761273726796">January 23, 2013 at 11:38 AM</a></span></div><p id="bc_0_69MC" class="comment-content">Hi Duane,<br>  Thanks for the great explanations.  Still a newb, but learning fast.  Wondering if you have any thoughts on how to work with 760 microsecond, 560 Hz high speed servos.  I've been mucking with the servo.h library to try and get it to refresh faster, but I'm honestly in way over my head on that :)<br>Cheers,<br>Jon</p><span id="bc_0_69MN" class="comment-actions secondary-text" kind="m"><a kind="i" href="javascript:;" target="_self" o="r">Reply</a><span class="item-control blog-admin pid-1418260286"><a o="d" target="_self" href="https://www.blogger.com/delete-comment.g?blogID=7214097671310478681&amp;postID=3460505761273726796">Delete</a></span></span></div><div id="bc_0_69BR" class="comment-replies"></div><div id="bc_0_69B_box" class="comment-replybox-single"></div></li><li id="bc_0_70B" class="comment" kind="b"><div class="avatar-image-container"><img src="./read receiver_files/blank.gif"></div><div id="c8502763063609509099" class="comment-block"><div id="bc_0_70M" class="comment-header" kind="m"><cite class="user"><a rel="nofollow" href="http://nourlyet.com/">chan</a></cite><span class="icon user"></span><span class="datetime secondary-text"><a rel="nofollow" href="http://rcarduino.blogspot.com/2012/04/how-to-read-multiple-rc-channels-draft.html?showComment=1361115597524#c8502763063609509099">February 17, 2013 at 7:39 AM</a></span></div><p id="bc_0_70MC" class="comment-content">Hi Duane, i am a super new beginner. I am also struggling to get a RC car moving using a Futaba recevier and transmitter. For the above project , do you happen to have the full schematic diagram? A Thousand thanks for your assistance</p><span id="bc_0_70MN" class="comment-actions secondary-text" kind="m"><a kind="i" href="javascript:;" target="_self" o="r">Reply</a><span class="item-control blog-admin pid-1799951052"><a o="d" target="_self" href="https://www.blogger.com/delete-comment.g?blogID=7214097671310478681&amp;postID=8502763063609509099">Delete</a></span></span></div><div id="bc_0_70BR" class="comment-replies"></div><div id="bc_0_70B_box" class="comment-replybox-single"></div></li><li id="bc_0_71B" class="comment" kind="b"><div class="avatar-image-container"><img src="./read receiver_files/b16-rounded.gif"></div><div id="c6801044875823201828" class="comment-block"><div id="bc_0_71M" class="comment-header" kind="m"><cite class="user blog-author"><a rel="nofollow" href="https://www.blogger.com/profile/07867684474123805993">Can_I_Trade?</a></cite><span class="icon user blog-author"></span><span class="datetime secondary-text"><a rel="nofollow" href="http://rcarduino.blogspot.com/2012/04/how-to-read-multiple-rc-channels-draft.html?showComment=1361124182547#c6801044875823201828">February 17, 2013 at 10:03 AM</a></span></div><p id="bc_0_71MC" class="comment-content">Hi, I dont have a schematic, but the only thing you really need to think about is how are you going to power the Arduino. WhAt type of baTtery is powering the car and how many volts is it ?<br><br>Duane B<br></p><span id="bc_0_71MN" class="comment-actions secondary-text" kind="m"><a kind="i" href="javascript:;" target="_self" o="r">Reply</a><span class="item-control blog-admin pid-195722605"><a o="d" target="_self" href="https://www.blogger.com/delete-comment.g?blogID=7214097671310478681&amp;postID=6801044875823201828">Delete</a></span></span></div><div id="bc_0_71BR" class="comment-replies"></div><div id="bc_0_71B_box" class="comment-replybox-single"></div></li><li id="bc_0_72B" class="comment" kind="b"><div class="avatar-image-container"><img src="./read receiver_files/blank.gif"></div><div id="c8204511934620567598" class="comment-block"><div id="bc_0_72M" class="comment-header" kind="m"><cite class="user">Anonymous</cite><span class="icon user"></span><span class="datetime secondary-text"><a rel="nofollow" href="http://rcarduino.blogspot.com/2012/04/how-to-read-multiple-rc-channels-draft.html?showComment=1361381970554#c8204511934620567598">February 20, 2013 at 9:39 AM</a></span></div><p id="bc_0_72MC" class="comment-content">Hi I am new to all of this, i load the single channel code and all worked fine.  Now having load the above code all i see in the serial monitor is tyhe word "multi channels"  i have confirmed the the RC RX is working and giving oit data.  I have tried using a MEGA 2560 and UNO board and it does the same?</p><span id="bc_0_72MN" class="comment-actions secondary-text" kind="m"><a kind="i" href="javascript:;" target="_self" o="r">Reply</a><span class="item-control blog-admin pid-336586914"><a o="d" target="_self" href="https://www.blogger.com/delete-comment.g?blogID=7214097671310478681&amp;postID=8204511934620567598">Delete</a></span></span></div><div id="bc_0_72BR" class="comment-replies"></div><div id="bc_0_72B_box" class="comment-replybox-single"></div></li><li id="bc_0_73B" class="comment" kind="b"><div class="avatar-image-container"><img src="./read receiver_files/b16-rounded.gif"></div><div id="c2205647210960524480" class="comment-block"><div id="bc_0_73M" class="comment-header" kind="m"><cite class="user blog-author"><a rel="nofollow" href="https://www.blogger.com/profile/07867684474123805993">Can_I_Trade?</a></cite><span class="icon user blog-author"></span><span class="datetime secondary-text"><a rel="nofollow" href="http://rcarduino.blogspot.com/2012/04/how-to-read-multiple-rc-channels-draft.html?showComment=1361419936894#c2205647210960524480">February 20, 2013 at 8:12 PM</a></span></div><p id="bc_0_73MC" class="comment-content">Hi, If you read through the code you will see that it does not attempt to output to serial, instead it directly controls servos attached to pins 8,9 or 10.<br><br>If you dont have any servos and just want to see serial output instead, you can add it next to the writeMicroseconds.<br><br>Duane B</p><span id="bc_0_73MN" class="comment-actions secondary-text" kind="m"><a kind="i" href="javascript:;" target="_self" o="r">Reply</a><span class="item-control blog-admin pid-195722605"><a o="d" target="_self" href="https://www.blogger.com/delete-comment.g?blogID=7214097671310478681&amp;postID=2205647210960524480">Delete</a></span></span></div><div id="bc_0_73BR" class="comment-replies"></div><div id="bc_0_73B_box" class="comment-replybox-single"></div></li><li id="bc_0_74B" class="comment" kind="b"><div class="avatar-image-container"><img src="./read receiver_files/b16-rounded.gif"></div><div id="c1786659202915794470" class="comment-block"><div id="bc_0_74M" class="comment-header" kind="m"><cite class="user"><a rel="nofollow" href="https://www.blogger.com/profile/09280806016748844246">wJ</a></cite><span class="icon user"></span><span class="datetime secondary-text"><a rel="nofollow" href="http://rcarduino.blogspot.com/2012/04/how-to-read-multiple-rc-channels-draft.html?showComment=1361554499467#c1786659202915794470">February 22, 2013 at 9:34 AM</a></span></div><p id="bc_0_74MC" class="comment-content">Hi Duane, I am using an Arduino Uno and whenever I try to compile the code you provided, I get the following error msg<br><br>Servo\Servo.cpp.o: In function `__vector_11':<br>E:\arduino-1.0.1\libraries\Servo/Servo.cpp:103: multiple definition of `__vector_11'<br>RCArduinoFastLib\RCArduinoFastLib.cpp.o:E:\arduino-1.0.1\libraries\RCArduinoFastLib/RCArduinoFastLib.cpp:51: first defined here<br>It seems that both RCArduinoFastLib and Servo Library use the same timer<br><br>May I know if there is anything I'm missing?<br><br>Thanks<br><br>Thomas</p><span id="bc_0_74MN" class="comment-actions secondary-text" kind="m"><a kind="i" href="javascript:;" target="_self" o="r">Reply</a><span class="item-control blog-admin pid-1362850376"><a o="d" target="_self" href="https://www.blogger.com/delete-comment.g?blogID=7214097671310478681&amp;postID=1786659202915794470">Delete</a></span></span></div><div id="bc_0_74BR" class="comment-replies"></div><div id="bc_0_74B_box" class="comment-replybox-single"></div></li><li id="bc_0_75B" class="comment" kind="b"><div class="avatar-image-container"><img src="./read receiver_files/b16-rounded.gif"></div><div id="c2666079372423089691" class="comment-block"><div id="bc_0_75M" class="comment-header" kind="m"><cite class="user blog-author"><a rel="nofollow" href="https://www.blogger.com/profile/07867684474123805993">Can_I_Trade?</a></cite><span class="icon user blog-author"></span><span class="datetime secondary-text"><a rel="nofollow" href="http://rcarduino.blogspot.com/2012/04/how-to-read-multiple-rc-channels-draft.html?showComment=1361700999975#c2666079372423089691">February 24, 2013 at 2:16 AM</a></span></div><p id="bc_0_75MC" class="comment-content">Hi,<br>   The RCArduinoFastLib is an alternative to the servo library which has been optimised for use in RC Projects. As its an alternative to the Servo library, it uses the same Timer resource on the basis that where RCArduinoFastLib is used, the servo library will not be used. Not sure what code you are compiling to see an error, the code in this post does not include RCArduinoFastLib so there should be no clashes.<br><br>Duane B</p><span id="bc_0_75MN" class="comment-actions secondary-text" kind="m"><a kind="i" href="javascript:;" target="_self" o="r">Reply</a><span class="item-control blog-admin pid-195722605"><a o="d" target="_self" href="https://www.blogger.com/delete-comment.g?blogID=7214097671310478681&amp;postID=2666079372423089691">Delete</a></span></span></div><div id="bc_0_75BR" class="comment-replies"></div><div id="bc_0_75B_box" class="comment-replybox-single"></div></li><li id="bc_0_76B" class="comment" kind="b"><div class="avatar-image-container"><img src="./read receiver_files/blank.gif"></div><div id="c1175413570032888681" class="comment-block"><div id="bc_0_76M" class="comment-header" kind="m"><cite class="user">Anonymous</cite><span class="icon user"></span><span class="datetime secondary-text"><a rel="nofollow" href="http://rcarduino.blogspot.com/2012/04/how-to-read-multiple-rc-channels-draft.html?showComment=1363638096323#c1175413570032888681">March 18, 2013 at 1:21 PM</a></span></div><p id="bc_0_76MC" class="comment-content">This is awesome, thanks for sharing! I really learned a lot about the Arduino language and signal processing from your post and from playing around with my controller/servos this weekend.<br><br>This is, this sketch does not work at all on an Arduino Micro. It works perfect on my Duemilanove and Mini, but not on the (Leonardo based) Micro. Any ideas on a work-around? Thanks!<br><br>-Anthony</p><span id="bc_0_76MN" class="comment-actions secondary-text" kind="m"><a kind="i" href="javascript:;" target="_self" o="r">Reply</a><span class="item-control blog-admin pid-34724786"><a o="d" target="_self" href="https://www.blogger.com/delete-comment.g?blogID=7214097671310478681&amp;postID=1175413570032888681">Delete</a></span></span></div><div id="bc_0_76BR" class="comment-replies"></div><div id="bc_0_76B_box" class="comment-replybox-single"></div></li><li id="bc_0_77B" class="comment" kind="b"><div class="avatar-image-container"><img src="./read receiver_files/b16-rounded.gif"></div><div id="c1916680476401965209" class="comment-block"><div id="bc_0_77M" class="comment-header" kind="m"><cite class="user blog-author"><a rel="nofollow" href="https://www.blogger.com/profile/07867684474123805993">Can_I_Trade?</a></cite><span class="icon user blog-author"></span><span class="datetime secondary-text"><a rel="nofollow" href="http://rcarduino.blogspot.com/2012/04/how-to-read-multiple-rc-channels-draft.html?showComment=1363672574494#c1916680476401965209">March 18, 2013 at 10:56 PM</a></span></div><p id="bc_0_77MC" class="comment-content">Hi,<br>  I do not have a micro but have an idea of what your problem is - it also ties into a post I was planning to write soon.<br><br>As a first step, lets try reading a single channel using some simpler code here - http://rcarduino.blogspot.ae/2012/01/how-to-read-rc-receiver-with.html<br><br>You will need to make some small changes to be able to write to serial on the micro, I think you know these already.<br><br>Let me know if this works, it might not in which case I know what the problem is.<br><br>Duane B.</p><span id="bc_0_77MN" class="comment-actions secondary-text" kind="m"><a kind="i" href="javascript:;" target="_self" o="r">Reply</a><span class="item-control blog-admin pid-195722605"><a o="d" target="_self" href="https://www.blogger.com/delete-comment.g?blogID=7214097671310478681&amp;postID=1916680476401965209">Delete</a></span></span></div><div id="bc_0_77BR" class="comment-replies"></div><div id="bc_0_77B_box" class="comment-replybox-single"></div></li><li id="bc_0_78B" class="comment" kind="b"><div class="avatar-image-container"><img src="./read receiver_files/blank.gif"></div><div id="c2528068445456954975" class="comment-block"><div id="bc_0_78M" class="comment-header" kind="m"><cite class="user">Anonymous</cite><span class="icon user"></span><span class="datetime secondary-text"><a rel="nofollow" href="http://rcarduino.blogspot.com/2012/04/how-to-read-multiple-rc-channels-draft.html?showComment=1363740466101#c2528068445456954975">March 19, 2013 at 5:47 PM</a></span></div><p id="bc_0_78MC" class="comment-content">Okay, let's do this!<br><br>First though, I just uploaded the "MultiChannel" code again with the "while (!Serial) {;}" and a "Serial.println("test")" thrown in. This is the exact same code as Sunday, but now it's actually printing "test". Throttle is still showing all zeros though :(<br><br>Now on to the code from "How To Read an RC Receiver With A Microcontroller - Part 1". At first, no Serial at all. After adding, "while (!Serial) {;}" I can print "test" if inserted into the void loop(). Nothing else prints though. If the Serial.println("test"); command is inside the "if(bNewThrottleSignal)" function it again does not print even while manipulating the controller throttle.<br><br>Ideas?<br><br>-Anthony</p><span id="bc_0_78MN" class="comment-actions secondary-text" kind="m"><a kind="i" href="javascript:;" target="_self" o="r">Reply</a><span class="item-control blog-admin pid-1759499846"><a o="d" target="_self" href="https://www.blogger.com/delete-comment.g?blogID=7214097671310478681&amp;postID=2528068445456954975">Delete</a></span></span></div><div id="bc_0_78BR" class="comment-replies"></div><div id="bc_0_78B_box" class="comment-replybox-single"></div></li><li id="bc_0_79B" class="comment" kind="b"><div class="avatar-image-container"><img src="./read receiver_files/b16-rounded.gif"></div><div id="c8320882040866478901" class="comment-block"><div id="bc_0_79M" class="comment-header" kind="m"><cite class="user blog-author"><a rel="nofollow" href="https://www.blogger.com/profile/07867684474123805993">Can_I_Trade?</a></cite><span class="icon user blog-author"></span><span class="datetime secondary-text"><a rel="nofollow" href="http://rcarduino.blogspot.com/2012/04/how-to-read-multiple-rc-channels-draft.html?showComment=1363756613104#c8320882040866478901">March 19, 2013 at 10:16 PM</a></span></div><p id="bc_0_79MC" class="comment-content">Hi, What I think is happening is that the Micro has a different pin mappings between interrupts and digital pins.<br><br>It looks as if the Micro has interrupts 0 to 3 mapped to digital pins 0 to 3 the UNO has interrupts 0 to 1 mapped to pins 2 to 3. The code is based on interrupt 0 being mapped to pin 2 which it is not on the Micro, to test this, try changing the following line -<br><br>attachInterrupt(THROTTLE_SIGNAL_IN,calcInput,CHANGE);<br><br>to<br><br>attachInterrupt(INT2,calcInput,CHANGE);<br><br>Let me know what happens.<br><br>For anyone else following this, please note that this refers to the code in this post<br><br>http://rcarduino.blogspot.ae/2012/01/how-to-read-rc-receiver-with.html<br><br>which represents the simplest test of an Arduino to RC Receiver connection, not the code above which uses a slightly different approach. <br><br>Duane B<br></p><span id="bc_0_79MN" class="comment-actions secondary-text" kind="m"><a kind="i" href="javascript:;" target="_self" o="r">Reply</a><span class="item-control blog-admin pid-195722605"><a o="d" target="_self" href="https://www.blogger.com/delete-comment.g?blogID=7214097671310478681&amp;postID=8320882040866478901">Delete</a></span></span></div><div id="bc_0_79BR" class="comment-replies"></div><div id="bc_0_79B_box" class="comment-replybox-single"></div></li><li id="bc_0_80B" class="comment" kind="b"><div class="avatar-image-container"><img src="./read receiver_files/b16-rounded.gif"></div><div id="c8206519975791754375" class="comment-block"><div id="bc_0_80M" class="comment-header" kind="m"><cite class="user blog-author"><a rel="nofollow" href="https://www.blogger.com/profile/07867684474123805993">Can_I_Trade?</a></cite><span class="icon user blog-author"></span><span class="datetime secondary-text"><a rel="nofollow" href="http://rcarduino.blogspot.com/2012/04/how-to-read-multiple-rc-channels-draft.html?showComment=1363762196529#c8206519975791754375">March 19, 2013 at 11:49 PM</a></span></div><p id="bc_0_80MC" class="comment-content">Hi, Looking at the documentation here - <br><br>http://arduino.cc/en/Reference/AttachInterrupt<br><br>It looks as if INT1 is mapped to pin 2 on the Leonardo, so if INT2, doesnt work as suggest above try<br><br><br>attachInterrupt(INT1,calcInput,CHANGE);<br><br>Duane B</p><span id="bc_0_80MN" class="comment-actions secondary-text" kind="m"><a kind="i" href="javascript:;" target="_self" o="r">Reply</a><span class="item-control blog-admin pid-195722605"><a o="d" target="_self" href="https://www.blogger.com/delete-comment.g?blogID=7214097671310478681&amp;postID=8206519975791754375">Delete</a></span></span></div><div id="bc_0_80BR" class="comment-replies"></div><div id="bc_0_80B_box" class="comment-replybox-single"></div></li><li id="bc_0_81B" class="comment" kind="b"><div class="avatar-image-container"><img src="./read receiver_files/blank.gif"></div><div id="c1091536998647618063" class="comment-block"><div id="bc_0_81M" class="comment-header" kind="m"><cite class="user">Anonymous</cite><span class="icon user"></span><span class="datetime secondary-text"><a rel="nofollow" href="http://rcarduino.blogspot.com/2012/04/how-to-read-multiple-rc-channels-draft.html?showComment=1363816458139#c1091536998647618063">March 20, 2013 at 2:54 PM</a></span></div><p id="bc_0_81MC" class="comment-content">Hi Duane B,<br><br>INT2 did nothing that I could tell, but INT1 produced a huge Serial print, but nothing no pattern appeared from manipulating the controller's throttle.<br><br>Here is a segment of what was printed. This string just repeats over and over again:<br>6484<br>9036<br>8916<br>8824<br>8768<br>8764<br>8772<br>8576<br>8356<br>8296<br>8276<br>8308<br>8424<br>8624<br>8700<br>8704<br>8700<br>8708<br>8708<br>8712<br>8708<br>8720<br>8712<br>8708<br>8720<br>8720<br>8712<br>8724<br>8716<br>8716<br>8716<br>8716<br>8708<br>8720<br>8716<br>8708<br>8716<br>8768<br>9008<br>9248<br>9476<br>9708<br>140<br>452<br>8428<br>88<br>80<br>8400<br>76<br>8536<br>72<br>8644<br>60<br>8720<br>52<br>8692<br>36<br>8696<br>24<br>8708<br>20<br>8700<br>20<br>8712<br>24<br>8704<br>20<br>8704<br>20<br>8712<br>20<br>8712<br>20<br>8708<br>16<br>8712<br>20<br>8712<br>24<br>8712<br>48<br>8712<br>44<br>8724<br>44<br>8712<br>52<br>8716<br>52<br>8720<br>56<br>8724<br>60<br>8716<br>60<br>8712<br>72<br>8712<br>84<br>8732<br>208<br>9044<br><br><br>And then I remembered to ground the Arduino to the RC receiver. After that, Serial.print is outputting numbers I expect: 1500s for neutral, 1100s for reverse, 1900s for forward.<br><br>Now I plan to use the below bit of code to translate the throttle signal into PWM to use on a MOSFET for speed control. <br>     if ((unThrottleIn &lt; 1665) &amp;&amp; (unThrottleIn &gt; 1365))<br>      {<br>        Throttle = 0;<br>        analogWrite (MOTORFWD, Throttle);<br>        analogWrite (MOTORRVS, Throttle);<br>       }<br>         else if(unThrottleIn &gt; 1665)<br>         {<br>           Throttle = (unThrottleIn - 1665);<br>          analogWrite(MOTORFWD, Throttle);<br>          analogWrite(MOTORRVS, 0);<br>         }<br>         else if (unThrottleIn &lt; 1365)<br>         {<br>           Throttle = (1365 - unThrottleIn);<br>            analogWrite(MOTORFWD, 0);<br>            analogWrite(MOTORRVS, Throttle);<br>         }<br>          }<br><br><br><br>Thanks for your help! I really appreciate your time; it's folks like you willing to help a complete stranger across the globe that make this community so great. I look forward to the day when I am able to help the next n00b!<br><br>-Anthony<br></p><span id="bc_0_81MN" class="comment-actions secondary-text" kind="m"><a kind="i" href="javascript:;" target="_self" o="r">Reply</a><span class="item-control blog-admin pid-1759499846"><a o="d" target="_self" href="https://www.blogger.com/delete-comment.g?blogID=7214097671310478681&amp;postID=1091536998647618063">Delete</a></span></span></div><div id="bc_0_81BR" class="comment-replies"></div><div id="bc_0_81B_box" class="comment-replybox-single"></div></li><li id="bc_0_82B" class="comment" kind="b"><div class="avatar-image-container"><img src="./read receiver_files/blank.gif"></div><div id="c7638062525337310933" class="comment-block"><div id="bc_0_82M" class="comment-header" kind="m"><cite class="user">Anonymous</cite><span class="icon user"></span><span class="datetime secondary-text"><a rel="nofollow" href="http://rcarduino.blogspot.com/2012/04/how-to-read-multiple-rc-channels-draft.html?showComment=1363817649579#c7638062525337310933">March 20, 2013 at 3:14 PM</a></span></div><p id="bc_0_82MC" class="comment-content">I may have spoke too soon... Switching to INT1 worked on "How To Read an RC Receiver With A Microcontroller - Part 1" but not in How To Read Multiple RC Channels. <br><br>Also, INT0 on Pint 3 worked great for AUX channel.</p><span id="bc_0_82MN" class="comment-actions secondary-text" kind="m"><a kind="i" href="javascript:;" target="_self" o="r">Reply</a><span class="item-control blog-admin pid-1759499846"><a o="d" target="_self" href="https://www.blogger.com/delete-comment.g?blogID=7214097671310478681&amp;postID=7638062525337310933">Delete</a></span></span></div><div id="bc_0_82BR" class="comment-replies"></div><div id="bc_0_82B_box" class="comment-replybox-single"></div></li><li id="bc_0_83B" class="comment" kind="b"><div class="avatar-image-container"><img src="./read receiver_files/b16-rounded.gif"></div><div id="c8840172667153326266" class="comment-block"><div id="bc_0_83M" class="comment-header" kind="m"><cite class="user blog-author"><a rel="nofollow" href="https://www.blogger.com/profile/07867684474123805993">Can_I_Trade?</a></cite><span class="icon user blog-author"></span><span class="datetime secondary-text"><a rel="nofollow" href="http://rcarduino.blogspot.com/2012/04/how-to-read-multiple-rc-channels-draft.html?showComment=1363844017994#c8840172667153326266">March 20, 2013 at 10:33 PM</a></span></div><p id="bc_0_83MC" class="comment-content">Hi, <br>   Your getting one step ahead, so far all we have done is adapt one sketch to work with the Arduino Micro, now that we know the pin mappings on the Micro are different than on the UNO and Mega, we can adapt the second multi channel sketch to work on the micro.<br><br>Looking at the pin mapping for the micro, it should be possible to read six channels without using any external libraries.<br><br>I will put together a post showing how to do this on the UNO (5 interrupts) Leonardo/Mico (6 interrupts) and Mega (Loads of interrupts). I will share the draft post with you so that you can test it first.<br><br>Can you send me you email address through the Arduino forum and I will send you a link to the draft post.<br><br>Duane B</p><span id="bc_0_83MN" class="comment-actions secondary-text" kind="m"><a kind="i" href="javascript:;" target="_self" o="r">Reply</a><span class="item-control blog-admin pid-195722605"><a o="d" target="_self" href="https://www.blogger.com/delete-comment.g?blogID=7214097671310478681&amp;postID=8840172667153326266">Delete</a></span></span></div><div id="bc_0_83BR" class="comment-replies"></div><div id="bc_0_83B_box" class="comment-replybox-single"></div></li><li id="bc_0_84B" class="comment" kind="b"><div class="avatar-image-container"><img src="./read receiver_files/b16-rounded.gif"></div><div id="c587144618827086514" class="comment-block"><div id="bc_0_84M" class="comment-header" kind="m"><cite class="user"><a rel="nofollow" href="https://www.blogger.com/profile/05503881829638704819">Piotrek</a></cite><span class="icon user"></span><span class="datetime secondary-text"><a rel="nofollow" href="http://rcarduino.blogspot.com/2012/04/how-to-read-multiple-rc-channels-draft.html?showComment=1364124252579#c587144618827086514">March 24, 2013 at 4:24 AM</a></span></div><p id="bc_0_84MC" class="comment-content">Hi,<br><br>Thank you for sharing your hard work. Your blog is very inspiring and i've learned so much. There is still one question though. Can you tell me if one can use all this stuff along with the wire library? I mean do these all libraries use different timers and other resources so that they can be used together in one program?<br><br>Cheers,<br>Peter<br><br></p><span id="bc_0_84MN" class="comment-actions secondary-text" kind="m"><a kind="i" href="javascript:;" target="_self" o="r">Reply</a><span class="item-control blog-admin pid-1451279233"><a o="d" target="_self" href="https://www.blogger.com/delete-comment.g?blogID=7214097671310478681&amp;postID=587144618827086514">Delete</a></span></span></div><div id="bc_0_84BR" class="comment-replies"></div><div id="bc_0_84B_box" class="comment-replybox-single"></div></li><li id="bc_0_86B" class="comment" kind="b"><div class="avatar-image-container"><img src="./read receiver_files/blank.gif"></div><div id="c644315755182185427" class="comment-block"><div id="bc_0_86M" class="comment-header" kind="m"><cite class="user">Anonymous</cite><span class="icon user"></span><span class="datetime secondary-text"><a rel="nofollow" href="http://rcarduino.blogspot.com/2012/04/how-to-read-multiple-rc-channels-draft.html?showComment=1364246782861#c644315755182185427">March 25, 2013 at 2:26 PM</a></span></div><p id="bc_0_86MC" class="comment-content">Hi,<br><br>I spent a good part of today trying to figure out why the single servo program would work and I couldn't get the multiple servo program working. I read through all of the comments and it's possible that I missed something, but I thought I would share here to try to get a better understanding. <br><br>In the end it seems like only 1 variable is used for both the interrupt and the pin # in the multiple servo program whereas in the single servo program there is a pin definition and an interrupt definition. When I set the interrupt number to 0 in the setup everything works (attachInterrupt(0, calcThrottle,CHANGE); with the throttle pin set to 2)<br><br>Am I overlooking something obvious here?<br><br>Thanks for posting your code and comments, they have been extremely helpful!</p><span id="bc_0_86MN" class="comment-actions secondary-text" kind="m"><a kind="i" href="javascript:;" target="_self" o="r">Reply</a><span class="item-control blog-admin pid-1870398611"><a o="d" target="_self" href="https://www.blogger.com/delete-comment.g?blogID=7214097671310478681&amp;postID=644315755182185427">Delete</a></span></span></div><div id="bc_0_86BR" class="comment-replies"><span id="bc_0_86b+seedB1lHD" kind="d"><div id="bc_0_85T" class="comment-thread inline-thread" kind="t" t="0" u="0"><span id="bc_0_85TT" class="thread-toggle thread-expanded" kind="g"><span id="bc_0_85TA" class="thread-arrow"></span><span id="bc_0_85TN" class="thread-count"><span id="bc_0_85TNT" style="display: none;"></span><span id="bc_0_85TNU" style="display: none;"></span><a href="javascript:;" target="_self">Replies</a><div id="bc_0_85TD" class="thread-dropContainer thread-expanded"><span class="thread-drop"></span></div></span></span><ol id="bc_0_85TC" class="thread-chrome thread-expanded"><div><li id="bc_0_85B" class="comment" kind="b"><div class="avatar-image-container"><img src="./read receiver_files/b16-rounded.gif"></div><div id="c3116265874311829256" class="comment-block"><div id="bc_0_85M" class="comment-header" kind="m"><cite class="user blog-author"><a rel="nofollow" href="https://www.blogger.com/profile/07867684474123805993">Can_I_Trade?</a></cite><span class="icon user blog-author"></span><span class="datetime secondary-text"><a rel="nofollow" href="http://rcarduino.blogspot.com/2012/04/how-to-read-multiple-rc-channels-draft.html?showComment=1364361293387#c3116265874311829256">March 26, 2013 at 10:14 PM</a></span></div><p id="bc_0_85MC" class="comment-content">Solved by following this procedure - <br><br>1) Use the original code from the blog here but with the following changes -<br><br>http://rcarduino.blogspot.ae/2012/04/how-to-read-multiple-rc-channels-draft.html<br><br>2) Change this<br><br><br>// Assign your channel in pins<br>#define THROTTLE_IN_PIN 5<br>#define STEERING_IN_PIN 6<br>#define AUX_IN_PIN 7<br><br>// Assign your channel out pins<br>#define THROTTLE_OUT_PIN 8<br>#define STEERING_OUT_PIN 9<br>#define AUX_OUT_PIN 10<br><br><br>to this  -<br><br>// Assign your channel in pins<br>#define THROTTLE_IN_PIN 8<br>#define STEERING_IN_PIN 9<br>#define AUX_IN_PIN 10<br><br>// Assign your channel out pins<br>#define THROTTLE_OUT_PIN 5<br>#define STEERING_OUT_PIN 6<br>#define AUX_OUT_PIN 7<br><br>Basically pins 8,9,10 and 11 are the only ones on a the micro that support pin change interrupts. For this to work you will also need to reconnect your circuit so that the RC Channels are coming into pins 8,9,10 and the servo signals are going out through 5,6 and 7.<br><br>Duane B</p><span id="bc_0_85MN" class="comment-actions secondary-text" kind="m"><span class="item-control blog-admin pid-195722605"><a o="d" target="_self" href="https://www.blogger.com/delete-comment.g?blogID=7214097671310478681&amp;postID=3116265874311829256">Delete</a></span></span></div><div id="bc_0_85BR" class="comment-replies"></div><div id="bc_0_85B_box" class="comment-replybox-single"></div></li></div><div id="bc_0_85I" class="continue" kind="ci"><a href="javascript:;" target="_self">Reply</a></div></ol><div id="bc_0_85T_box" class="comment-replybox-thread"></div></div></span></div><div id="bc_0_86B_box" class="comment-replybox-single"></div></li><li id="bc_0_91B" class="comment" kind="b"><div class="avatar-image-container"><img src="./read receiver_files/b16-rounded.gif"></div><div id="c4180776697483164344" class="comment-block"><div id="bc_0_91M" class="comment-header" kind="m"><cite class="user blog-author"><a rel="nofollow" href="https://www.blogger.com/profile/07867684474123805993">Can_I_Trade?</a></cite><span class="icon user blog-author"></span><span class="datetime secondary-text"><a rel="nofollow" href="http://rcarduino.blogspot.com/2012/04/how-to-read-multiple-rc-channels-draft.html?showComment=1364278057674#c4180776697483164344">March 25, 2013 at 11:07 PM</a></span></div><p id="bc_0_91MC" class="comment-content">Yes, your overlooking something.<br><br>The multi channel example above uses the pinchangeint library, you can see this where the interrupt is attached using -<br><br>PCintPort::attachInterrupt(AUX_IN_PIN, calcAux,CHANGE); <br><br>instead of the standard syntax as used in the single channel example -<br><br>attachInterrupt(AUX_IN_PIN, calcAux,CHANGE); <br><br>I always found it a bit confusing that the standard Arduino attachInterrupt function uses the interrupt number rather than the pin number. That is why in the single channel example we need two variables, the first is the interrupt number, the second is the pin number. It is also the reason why the UNO example did not work on your Arduino Micro. If the Arduino team had used pin numbers instead, the function could have easily figured out which interrupt is associated with which pin on which board.<br><br>At the moment, my assumption is that the pinchangeint library is not supported on the Arduino Micro and that is why this example is not working for you. <br><br>I have an alternative approach which is more efficient that I hope to post later today, stay tuned.<br><br>Duane B<br></p><span id="bc_0_91MN" class="comment-actions secondary-text" kind="m"><a kind="i" href="javascript:;" target="_self" o="r">Reply</a><span class="item-control blog-admin pid-195722605"><a o="d" target="_self" href="https://www.blogger.com/delete-comment.g?blogID=7214097671310478681&amp;postID=4180776697483164344">Delete</a></span></span></div><div id="bc_0_91BR" class="comment-replies"><span id="bc_0_91b+seedB1lED" kind="d"><div id="bc_0_87T" class="comment-thread inline-thread" kind="t" t="0" u="0"><span id="bc_0_87TT" class="thread-toggle thread-expanded" kind="g"><span id="bc_0_87TA" class="thread-arrow"></span><span id="bc_0_87TN" class="thread-count"><span id="bc_0_87TNT" style="display: none;"></span><span id="bc_0_87TNU" style="display: none;"></span><a href="javascript:;" target="_self">Replies</a><div id="bc_0_87TD" class="thread-dropContainer thread-expanded"><span class="thread-drop"></span></div></span></span><ol id="bc_0_87TC" class="thread-chrome thread-expanded"><div><li id="bc_0_87B" class="comment" kind="b"><div class="avatar-image-container"><img src="./read receiver_files/blank.gif"></div><div id="c881116497932404474" class="comment-block"><div id="bc_0_87M" class="comment-header" kind="m"><cite class="user">Anonymous</cite><span class="icon user"></span><span class="datetime secondary-text"><a rel="nofollow" href="http://rcarduino.blogspot.com/2012/04/how-to-read-multiple-rc-channels-draft.html?showComment=1364320232096#c881116497932404474">March 26, 2013 at 10:50 AM</a></span></div><p id="bc_0_87MC" class="comment-content">Thanks for the response. I forgot to mention that I am using a Arduino mego so I turned off the pinchangeint library.<br><br>I'm getting a weird twitch every couple of seconds where the arduino is reading a non-center stick value (~10-20% of full scale) for what appears to be a single reading. Do you know if there is any way to eliminate twitch at the expense of accuracy? I'll be driving some high power motors with this and would like to avoid pulsing them when they shouldn't be moving.<br><br>Thanks again!</p><span id="bc_0_87MN" class="comment-actions secondary-text" kind="m"><span class="item-control blog-admin pid-1870398611"><a o="d" target="_self" href="https://www.blogger.com/delete-comment.g?blogID=7214097671310478681&amp;postID=881116497932404474">Delete</a></span></span></div><div id="bc_0_87BR" class="comment-replies"></div><div id="bc_0_87B_box" class="comment-replybox-single"></div></li><li id="bc_0_88B" class="comment" kind="b"><div class="avatar-image-container"><img src="./read receiver_files/b16-rounded.gif"></div><div id="c2993059407387008307" class="comment-block"><div id="bc_0_88M" class="comment-header" kind="m"><cite class="user blog-author"><a rel="nofollow" href="https://www.blogger.com/profile/07867684474123805993">Can_I_Trade?</a></cite><span class="icon user blog-author"></span><span class="datetime secondary-text"><a rel="nofollow" href="http://rcarduino.blogspot.com/2012/04/how-to-read-multiple-rc-channels-draft.html?showComment=1364321520959#c2993059407387008307">March 26, 2013 at 11:12 AM</a></span></div><p id="bc_0_88MC" class="comment-content">Hi,<br>  It gets hard to follow when people comment as anonymous, can you use a nickname in your comments so that I can at least follow which anonymous is which.<br><br>The twitch can be one of two things -<br><br>1) Its a result of interrupt clashes between the servo library timer interrupt and the incoming RC Signal interrupts<br><br>I would expect a variation of about 5-10us in this case, thats one or two percent of the servo range, enough to tick, not jerk.<br><br>2) An error in your modified code - I am assuming this is not the case.<br><br>If its just a twitch its 1) above, if its more than a twitch is probably 2)<br><br>Are you planning to use the servo library to drive ESCs in your final project or are you using analogWrite to PWM Motors through a shield ?<br><br>If you are not planning to use servos, remove the code and the clashes will go away. If you are planning to to use servos, try this approach, it has come optimizations to reduce clashes, it also has an explanation of where the clashes come from which might be helpful<br><br>http://rcarduino.blogspot.ae/2012/11/how-to-read-rc-channels-rcarduinofastlib.html<br><br>As you are not using pinchangeint, you will need to replace <br><br>if(PCintPort::pinState)<br><br>with the direct port manipulation equivalent i.e. <br><br>if(PORTD &amp; (1&lt;&lt;3)) // test INT3 on Mega Digital Pin 18  <br><br>If you need help with this, let me know<br><br>Duane B</p><span id="bc_0_88MN" class="comment-actions secondary-text" kind="m"><span class="item-control blog-admin pid-195722605"><a o="d" target="_self" href="https://www.blogger.com/delete-comment.g?blogID=7214097671310478681&amp;postID=2993059407387008307">Delete</a></span></span></div><div id="bc_0_88BR" class="comment-replies"></div><div id="bc_0_88B_box" class="comment-replybox-single"></div></li><li id="bc_0_89B" class="comment" kind="b"><div class="avatar-image-container"><img src="./read receiver_files/blank.gif"></div><div id="c2656484239526442348" class="comment-block"><div id="bc_0_89M" class="comment-header" kind="m"><cite class="user">Anonymous</cite><span class="icon user"></span><span class="datetime secondary-text"><a rel="nofollow" href="http://rcarduino.blogspot.com/2012/04/how-to-read-multiple-rc-channels-draft.html?showComment=1364332454616#c2656484239526442348">March 26, 2013 at 2:14 PM</a></span></div><p id="bc_0_89MC" class="comment-content">Thanks again for all of your help. I will not be using the servos so I tried taking the code out along with the code that I had added other than:<br><br>//Mid point bounces between 1556 and 1560<br> <br>  if(unThrottleIn &gt; 1560)  <br>  {<br>    Serial.println(unThrottleIn);<br>  }<br><br>With this code in there I would get bundles of 15 numbers that would print to serial, they ranged from 1564 to 1588 and would come every few seconds or so. That's roughly 30 us of error on the large end so I'm thinking I must be doing something wrong.<br><br>To find out if it was just the multiple servo code I went back to the single servo program and added only the above section of code in the part where it says "// other processing ...". Once again the numbers came in bunches of 15, but the number was always 1564, so only ~5 us of error.<br><br>I appreciate the help but I understand if this is something you don't have time to chase down.<br><br>Thanks again,<br>Woody (person using the mega and getting a twitchy response)<br></p><span id="bc_0_89MN" class="comment-actions secondary-text" kind="m"><span class="item-control blog-admin pid-1870398611"><a o="d" target="_self" href="https://www.blogger.com/delete-comment.g?blogID=7214097671310478681&amp;postID=2656484239526442348">Delete</a></span></span></div><div id="bc_0_89BR" class="comment-replies"></div><div id="bc_0_89B_box" class="comment-replybox-single"></div></li><li id="bc_0_90B" class="comment" kind="b"><div class="avatar-image-container"><img src="./read receiver_files/b16-rounded.gif"></div><div id="c6364010071142438773" class="comment-block"><div id="bc_0_90M" class="comment-header" kind="m"><cite class="user blog-author"><a rel="nofollow" href="https://www.blogger.com/profile/07867684474123805993">Can_I_Trade?</a></cite><span class="icon user blog-author"></span><span class="datetime secondary-text"><a rel="nofollow" href="http://rcarduino.blogspot.com/2012/04/how-to-read-multiple-rc-channels-draft.html?showComment=1364361493638#c6364010071142438773">March 26, 2013 at 10:18 PM</a></span></div><p id="bc_0_90MC" class="comment-content">Hi Woody,<br>   It looks as if its a problem with the modified sketch you are using, can you send me a copy to have a look, the easiest way is to send it to me through the PM system on Arduino forum.<br><br>Duane B</p><span id="bc_0_90MN" class="comment-actions secondary-text" kind="m"><span class="item-control blog-admin pid-195722605"><a o="d" target="_self" href="https://www.blogger.com/delete-comment.g?blogID=7214097671310478681&amp;postID=6364010071142438773">Delete</a></span></span></div><div id="bc_0_90BR" class="comment-replies"></div><div id="bc_0_90B_box" class="comment-replybox-single"></div></li></div><div id="bc_0_87I" class="continue" kind="ci"><a href="javascript:;" target="_self">Reply</a></div></ol><div id="bc_0_87T_box" class="comment-replybox-thread"></div></div></span></div><div id="bc_0_91B_box" class="comment-replybox-single"></div></li><li id="bc_0_92B" class="comment" kind="b"><div class="avatar-image-container"><img src="./read receiver_files/b16-rounded.gif"></div><div id="c2870701584557853213" class="comment-block"><div id="bc_0_92M" class="comment-header" kind="m"><cite class="user"><a rel="nofollow" href="https://www.blogger.com/profile/13866877162312493622">danithebest91</a></cite><span class="icon user"></span><span class="datetime secondary-text"><a rel="nofollow" href="http://rcarduino.blogspot.com/2012/04/how-to-read-multiple-rc-channels-draft.html?showComment=1364536557798#c2870701584557853213">March 28, 2013 at 10:55 PM</a></span></div><p id="bc_0_92MC" class="comment-content">if have some glitch in the signal after have connected the grawnd of receiver to arduino grawnd, put a 2,2nF capacitor between signal and grown, it will delete all glitch and make the signal stable :)</p><span id="bc_0_92MN" class="comment-actions secondary-text" kind="m"><a kind="i" href="javascript:;" target="_self" o="r">Reply</a><span class="item-control blog-admin pid-722138767"><a o="d" target="_self" href="https://www.blogger.com/delete-comment.g?blogID=7214097671310478681&amp;postID=2870701584557853213">Delete</a></span></span></div><div id="bc_0_92BR" class="comment-replies"></div><div id="bc_0_92B_box" class="comment-replybox-single"></div></li><li id="bc_0_93B" class="comment" kind="b"><div class="avatar-image-container"><img src="./read receiver_files/b16-rounded.gif"></div><div id="c3366897649352253807" class="comment-block"><div id="bc_0_93M" class="comment-header" kind="m"><cite class="user"><a rel="nofollow" href="https://www.blogger.com/profile/11238289406650449597">mlandergan</a></cite><span class="icon user"></span><span class="datetime secondary-text"><a rel="nofollow" href="http://rcarduino.blogspot.com/2012/04/how-to-read-multiple-rc-channels-draft.html?showComment=1366922747437#c3366897649352253807">April 25, 2013 at 1:45 PM</a></span></div><p id="bc_0_93MC" class="comment-content">Hi, I need to control two servos and a esc. The receiver is 2.4 ghz called tactic. Here is a photo of the receiver and servos. <br><br>http://www.aquacraftmodels.com/boats/aqub0200-vela/aqub0200-servo-lg.jpg </p><span id="bc_0_93MN" class="comment-actions secondary-text" kind="m"><a kind="i" href="javascript:;" target="_self" o="r">Reply</a><span class="item-control blog-admin pid-1753693063"><a o="d" target="_self" href="https://www.blogger.com/delete-comment.g?blogID=7214097671310478681&amp;postID=3366897649352253807">Delete</a></span></span></div><div id="bc_0_93BR" class="comment-replies"></div><div id="bc_0_93B_box" class="comment-replybox-single"></div></li><li id="bc_0_95B" class="comment" kind="b"><div class="avatar-image-container"><img src="./read receiver_files/blank.gif"></div><div id="c2019009556171810295" class="comment-block"><div id="bc_0_95M" class="comment-header" kind="m"><cite class="user">Steve</cite><span class="icon user"></span><span class="datetime secondary-text"><a rel="nofollow" href="http://rcarduino.blogspot.com/2012/04/how-to-read-multiple-rc-channels-draft.html?showComment=1368814843966#c2019009556171810295">May 17, 2013 at 11:20 AM</a></span></div><p id="bc_0_95MC" class="comment-content">Love your Library.  <br>I have used it to make an Autonomous car/boat/plane with Adafruit Ultimate GPS.  <br>The difficulty was the conflicts with SoftwareSerial.  Problem solved!  <br>Let me know if you want to see the code.<br>It uses less than 2% of the Uno CPU resources.<br></p><span id="bc_0_95MN" class="comment-actions secondary-text" kind="m"><a kind="i" href="javascript:;" target="_self" o="r">Reply</a><span class="item-control blog-admin pid-1874868365"><a o="d" target="_self" href="https://www.blogger.com/delete-comment.g?blogID=7214097671310478681&amp;postID=2019009556171810295">Delete</a></span></span></div><div id="bc_0_95BR" class="comment-replies"><span id="bc_0_95b+seedB1lMD" kind="d"><div id="bc_0_94T" class="comment-thread inline-thread" kind="t" t="0" u="0"><span id="bc_0_94TT" class="thread-toggle thread-expanded" kind="g"><span id="bc_0_94TA" class="thread-arrow"></span><span id="bc_0_94TN" class="thread-count"><span id="bc_0_94TNT" style="display: none;"></span><span id="bc_0_94TNU" style="display: none;"></span><a href="javascript:;" target="_self">Replies</a><div id="bc_0_94TD" class="thread-dropContainer thread-expanded"><span class="thread-drop"></span></div></span></span><ol id="bc_0_94TC" class="thread-chrome thread-expanded"><div><li id="bc_0_94B" class="comment" kind="b"><div class="avatar-image-container"><img src="./read receiver_files/b16-rounded.gif"></div><div id="c8909987726590245750" class="comment-block"><div id="bc_0_94M" class="comment-header" kind="m"><cite class="user blog-author"><a rel="nofollow" href="https://www.blogger.com/profile/07867684474123805993">Can_I_Trade?</a></cite><span class="icon user blog-author"></span><span class="datetime secondary-text"><a rel="nofollow" href="http://rcarduino.blogspot.com/2012/04/how-to-read-multiple-rc-channels-draft.html?showComment=1368940176223#c8909987726590245750">May 18, 2013 at 10:09 PM</a></span></div><p id="bc_0_94MC" class="comment-content">How about some pictures or a video, I would like to see more of what people end up building<br><br>Duane B</p><span id="bc_0_94MN" class="comment-actions secondary-text" kind="m"><span class="item-control blog-admin pid-195722605"><a o="d" target="_self" href="https://www.blogger.com/delete-comment.g?blogID=7214097671310478681&amp;postID=8909987726590245750">Delete</a></span></span></div><div id="bc_0_94BR" class="comment-replies"></div><div id="bc_0_94B_box" class="comment-replybox-single"></div></li></div><div id="bc_0_94I" class="continue" kind="ci"><a href="javascript:;" target="_self">Reply</a></div></ol><div id="bc_0_94T_box" class="comment-replybox-thread"></div></div></span></div><div id="bc_0_95B_box" class="comment-replybox-single"></div></li><li id="bc_0_96B" class="comment" kind="b"><div class="avatar-image-container"><img src="./read receiver_files/IMG_2070.JPG"></div><div id="c6191177818269802092" class="comment-block"><div id="bc_0_96M" class="comment-header" kind="m"><cite class="user"><a rel="nofollow" href="https://www.blogger.com/profile/17864037518750595941">Aravind Bhimarasetty</a></cite><span class="icon user"></span><span class="datetime secondary-text"><a rel="nofollow" href="http://rcarduino.blogspot.com/2012/04/how-to-read-multiple-rc-channels-draft.html?showComment=1373999473347#c6191177818269802092">July 16, 2013 at 11:31 AM</a></span></div><p id="bc_0_96MC" class="comment-content">I'm trying to build my own Quadcopter using Arduino. This article on reading receiver signals using interrupts is super useful in this regard. Its also really well written...thanks a ton Duane!!!</p><span id="bc_0_96MN" class="comment-actions secondary-text" kind="m"><a kind="i" href="javascript:;" target="_self" o="r">Reply</a><span class="item-control blog-admin pid-659890970"><a o="d" target="_self" href="https://www.blogger.com/delete-comment.g?blogID=7214097671310478681&amp;postID=6191177818269802092">Delete</a></span></span></div><div id="bc_0_96BR" class="comment-replies"></div><div id="bc_0_96B_box" class="comment-replybox-single"></div></li><li id="bc_0_97B" class="comment" kind="b"><div class="avatar-image-container"><img src="./read receiver_files/blank.gif"></div><div id="c1524595807105288445" class="comment-block"><div id="bc_0_97M" class="comment-header" kind="m"><cite class="user">Anonymous</cite><span class="icon user"></span><span class="datetime secondary-text"><a rel="nofollow" href="http://rcarduino.blogspot.com/2012/04/how-to-read-multiple-rc-channels-draft.html?showComment=1375268131015#c1524595807105288445">July 31, 2013 at 3:55 AM</a></span></div><p id="bc_0_97MC" class="comment-content">Thank you for your work and sharing it. My project is a quadcopter. Thats my new hobby and I hope see it flying... The frame is ready and now Im studing the Arduino Uno and how work the escs, signal from rc spektrum dx6i, gps, imu, and so many things. I have learned very much with your work. <br>Carlos/Lisbon<br></p><span id="bc_0_97MN" class="comment-actions secondary-text" kind="m"><a kind="i" href="javascript:;" target="_self" o="r">Reply</a><span class="item-control blog-admin pid-231762851"><a o="d" target="_self" href="https://www.blogger.com/delete-comment.g?blogID=7214097671310478681&amp;postID=1524595807105288445">Delete</a></span></span></div><div id="bc_0_97BR" class="comment-replies"></div><div id="bc_0_97B_box" class="comment-replybox-single"></div></li><li id="bc_0_98B" class="comment" kind="b"><div class="avatar-image-container"><img src="./read receiver_files/IMG_2070.JPG"></div><div id="c8083692201506909192" class="comment-block"><div id="bc_0_98M" class="comment-header" kind="m"><cite class="user"><a rel="nofollow" href="https://www.blogger.com/profile/17864037518750595941">Aravind Bhimarasetty</a></cite><span class="icon user"></span><span class="datetime secondary-text"><a rel="nofollow" href="http://rcarduino.blogspot.com/2012/04/how-to-read-multiple-rc-channels-draft.html?showComment=1376721450275#c8083692201506909192">August 16, 2013 at 11:37 PM</a></span></div><p id="bc_0_98MC" class="comment-content">Hi Duane,<br><br>I have a question regarding timer interrupt. I'm already using your code above to read various channels from my RC receiver and pass the signals to the 4 motors of my quadcopter. <br><br>I would like to now read in accelerometer and gyro values at a constant time interval for attitude determination and control using a timer interrupt. <br><br>Will the timer interrupt work alongside your code which also uses interrupts.<br><br>Thanks once again for sharing your code and knowledge for free!</p><span id="bc_0_98MN" class="comment-actions secondary-text" kind="m"><a kind="i" href="javascript:;" target="_self" o="r">Reply</a><span class="item-control blog-admin pid-659890970"><a o="d" target="_self" href="https://www.blogger.com/delete-comment.g?blogID=7214097671310478681&amp;postID=8083692201506909192">Delete</a></span></span></div><div id="bc_0_98BR" class="comment-replies"></div><div id="bc_0_98B_box" class="comment-replybox-single"></div></li><li id="bc_0_99B" class="comment" kind="b"><div class="avatar-image-container"><img src="./read receiver_files/blank.gif"></div><div id="c8494855612104480275" class="comment-block"><div id="bc_0_99M" class="comment-header" kind="m"><cite class="user">Anonymous</cite><span class="icon user"></span><span class="datetime secondary-text"><a rel="nofollow" href="http://rcarduino.blogspot.com/2012/04/how-to-read-multiple-rc-channels-draft.html?showComment=1381213753445#c8494855612104480275">October 7, 2013 at 11:29 PM</a></span></div><p id="bc_0_99MC" class="comment-content">I am very impressed with your code and thank you for describing it. <br>I would like to know how the FLAGS such as THROTTLE_FLAG 1 are assigned to the <br>volatile uint8_t bUpdateFlagsShared, since there is no reference to the memory location name in the define statement nor is there a mention of the the flag in the declaration of the flagregister.  <br>Wally </p><span id="bc_0_99MN" class="comment-actions secondary-text" kind="m"><a kind="i" href="javascript:;" target="_self" o="r">Reply</a><span class="item-control blog-admin pid-877226870"><a o="d" target="_self" href="https://www.blogger.com/delete-comment.g?blogID=7214097671310478681&amp;postID=8494855612104480275">Delete</a></span></span></div><div id="bc_0_99BR" class="comment-replies"></div><div id="bc_0_99B_box" class="comment-replybox-single"></div></li><li id="bc_0_100B" class="comment" kind="b"><div class="avatar-image-container"><img src="./read receiver_files/b16-rounded.gif"></div><div id="c5445331465558063083" class="comment-block"><div id="bc_0_100M" class="comment-header" kind="m"><cite class="user blog-author"><a rel="nofollow" href="https://www.blogger.com/profile/07867684474123805993">Can_I_Trade?</a></cite><span class="icon user blog-author"></span><span class="datetime secondary-text"><a rel="nofollow" href="http://rcarduino.blogspot.com/2012/04/how-to-read-multiple-rc-channels-draft.html?showComment=1381333051545#c5445331465558063083">October 9, 2013 at 8:37 AM</a></span></div><p id="bc_0_100MC" class="comment-content">Wally, your over complicating things. Its just C Code, there is no direct access to memory or registers.<br><br>Duane</p><span id="bc_0_100MN" class="comment-actions secondary-text" kind="m"><a kind="i" href="javascript:;" target="_self" o="r">Reply</a><span class="item-control blog-admin pid-195722605"><a o="d" target="_self" href="https://www.blogger.com/delete-comment.g?blogID=7214097671310478681&amp;postID=5445331465558063083">Delete</a></span></span></div><div id="bc_0_100BR" class="comment-replies"></div><div id="bc_0_100B_box" class="comment-replybox-single"></div></li><li id="bc_0_101B" class="comment" kind="b"><div class="avatar-image-container"><img src="./read receiver_files/blank.gif"></div><div id="c4150355239416868781" class="comment-block"><div id="bc_0_101M" class="comment-header" kind="m"><cite class="user">Anonymous</cite><span class="icon user"></span><span class="datetime secondary-text"><a rel="nofollow" href="http://rcarduino.blogspot.com/2012/04/how-to-read-multiple-rc-channels-draft.html?showComment=1381375364927#c4150355239416868781">October 9, 2013 at 8:22 PM</a></span></div><p id="bc_0_101MC" class="comment-content">Thank you Duane. Sorry for my inexperience with flags in C.  I see that I misunderstood the comment "holds the update flags defined above" . That had me going in the wrong direction. <br><br>#define THROTTLE_FLAG 1<br>#define STEERING_FLAG 2<br>#defineAUX_FLAG 4<br>volatile unit8_t bUpdateFlagsShared;//holds the update flags defined above<br><br>I see now that it is the flag place values that are "defined above", and these will be &amp;'ed with the value in the bUpdateFlags image of the bUpdateFlagsShared to test for the flag.  <br>Wally </p><span id="bc_0_101MN" class="comment-actions secondary-text" kind="m"><a kind="i" href="javascript:;" target="_self" o="r">Reply</a><span class="item-control blog-admin pid-877226870"><a o="d" target="_self" href="https://www.blogger.com/delete-comment.g?blogID=7214097671310478681&amp;postID=4150355239416868781">Delete</a></span></span></div><div id="bc_0_101BR" class="comment-replies"></div><div id="bc_0_101B_box" class="comment-replybox-single"></div></li><li id="bc_0_102B" class="comment" kind="b"><div class="avatar-image-container"><img src="./read receiver_files/b16-rounded.gif"></div><div id="c4757794766560389415" class="comment-block"><div id="bc_0_102M" class="comment-header" kind="m"><cite class="user"><a rel="nofollow" href="https://www.blogger.com/profile/03612431970604229225">Nuno Bento</a></cite><span class="icon user"></span><span class="datetime secondary-text"><a rel="nofollow" href="http://rcarduino.blogspot.com/2012/04/how-to-read-multiple-rc-channels-draft.html?showComment=1381835425709#c4757794766560389415">October 15, 2013 at 4:10 AM</a></span></div><p id="bc_0_102MC" class="comment-content">HI,<br><br>Thanks for sharing your great work.<br><br>I'm using it to build a Kid mode for my RC short course truck.<br> <br>I started from your example with tree channels, and got it to work perfectly.<br>I've combined with two extra interrupts for calculating distance and speed from a sonar and a button to set  limited throttle modes. <br><br>All work fine,  I'm able to limit speed and based on the distance and speed readings and prevent frontal impacts while a 3 year old drives...<br><br>The only issue I struggling width, is that my radio only has two channels (in fact for this purpose I only need 1), so I tried to remove the AUX channel by the following changes :<br>1- Commenting everything regarding the AUX channel (Attach and interrupts):<br>2 - #define SERVO_FRAME_SPACE 2<br>3 - CRCArduinoFastServos::setFrameSpaceA(SERVO_FRAME_SPACE,8*2000);<br><br>But after this change it stops working. Can you give me a clue for the reason?<br><br>Thanks in advance.</p><span id="bc_0_102MN" class="comment-actions secondary-text" kind="m"><a kind="i" href="javascript:;" target="_self" o="r">Reply</a><span class="item-control blog-admin pid-279451076"><a o="d" target="_self" href="https://www.blogger.com/delete-comment.g?blogID=7214097671310478681&amp;postID=4757794766560389415">Delete</a></span></span></div><div id="bc_0_102BR" class="comment-replies"></div><div id="bc_0_102B_box" class="comment-replybox-single"></div></li><li id="bc_0_103B" class="comment" kind="b"><div class="avatar-image-container"><img src="./read receiver_files/photo(1).jpg"></div><div id="c304036014586769257" class="comment-block"><div id="bc_0_103M" class="comment-header" kind="m"><cite class="user"><a rel="nofollow" href="https://www.blogger.com/profile/04689227427832168229">Bharat Jajoo</a></cite><span class="icon user"></span><span class="datetime secondary-text"><a rel="nofollow" href="http://rcarduino.blogspot.com/2012/04/how-to-read-multiple-rc-channels-draft.html?showComment=1382792451072#c304036014586769257">October 26, 2013 at 6:00 AM</a></span></div><p id="bc_0_103MC" class="comment-content">Hello!<br>I and My Friends are Trying to Build a RC Quadcopter and i need Some Help on the Code for Arduino to Control The Quadcopter.<br>It would be great If You can help me with a Sample code or a Tutorial to Arduino as I'm New to Arduino.<br>Thanks!</p><span id="bc_0_103MN" class="comment-actions secondary-text" kind="m"><a kind="i" href="javascript:;" target="_self" o="r">Reply</a><span class="item-control blog-admin pid-2029573756"><a o="d" target="_self" href="https://www.blogger.com/delete-comment.g?blogID=7214097671310478681&amp;postID=304036014586769257">Delete</a></span></span></div><div id="bc_0_103BR" class="comment-replies"></div><div id="bc_0_103B_box" class="comment-replybox-single"></div></li><li id="bc_0_104B" class="comment" kind="b"><div class="avatar-image-container"><img src="./read receiver_files/blank.gif"></div><div id="c6040859328188852655" class="comment-block"><div id="bc_0_104M" class="comment-header" kind="m"><cite class="user">Anonymous</cite><span class="icon user"></span><span class="datetime secondary-text"><a rel="nofollow" href="http://rcarduino.blogspot.com/2012/04/how-to-read-multiple-rc-channels-draft.html?showComment=1384900207718#c6040859328188852655">November 19, 2013 at 2:30 PM</a></span></div><p id="bc_0_104MC" class="comment-content">Hola ya probe en la 1- parte pero estas estas un poco dificil en la 2- parte<br>porque me marca error? <br> <br>Arduino: 1.5.4 (Windows NT (unknown)), Board: "Arduino Mega (ATmega1280)"<br><br>multicanales.ino: In function 'void setup()':<br>multicanales:78: error: 'PCintPort' has not been declared<br>multicanales:79: error: 'PCintPort' has not been declared<br>multicanales:80: error: 'PCintPort' has not been declared<br><br>  This report would have more information with<br>  "Show verbose output during compilation"<br>  enabled in File &gt; Preferences.<br></p><span id="bc_0_104MN" class="comment-actions secondary-text" kind="m"><a kind="i" href="javascript:;" target="_self" o="r">Reply</a><span class="item-control blog-admin pid-589430201"><a o="d" target="_self" href="https://www.blogger.com/delete-comment.g?blogID=7214097671310478681&amp;postID=6040859328188852655">Delete</a></span></span></div><div id="bc_0_104BR" class="comment-replies"></div><div id="bc_0_104B_box" class="comment-replybox-single"></div></li><li id="bc_0_107B" class="comment" kind="b"><div class="avatar-image-container"><img src="./read receiver_files/photo(2).jpg"></div><div id="c5030920424261080679" class="comment-block"><div id="bc_0_107M" class="comment-header" kind="m"><cite class="user"><a rel="nofollow" href="https://www.blogger.com/profile/07051221274903648246">Tanvir Parhar</a></cite><span class="icon user"></span><span class="datetime secondary-text"><a rel="nofollow" href="http://rcarduino.blogspot.com/2012/04/how-to-read-multiple-rc-channels-draft.html?showComment=1391337656348#c5030920424261080679">February 2, 2014 at 2:40 AM</a></span></div><p id="bc_0_107MC" class="comment-content">Hey, Thanks for the wonderful  tutorial. I've got one problem. Whenever i try to see the pulse width of any channel in serial terminal of arduino, it returns 0. I am calling Serial.print() within an interrupt.<br>The code for the ISR is same as yours, except for the command for printing the pulseWidth.<br><br>void calcThrottle()<br>{<br>  // if the pin is high, its a rising edge of the signal pulse, so lets record its value<br>  if(digitalRead(THROTTLE_IN_PIN) == HIGH)<br>  { <br>    ulThrottleStart = micros();<br>  }<br>  else<br>  {<br>    // else it must be a falling edge, so lets get the time and subtract the time of the rising edge<br>    // this gives use the time between the rising and falling edges i.e. the pulse duration.<br>    unThrottleInShared = (uint16_t)(micros() - ulThrottleStart);<br>    // use set the throttle flag to indicate that a new throttle signal has been received<br>    bUpdateFlagsShared |= THROTTLE_FLAG;<br>   Serial.println(unThrottleInShared);<br>    <br>  }<br> <br>}  </p><span id="bc_0_107MN" class="comment-actions secondary-text" kind="m"><a kind="i" href="javascript:;" target="_self" o="r">Reply</a><span class="item-control blog-admin pid-473837522"><a o="d" target="_self" href="https://www.blogger.com/delete-comment.g?blogID=7214097671310478681&amp;postID=5030920424261080679">Delete</a></span></span></div><div id="bc_0_107BR" class="comment-replies"><span id="bc_0_107b+seedB1lYD" kind="d"><div id="bc_0_105T" class="comment-thread inline-thread" kind="t" t="0" u="0"><span id="bc_0_105TT" class="thread-toggle thread-expanded" kind="g"><span id="bc_0_105TA" class="thread-arrow"></span><span id="bc_0_105TN" class="thread-count"><span id="bc_0_105TNT" style="display: none;"></span><span id="bc_0_105TNU" style="display: none;"></span><a href="javascript:;" target="_self">Replies</a><div id="bc_0_105TD" class="thread-dropContainer thread-expanded"><span class="thread-drop"></span></div></span></span><ol id="bc_0_105TC" class="thread-chrome thread-expanded"><div><li id="bc_0_105B" class="comment" kind="b"><div class="avatar-image-container"><img src="./read receiver_files/b16-rounded.gif"></div><div id="c5019640639853330854" class="comment-block"><div id="bc_0_105M" class="comment-header" kind="m"><cite class="user blog-author"><a rel="nofollow" href="https://www.blogger.com/profile/07867684474123805993">Can_I_Trade?</a></cite><span class="icon user blog-author"></span><span class="datetime secondary-text"><a rel="nofollow" href="http://rcarduino.blogspot.com/2012/04/how-to-read-multiple-rc-channels-draft.html?showComment=1391344286644#c5019640639853330854">February 2, 2014 at 4:31 AM</a></span></div><p id="bc_0_105MC" class="comment-content">Did you try this first ?<br><br>http://rcarduino.blogspot.ae/2012/01/how-to-read-rc-receiver-with.html<br><br>Duane</p><span id="bc_0_105MN" class="comment-actions secondary-text" kind="m"><span class="item-control blog-admin pid-195722605"><a o="d" target="_self" href="https://www.blogger.com/delete-comment.g?blogID=7214097671310478681&amp;postID=5019640639853330854">Delete</a></span></span></div><div id="bc_0_105BR" class="comment-replies"></div><div id="bc_0_105B_box" class="comment-replybox-single"></div></li><li id="bc_0_106B" class="comment" kind="b"><div class="avatar-image-container"><img src="./read receiver_files/photo(2).jpg"></div><div id="c4732592252835789004" class="comment-block"><div id="bc_0_106M" class="comment-header" kind="m"><cite class="user"><a rel="nofollow" href="https://www.blogger.com/profile/07051221274903648246">Tanvir Parhar</a></cite><span class="icon user"></span><span class="datetime secondary-text"><a rel="nofollow" href="http://rcarduino.blogspot.com/2012/04/how-to-read-multiple-rc-channels-draft.html?showComment=1391365335564#c4732592252835789004">February 2, 2014 at 10:22 AM</a></span></div><p id="bc_0_106MC" class="comment-content">Yup I got it. Serial data is captured using interrupts and hence it cannot be used in another ISR.<br>Hope i got it right.<br>Thank you!!</p><span id="bc_0_106MN" class="comment-actions secondary-text" kind="m"><span class="item-control blog-admin pid-473837522"><a o="d" target="_self" href="https://www.blogger.com/delete-comment.g?blogID=7214097671310478681&amp;postID=4732592252835789004">Delete</a></span></span></div><div id="bc_0_106BR" class="comment-replies"></div><div id="bc_0_106B_box" class="comment-replybox-single"></div></li></div><div id="bc_0_105I" class="continue" kind="ci"><a href="javascript:;" target="_self">Reply</a></div></ol><div id="bc_0_105T_box" class="comment-replybox-thread"></div></div></span></div><div id="bc_0_107B_box" class="comment-replybox-single"></div></li><li id="bc_0_109B" class="comment" kind="b"><div class="avatar-image-container"><img src="./read receiver_files/photo(2).jpg"></div><div id="c1888173830235978399" class="comment-block"><div id="bc_0_109M" class="comment-header" kind="m"><cite class="user"><a rel="nofollow" href="https://www.blogger.com/profile/07051221274903648246">Tanvir Parhar</a></cite><span class="icon user"></span><span class="datetime secondary-text"><a rel="nofollow" href="http://rcarduino.blogspot.com/2012/04/how-to-read-multiple-rc-channels-draft.html?showComment=1391509500851#c1888173830235978399">February 4, 2014 at 2:25 AM</a></span></div><p id="bc_0_109MC" class="comment-content">I tried to read print multiple channels, but noticed a vague behaviour. I the code that you have uploaded, whenever  I declare the input pins (like throttleInPin, etc) below pin number 9(i.e. from 2 to 8) and then when i try to print the Time period read by them n serial window, I either get garbage values or nothing at all. But if I do the same for the input pins above 9 (9 till 13), I get the proper values on the serial terminal of arduino.<br>Don't know if it is because of the PinChangeInt library or because of some serial comm buffer's connection with these pins.<br>Can you help me out?<br>Code snippet for printing is-<br><br> // on every cycle.<br>  if(bUpdateFlags &amp; THROTTLE_FLAG)<br>  {<br>   <br>    <br>      servoThrottle.writeMicroseconds(unThrottleIn);<br>      Serial.println(unThrottleIn);<br>    <br>  }<br>I know there's nothing wrong in it, as it prints the values if input pins are defined between 9 and 13, both inclusive.<br>Thank you!!<br> </p><span id="bc_0_109MN" class="comment-actions secondary-text" kind="m"><a kind="i" href="javascript:;" target="_self" o="r">Reply</a><span class="item-control blog-admin pid-473837522"><a o="d" target="_self" href="https://www.blogger.com/delete-comment.g?blogID=7214097671310478681&amp;postID=1888173830235978399">Delete</a></span></span></div><div id="bc_0_109BR" class="comment-replies"><span id="bc_0_109b+seedB1lbD" kind="d"><div id="bc_0_108T" class="comment-thread inline-thread" kind="t" t="0" u="0"><span id="bc_0_108TT" class="thread-toggle thread-expanded" kind="g"><span id="bc_0_108TA" class="thread-arrow"></span><span id="bc_0_108TN" class="thread-count"><span id="bc_0_108TNT" style="display: none;"></span><span id="bc_0_108TNU" style="display: none;"></span><a href="javascript:;" target="_self">Replies</a><div id="bc_0_108TD" class="thread-dropContainer thread-expanded"><span class="thread-drop"></span></div></span></span><ol id="bc_0_108TC" class="thread-chrome thread-expanded"><div><li id="bc_0_108B" class="comment" kind="b"><div class="avatar-image-container"><img src="./read receiver_files/photo(2).jpg"></div><div id="c1228296648521394429" class="comment-block"><div id="bc_0_108M" class="comment-header" kind="m"><cite class="user"><a rel="nofollow" href="https://www.blogger.com/profile/07051221274903648246">Tanvir Parhar</a></cite><span class="icon user"></span><span class="datetime secondary-text"><a rel="nofollow" href="http://rcarduino.blogspot.com/2012/04/how-to-read-multiple-rc-channels-draft.html?showComment=1391509663433#c1228296648521394429">February 4, 2014 at 2:27 AM</a></span></div><p id="bc_0_108MC" class="comment-content">and yes, I read and tried your earlier post. It worked.<br>Thank You.</p><span id="bc_0_108MN" class="comment-actions secondary-text" kind="m"><span class="item-control blog-admin pid-473837522"><a o="d" target="_self" href="https://www.blogger.com/delete-comment.g?blogID=7214097671310478681&amp;postID=1228296648521394429">Delete</a></span></span></div><div id="bc_0_108BR" class="comment-replies"></div><div id="bc_0_108B_box" class="comment-replybox-single"></div></li></div><div id="bc_0_108I" class="continue" kind="ci"><a href="javascript:;" target="_self">Reply</a></div></ol><div id="bc_0_108T_box" class="comment-replybox-thread"></div></div></span></div><div id="bc_0_109B_box" class="comment-replybox-single"></div></li><li id="bc_0_111B" class="comment" kind="b"><div class="avatar-image-container"><img src="./read receiver_files/b16-rounded.gif"></div><div id="c2564257075032709951" class="comment-block"><div id="bc_0_111M" class="comment-header" kind="m"><cite class="user blog-author"><a rel="nofollow" href="https://www.blogger.com/profile/07867684474123805993">Can_I_Trade?</a></cite><span class="icon user blog-author"></span><span class="datetime secondary-text"><a rel="nofollow" href="http://rcarduino.blogspot.com/2012/04/how-to-read-multiple-rc-channels-draft.html?showComment=1391522563447#c2564257075032709951">February 4, 2014 at 6:02 AM</a></span></div><p id="bc_0_111MC" class="comment-content">Which model of Arduino are you using ? Not all of them support PCInt on every pin, see here - http://rcarduino.blogspot.ae/2013/04/the-problem-and-solutions-with-arduino.html<br><br>Duane B</p><span id="bc_0_111MN" class="comment-actions secondary-text" kind="m"><a kind="i" href="javascript:;" target="_self" o="r">Reply</a><span class="item-control blog-admin pid-195722605"><a o="d" target="_self" href="https://www.blogger.com/delete-comment.g?blogID=7214097671310478681&amp;postID=2564257075032709951">Delete</a></span></span></div><div id="bc_0_111BR" class="comment-replies"><span id="bc_0_111b+seedB1ldD" kind="d"><div id="bc_0_110T" class="comment-thread inline-thread" kind="t" t="0" u="0"><span id="bc_0_110TT" class="thread-toggle thread-expanded" kind="g"><span id="bc_0_110TA" class="thread-arrow"></span><span id="bc_0_110TN" class="thread-count"><span id="bc_0_110TNT" style="display: none;"></span><span id="bc_0_110TNU" style="display: none;"></span><a href="javascript:;" target="_self">Replies</a><div id="bc_0_110TD" class="thread-dropContainer thread-expanded"><span class="thread-drop"></span></div></span></span><ol id="bc_0_110TC" class="thread-chrome thread-expanded"><div><li id="bc_0_110B" class="comment" kind="b"><div class="avatar-image-container"><img src="./read receiver_files/photo(2).jpg"></div><div id="c6597863063914172234" class="comment-block"><div id="bc_0_110M" class="comment-header" kind="m"><cite class="user"><a rel="nofollow" href="https://www.blogger.com/profile/07051221274903648246">Tanvir Parhar</a></cite><span class="icon user"></span><span class="datetime secondary-text"><a rel="nofollow" href="http://rcarduino.blogspot.com/2012/04/how-to-read-multiple-rc-channels-draft.html?showComment=1391588258606#c6597863063914172234">February 5, 2014 at 12:17 AM</a></span></div><p id="bc_0_110MC" class="comment-content">Thank you very much yet again!!!</p><span id="bc_0_110MN" class="comment-actions secondary-text" kind="m"><span class="item-control blog-admin pid-473837522"><a o="d" target="_self" href="https://www.blogger.com/delete-comment.g?blogID=7214097671310478681&amp;postID=6597863063914172234">Delete</a></span></span></div><div id="bc_0_110BR" class="comment-replies"></div><div id="bc_0_110B_box" class="comment-replybox-single"></div></li></div><div id="bc_0_110I" class="continue" kind="ci"><a href="javascript:;" target="_self">Reply</a></div></ol><div id="bc_0_110T_box" class="comment-replybox-thread"></div></div></span></div><div id="bc_0_111B_box" class="comment-replybox-single"></div></li><li id="bc_0_112B" class="comment" kind="b"><div class="avatar-image-container"><img src="./read receiver_files/photo(3).jpg"></div><div id="c8681182935465010559" class="comment-block"><div id="bc_0_112M" class="comment-header" kind="m"><cite class="user"><a rel="nofollow" href="https://www.blogger.com/profile/07939751371438494450">Mike Henderson</a></cite><span class="icon user"></span><span class="datetime secondary-text"><a rel="nofollow" href="http://rcarduino.blogspot.com/2012/04/how-to-read-multiple-rc-channels-draft.html?showComment=1392028647591#c8681182935465010559">February 10, 2014 at 2:37 AM</a></span></div><p id="bc_0_112MC" class="comment-content">Hi,<br><br>Many thanks for the time you have put into developing this code.<br><br>I'd like to copy this and expand it to at least 5 channels and run it on the mega 2560 board. Other than the changes to how the interrupt routines are called, I gather it will still work fine if I just duplicate the code for the extra channels I need?<br><br>Mike</p><span id="bc_0_112MN" class="comment-actions secondary-text" kind="m"><a kind="i" href="javascript:;" target="_self" o="r">Reply</a><span class="item-control blog-admin pid-292422221"><a o="d" target="_self" href="https://www.blogger.com/delete-comment.g?blogID=7214097671310478681&amp;postID=8681182935465010559">Delete</a></span></span></div><div id="bc_0_112BR" class="comment-replies"></div><div id="bc_0_112B_box" class="comment-replybox-single"></div></li><li id="bc_0_113B" class="comment" kind="b"><div class="avatar-image-container"><img src="./read receiver_files/b16-rounded.gif"></div><div id="c2016492729730781313" class="comment-block"><div id="bc_0_113M" class="comment-header" kind="m"><cite class="user blog-author"><a rel="nofollow" href="https://www.blogger.com/profile/07867684474123805993">Can_I_Trade?</a></cite><span class="icon user blog-author"></span><span class="datetime secondary-text"><a rel="nofollow" href="http://rcarduino.blogspot.com/2012/04/how-to-read-multiple-rc-channels-draft.html?showComment=1392038237238#c2016492729730781313">February 10, 2014 at 5:17 AM</a></span></div><p id="bc_0_113MC" class="comment-content">Hi, It will work on the Mega using the built in AttachInterrupt function on the pins listed here http://rcarduino.blogspot.ae/2013/04/the-problem-and-solutions-with-arduino.html Here is an example of 8 channels using PCInt on an Arduino UNO http://rcarduino.blogspot.ae/2013/04/problem-reading-rc-channels-rcarduino.html<br><br>Duane. </p><span id="bc_0_113MN" class="comment-actions secondary-text" kind="m"><a kind="i" href="javascript:;" target="_self" o="r">Reply</a><span class="item-control blog-admin pid-195722605"><a o="d" target="_self" href="https://www.blogger.com/delete-comment.g?blogID=7214097671310478681&amp;postID=2016492729730781313">Delete</a></span></span></div><div id="bc_0_113BR" class="comment-replies"></div><div id="bc_0_113B_box" class="comment-replybox-single"></div></li><li id="bc_0_114B" class="comment" kind="b"><div class="avatar-image-container"><img src="./read receiver_files/blank.gif"></div><div id="c6673000479540657184" class="comment-block"><div id="bc_0_114M" class="comment-header" kind="m"><cite class="user">Anonymous</cite><span class="icon user"></span><span class="datetime secondary-text"><a rel="nofollow" href="http://rcarduino.blogspot.com/2012/04/how-to-read-multiple-rc-channels-draft.html?showComment=1393343003495#c6673000479540657184">February 25, 2014 at 7:43 AM</a></span></div><p id="bc_0_114MC" class="comment-content">Hi, i want to control 4 dc motors which are 3 motors in both directions and the other motor just in one direction. I planned to use the Walkera TX5805 and RX701 which both have 7 channels. Is it possible to do the configuration with the DEVO F7 transmitter? If yes, how does the configuration looks like? Hope to get a feedback esepcially on the coding. Thank you<br><br></p><span id="bc_0_114MN" class="comment-actions secondary-text" kind="m"><a kind="i" href="javascript:;" target="_self" o="r">Reply</a><span class="item-control blog-admin pid-381660647"><a o="d" target="_self" href="https://www.blogger.com/delete-comment.g?blogID=7214097671310478681&amp;postID=6673000479540657184">Delete</a></span></span></div><div id="bc_0_114BR" class="comment-replies"></div><div id="bc_0_114B_box" class="comment-replybox-single"></div></li><li id="bc_0_115B" class="comment" kind="b"><div class="avatar-image-container"><img src="./read receiver_files/Image001.jpg"></div><div id="c603314259414273" class="comment-block"><div id="bc_0_115M" class="comment-header" kind="m"><cite class="user"><a rel="nofollow" href="https://www.blogger.com/profile/09997255254727717661">SPaM</a></cite><span class="icon user"></span><span class="datetime secondary-text"><a rel="nofollow" href="http://rcarduino.blogspot.com/2012/04/how-to-read-multiple-rc-channels-draft.html?showComment=1395152088659#c603314259414273">March 18, 2014 at 7:14 AM</a></span></div><p id="bc_0_115MC" class="comment-content">Hi, I'm trying to read the signal from AR600 Spektrum rc receiver but i can't seem to find a solution. Nothing works... i tried pulseIn(), using a timer - micros(), usiong a timer with interrupts, reading from analog input. I'm working on a school project on APM 2.5, using input pin 1 = 13 and A0 = 97. I can't get something from the receiver and I know the receiver works since without the arduino board i manage to control servos only with it. I've been struggling for a few days now and I don't know what to do. Any help? Thanks.  <br><br>s.paul1408@gmail.com</p><span id="bc_0_115MN" class="comment-actions secondary-text" kind="m"><a kind="i" href="javascript:;" target="_self" o="r">Reply</a><span class="item-control blog-admin pid-812495049"><a o="d" target="_self" href="https://www.blogger.com/delete-comment.g?blogID=7214097671310478681&amp;postID=603314259414273">Delete</a></span></span></div><div id="bc_0_115BR" class="comment-replies"></div><div id="bc_0_115B_box" class="comment-replybox-single"></div></li><li id="bc_0_116B" class="comment" kind="b"><div class="avatar-image-container"><img src="./read receiver_files/b16-rounded.gif"></div><div id="c6729309588486326191" class="comment-block"><div id="bc_0_116M" class="comment-header" kind="m"><cite class="user blog-author"><a rel="nofollow" href="https://www.blogger.com/profile/07867684474123805993">Can_I_Trade?</a></cite><span class="icon user blog-author"></span><span class="datetime secondary-text"><a rel="nofollow" href="http://rcarduino.blogspot.com/2012/04/how-to-read-multiple-rc-channels-draft.html?showComment=1395336147318#c6729309588486326191">March 20, 2014 at 10:22 AM</a></span></div><p id="bc_0_116MC" class="comment-content">No idea what an APM 2.5 is, but if its anything like and Arduino, the most common mistake is not connecting the ground of the receiver to the ground of the Arduino to form a common ground between the two.<br><br>Duane </p><span id="bc_0_116MN" class="comment-actions secondary-text" kind="m"><a kind="i" href="javascript:;" target="_self" o="r">Reply</a><span class="item-control blog-admin pid-195722605"><a o="d" target="_self" href="https://www.blogger.com/delete-comment.g?blogID=7214097671310478681&amp;postID=6729309588486326191">Delete</a></span></span></div><div id="bc_0_116BR" class="comment-replies"></div><div id="bc_0_116B_box" class="comment-replybox-single"></div></li><li id="bc_0_117B" class="comment" kind="b"><div class="avatar-image-container"><img src="./read receiver_files/photo(4).jpg"></div><div id="c6342978880124161558" class="comment-block"><div id="bc_0_117M" class="comment-header" kind="m"><cite class="user"><a rel="nofollow" href="https://www.blogger.com/profile/18168519784793495143">Kenneth Due</a></cite><span class="icon user"></span><span class="datetime secondary-text"><a rel="nofollow" href="http://rcarduino.blogspot.com/2012/04/how-to-read-multiple-rc-channels-draft.html?showComment=1398713939408#c6342978880124161558">April 28, 2014 at 12:38 PM</a></span></div><p id="bc_0_117MC" class="comment-content">...Or you could use a spectrum satelite receiver, and connect it to the serial port.<br>http://forum.arduino.cc/index.php/topic,22266.0.html<br><br>edit<br>apm 2.5 is ardupilot mega, which does not have a serial-in from spectrum satelite<br>that is - if you are using the normal arducopter firmware<br><br>Try this, just replace "ar8000" with "ar600" both receivers send the same type of servo signal<br>http://diydrones.com/forum/topics/connecting-apm-2-5-with-spektrum-ar8000<br><br></p><span id="bc_0_117MN" class="comment-actions secondary-text" kind="m"><a kind="i" href="javascript:;" target="_self" o="r">Reply</a><span class="item-control blog-admin pid-1267337549"><a o="d" target="_self" href="https://www.blogger.com/delete-comment.g?blogID=7214097671310478681&amp;postID=6342978880124161558">Delete</a></span></span></div><div id="bc_0_117BR" class="comment-replies"></div><div id="bc_0_117B_box" class="comment-replybox-single"></div></li><li id="bc_0_118B" class="comment" kind="b"><div class="avatar-image-container"><img src="./read receiver_files/b16-rounded.gif"></div><div id="c3757369162851941894" class="comment-block"><div id="bc_0_118M" class="comment-header" kind="m"><cite class="user"><a rel="nofollow" href="https://www.blogger.com/profile/11789721428513972385">Fateh Al-Bazeli</a></cite><span class="icon user"></span><span class="datetime secondary-text"><a rel="nofollow" href="http://rcarduino.blogspot.com/2012/04/how-to-read-multiple-rc-channels-draft.html?showComment=1401647401173#c3757369162851941894">June 1, 2014 at 11:30 AM</a></span></div><p id="bc_0_118MC" class="comment-content">Hi Dear,<br><br>I practiced this sketch with Arduino Mega 2560 and was working well. BUT I noticed that it's working for 10,11 and 12 pins only and use standard interrupts with pins 2 and 3. does it means we can have five pulse In pins only. please advise me if something missing.<br><br>Thanks a lot,<br>Fateh</p><span id="bc_0_118MN" class="comment-actions secondary-text" kind="m"><a kind="i" href="javascript:;" target="_self" o="r">Reply</a><span class="item-control blog-admin pid-1010477942"><a o="d" target="_self" href="https://www.blogger.com/delete-comment.g?blogID=7214097671310478681&amp;postID=3757369162851941894">Delete</a></span></span></div><div id="bc_0_118BR" class="comment-replies"></div><div id="bc_0_118B_box" class="comment-replybox-single"></div></li><li id="bc_0_119B" class="comment" kind="b"><div class="avatar-image-container"><img src="./read receiver_files/photo(5).jpg"></div><div id="c807991686294511391" class="comment-block"><div id="bc_0_119M" class="comment-header" kind="m"><cite class="user"><a rel="nofollow" href="https://www.blogger.com/profile/00002735442342456821">skeeterweazel</a></cite><span class="icon user"></span><span class="datetime secondary-text"><a rel="nofollow" href="http://rcarduino.blogspot.com/2012/04/how-to-read-multiple-rc-channels-draft.html?showComment=1402446546954#c807991686294511391">June 10, 2014 at 5:29 PM</a></span></div><p id="bc_0_119MC" class="comment-content">I'm using this sketch to act as a "cruise control" for a model train. Haven't yet got my RC equipment but will in the future. At this point i'm using a infrared switch to count wheel rotations. I'm counting "pulses" from the switch in a 1/10 second time frame. There is a delay(100) in the loop. Will this mess up how the sketch works to sense pulse widths from the RX when i get the RC stuff? I don't need super responsive servo action; a slight delay is OK. Just need to make sure i'm reading the correct signal from the RX.<br>Thx.<br>Marty</p><span id="bc_0_119MN" class="comment-actions secondary-text" kind="m"><a kind="i" href="javascript:;" target="_self" o="r">Reply</a><span class="item-control blog-admin pid-958637262"><a o="d" target="_self" href="https://www.blogger.com/delete-comment.g?blogID=7214097671310478681&amp;postID=807991686294511391">Delete</a></span></span></div><div id="bc_0_119BR" class="comment-replies"></div><div id="bc_0_119B_box" class="comment-replybox-single"></div></li><li id="bc_0_120B" class="comment" kind="b"><div class="avatar-image-container"><img src="./read receiver_files/b16-rounded.gif"></div><div id="c2712944835899513857" class="comment-block"><div id="bc_0_120M" class="comment-header" kind="m"><cite class="user blog-author"><a rel="nofollow" href="https://www.blogger.com/profile/07867684474123805993">Can_I_Trade?</a></cite><span class="icon user blog-author"></span><span class="datetime secondary-text"><a rel="nofollow" href="http://rcarduino.blogspot.com/2012/04/how-to-read-multiple-rc-channels-draft.html?showComment=1402501684941#c2712944835899513857">June 11, 2014 at 8:48 AM</a></span></div><p id="bc_0_120MC" class="comment-content">No, a delay(100) will not effect the RC Reading as it uses interrupts. However you could easily adapt one of the RC Channels in the code above to read the wheel speed using interrupts.<br><br>Duane B</p><span id="bc_0_120MN" class="comment-actions secondary-text" kind="m"><a kind="i" href="javascript:;" target="_self" o="r">Reply</a><span class="item-control blog-admin pid-195722605"><a o="d" target="_self" href="https://www.blogger.com/delete-comment.g?blogID=7214097671310478681&amp;postID=2712944835899513857">Delete</a></span></span></div><div id="bc_0_120BR" class="comment-replies"></div><div id="bc_0_120B_box" class="comment-replybox-single"></div></li><li id="bc_0_121B" class="comment" kind="b"><div class="avatar-image-container"><img src="./read receiver_files/photo(6).jpg"></div><div id="c5350492770158607692" class="comment-block"><div id="bc_0_121M" class="comment-header" kind="m"><cite class="user"><a rel="nofollow" href="https://www.blogger.com/profile/14300116018647733129">Picfly Luftaufnahmen</a></cite><span class="icon user"></span><span class="datetime secondary-text"><a rel="nofollow" href="http://rcarduino.blogspot.com/2012/04/how-to-read-multiple-rc-channels-draft.html?showComment=1403539062307#c5350492770158607692">June 23, 2014 at 8:57 AM</a></span></div><p id="bc_0_121MC" class="comment-content">hi, i have following problem: when i disconnect a rc receiver wire, there should be GND over a Pulldown Resistor on the Pin. sometimes it is recognized some times not. i don't know what to do. pulldown is about 20kohm<br><br>thanks</p><span id="bc_0_121MN" class="comment-actions secondary-text" kind="m"><a kind="i" href="javascript:;" target="_self" o="r">Reply</a><span class="item-control blog-admin pid-1518824996"><a o="d" target="_self" href="https://www.blogger.com/delete-comment.g?blogID=7214097671310478681&amp;postID=5350492770158607692">Delete</a></span></span></div><div id="bc_0_121BR" class="comment-replies"></div><div id="bc_0_121B_box" class="comment-replybox-single"></div></li><li id="bc_0_122B" class="comment" kind="b"><div class="avatar-image-container"><img src="./read receiver_files/b16-rounded.gif"></div><div id="c8349738243166678342" class="comment-block"><div id="bc_0_122M" class="comment-header" kind="m"><cite class="user blog-author"><a rel="nofollow" href="https://www.blogger.com/profile/07867684474123805993">Can_I_Trade?</a></cite><span class="icon user blog-author"></span><span class="datetime secondary-text"><a rel="nofollow" href="http://rcarduino.blogspot.com/2012/04/how-to-read-multiple-rc-channels-draft.html?showComment=1403543294031#c8349738243166678342">June 23, 2014 at 10:08 AM</a></span></div><p id="bc_0_122MC" class="comment-content">Try a pull up instead and/or Try a smaller value pull down like a 10K and/or Use a multimeter to make sure that the ground is a good connection to the same ground the Arduino is using. <br><br>Duane B</p><span id="bc_0_122MN" class="comment-actions secondary-text" kind="m"><a kind="i" href="javascript:;" target="_self" o="r">Reply</a><span class="item-control blog-admin pid-195722605"><a o="d" target="_self" href="https://www.blogger.com/delete-comment.g?blogID=7214097671310478681&amp;postID=8349738243166678342">Delete</a></span></span></div><div id="bc_0_122BR" class="comment-replies"></div><div id="bc_0_122B_box" class="comment-replybox-single"></div></li><li id="bc_0_123B" class="comment" kind="b"><div class="avatar-image-container"><img src="./read receiver_files/blank.gif"></div><div id="c7456671866527811251" class="comment-block"><div id="bc_0_123M" class="comment-header" kind="m"><cite class="user"><a rel="nofollow" href="http://rcarduino.blogspot.com/2012/04/how-to-read-multiple-rc-channels-draft.html">ARDUINO Project 99</a></cite><span class="icon user"></span><span class="datetime secondary-text"><a rel="nofollow" href="http://rcarduino.blogspot.com/2012/04/how-to-read-multiple-rc-channels-draft.html?showComment=1403545203683#c7456671866527811251">June 23, 2014 at 10:40 AM</a></span></div><p id="bc_0_123MC" class="comment-content">Thank you for sharing this information this is very nice blog thank you for giving this info.<br>I share your post link in my new site ,</p><span id="bc_0_123MN" class="comment-actions secondary-text" kind="m"><a kind="i" href="javascript:;" target="_self" o="r">Reply</a><span class="item-control blog-admin pid-959029258"><a o="d" target="_self" href="https://www.blogger.com/delete-comment.g?blogID=7214097671310478681&amp;postID=7456671866527811251">Delete</a></span></span></div><div id="bc_0_123BR" class="comment-replies"></div><div id="bc_0_123B_box" class="comment-replybox-single"></div></li><li id="bc_0_124B" class="comment" kind="b"><div class="avatar-image-container"><img src="./read receiver_files/photo(5).jpg"></div><div id="c6189444847515362405" class="comment-block"><div id="bc_0_124M" class="comment-header" kind="m"><cite class="user"><a rel="nofollow" href="https://www.blogger.com/profile/00002735442342456821">skeeterweazel</a></cite><span class="icon user"></span><span class="datetime secondary-text"><a rel="nofollow" href="http://rcarduino.blogspot.com/2012/04/how-to-read-multiple-rc-channels-draft.html?showComment=1404279111440#c6189444847515362405">July 1, 2014 at 10:31 PM</a></span></div><p id="bc_0_124MC" class="comment-content">Duane, thx for all your work w/ your code. It's working well for me on my little steam engine. I've received my R/C stuff and am deciding how i want to use it. The Arduino gives so much flexibility. Here is a little video of my loco in "cruise control" mode. http://youtu.be/jntED_VEsMk<br>Marty</p><span id="bc_0_124MN" class="comment-actions secondary-text" kind="m"><a kind="i" href="javascript:;" target="_self" o="r">Reply</a><span class="item-control blog-admin pid-958637262"><a o="d" target="_self" href="https://www.blogger.com/delete-comment.g?blogID=7214097671310478681&amp;postID=6189444847515362405">Delete</a></span></span></div><div id="bc_0_124BR" class="comment-replies"></div><div id="bc_0_124B_box" class="comment-replybox-single"></div></li><li id="bc_0_126B" class="comment" kind="b"><div class="avatar-image-container"><img src="./read receiver_files/photo(7).jpg"></div><div id="c4505641256291294418" class="comment-block"><div id="bc_0_126M" class="comment-header" kind="m"><cite class="user"><a rel="nofollow" href="https://www.blogger.com/profile/00323788940063133185">Sorin Czeizler</a></cite><span class="icon user"></span><span class="datetime secondary-text"><a rel="nofollow" href="http://rcarduino.blogspot.com/2012/04/how-to-read-multiple-rc-channels-draft.html?showComment=1413678373939#c4505641256291294418">October 18, 2014 at 5:26 PM</a></span></div><p id="bc_0_126MC" class="comment-content">Hello Duane B<br><br>I design a code based on your example that sample 10 RC signals. 4 of them I pass directly to 4 servos using servo library. I use a Pro Mini card with ATMEGA328 5V/16M. It works fine but a get a tickle on servos. This tickle persist even when I send a constant value of 1500 at the servos  on setup function and on loop function I don't actualize this value, and of course the pin change interrupt is working. When I disable the RC signals (close the radio Tx) the tickle disappear. So you have any idea how I can solve the problem of the servo tickling?<br><br>Thank you very much<br>Sorin</p><span id="bc_0_126MN" class="comment-actions secondary-text" kind="m"><a kind="i" href="javascript:;" target="_self" o="r">Reply</a><span class="item-control blog-admin pid-1051042003"><a o="d" target="_self" href="https://www.blogger.com/delete-comment.g?blogID=7214097671310478681&amp;postID=4505641256291294418">Delete</a></span></span></div><div id="bc_0_126BR" class="comment-replies"><span id="bc_0_126b+seedB1ltD" kind="d"><div id="bc_0_125T" class="comment-thread inline-thread" kind="t" t="0" u="0"><span id="bc_0_125TT" class="thread-toggle thread-expanded" kind="g"><span id="bc_0_125TA" class="thread-arrow"></span><span id="bc_0_125TN" class="thread-count"><span id="bc_0_125TNT" style="display: none;"></span><span id="bc_0_125TNU" style="display: none;"></span><a href="javascript:;" target="_self">Replies</a><div id="bc_0_125TD" class="thread-dropContainer thread-expanded"><span class="thread-drop"></span></div></span></span><ol id="bc_0_125TC" class="thread-chrome thread-expanded"><div><li id="bc_0_125B" class="comment" kind="b"><div class="avatar-image-container"><img src="./read receiver_files/b16-rounded.gif"></div><div id="c1210265758923081675" class="comment-block"><div id="bc_0_125M" class="comment-header" kind="m"><cite class="user blog-author"><a rel="nofollow" href="https://www.blogger.com/profile/07867684474123805993">Can_I_Trade?</a></cite><span class="icon user blog-author"></span><span class="datetime secondary-text"><a rel="nofollow" href="http://rcarduino.blogspot.com/2012/04/how-to-read-multiple-rc-channels-draft.html?showComment=1413715497684#c1210265758923081675">October 19, 2014 at 3:44 AM</a></span></div><p id="bc_0_125MC" class="comment-content">Hi, If I understand, you write 1500 to your servos in the setup function and then do not change this value. You use interrupts to read RC Signals but do not use the signals you read to update servo positions. Your servos make tiny movements as if there is some small interference. These tiny movements stop if you turn the radio off. <br><br>There is an explanation and solution here - http://rcarduino.blogspot.ae/2012/11/how-to-read-rc-channels-rcarduinofastlib.html Duane B on How To Read Multiple RC Channels<br><br>Duane B</p><span id="bc_0_125MN" class="comment-actions secondary-text" kind="m"><span class="item-control blog-admin pid-195722605"><a o="d" target="_self" href="https://www.blogger.com/delete-comment.g?blogID=7214097671310478681&amp;postID=1210265758923081675">Delete</a></span></span></div><div id="bc_0_125BR" class="comment-replies"></div><div id="bc_0_125B_box" class="comment-replybox-single"></div></li></div><div id="bc_0_125I" class="continue" kind="ci"><a href="javascript:;" target="_self">Reply</a></div></ol><div id="bc_0_125T_box" class="comment-replybox-thread"></div></div></span></div><div id="bc_0_126B_box" class="comment-replybox-single"></div></li><li id="bc_0_127B" class="comment" kind="b"><div class="avatar-image-container"><img src="./read receiver_files/b16-rounded.gif"></div><div id="c5893870403756843096" class="comment-block"><div id="bc_0_127M" class="comment-header" kind="m"><cite class="user blog-author"><a rel="nofollow" href="https://www.blogger.com/profile/07867684474123805993">Can_I_Trade?</a></cite><span class="icon user blog-author"></span><span class="datetime secondary-text"><a rel="nofollow" href="http://rcarduino.blogspot.com/2012/04/how-to-read-multiple-rc-channels-draft.html?showComment=1413715375811#c5893870403756843096">October 19, 2014 at 3:42 AM</a></span></div><p id="bc_0_127MC" class="comment-content"><span class="deleted-comment">This comment has been removed by the author.</span></p><span id="bc_0_127MN" class="comment-actions secondary-text" kind="m"><a kind="i" href="javascript:;" target="_self" o="r">Reply</a><span class="item-control blog-admin pid-195722605"><a o="d" target="_self" href="https://www.blogger.com/delete-comment.g?blogID=7214097671310478681&amp;postID=5893870403756843096">Delete</a></span></span></div><div id="bc_0_127BR" class="comment-replies"></div><div id="bc_0_127B_box" class="comment-replybox-single"></div></li><li id="bc_0_128B" class="comment" kind="b"><div class="avatar-image-container"><img src="./read receiver_files/blank.gif"></div><div id="c7342575671776317599" class="comment-block"><div id="bc_0_128M" class="comment-header" kind="m"><cite class="user">Anonymous</cite><span class="icon user"></span><span class="datetime secondary-text"><a rel="nofollow" href="http://rcarduino.blogspot.com/2012/04/how-to-read-multiple-rc-channels-draft.html?showComment=1424452296322#c7342575671776317599">February 20, 2015 at 9:11 AM</a></span></div><p id="bc_0_128MC" class="comment-content">I'm just beginning to look at this, and by no means an expert, but why don't we use a filter (PWM to analog voltage say a 750k resistor and a 1000u cap?) and plug the RC directly to analog pins instead of reading with pulseIn or interrupts?</p><span id="bc_0_128MN" class="comment-actions secondary-text" kind="m"><a kind="i" href="javascript:;" target="_self" o="r">Reply</a><span class="item-control blog-admin pid-261425593"><a o="d" target="_self" href="https://www.blogger.com/delete-comment.g?blogID=7214097671310478681&amp;postID=7342575671776317599">Delete</a></span></span></div><div id="bc_0_128BR" class="comment-replies"></div><div id="bc_0_128B_box" class="comment-replybox-single"></div></li><li id="bc_0_131B" class="comment" kind="b"><div class="avatar-image-container"><img src="./read receiver_files/b16-rounded.gif"></div><div id="c6669762254613736625" class="comment-block"><div id="bc_0_131M" class="comment-header" kind="m"><cite class="user blog-author"><a rel="nofollow" href="https://www.blogger.com/profile/07867684474123805993">Can_I_Trade?</a></cite><span class="icon user blog-author"></span><span class="datetime secondary-text"><a rel="nofollow" href="http://rcarduino.blogspot.com/2012/04/how-to-read-multiple-rc-channels-draft.html?showComment=1424625199172#c6669762254613736625">February 22, 2015 at 9:13 AM</a></span></div><p id="bc_0_131MC" class="comment-content">RC PWM is a very different signal than, the PWM Signal you get from analogWrite. RC PWM is a way of multiplexing lots of individual RC Channels into a single radio channel. If you look at the content of a single channel you will see that it is mostly empty space. There is a lot more background here -<br><br>http://rcarduino.blogspot.ae/2012/01/how-to-read-rc-receiver-with.html<br><br>and<br><br>http://rcarduino.blogspot.ae/2012/11/how-to-read-rc-receiver-ppm-stream.html<br><br>So long story short, RC Signals are designed to pack upto 10 Servo (PWM) channels into a single (PPM) Radio channel, transmitting analogue type signals would not allow more than one servo per radio channel. <br><br>As a final thought, what would neutral and reverse look like if it was as simple as sending PWM ?<br><br>Duane.</p><span id="bc_0_131MN" class="comment-actions secondary-text" kind="m"><a kind="i" href="javascript:;" target="_self" o="r">Reply</a><span class="item-control blog-admin pid-195722605"><a o="d" target="_self" href="https://www.blogger.com/delete-comment.g?blogID=7214097671310478681&amp;postID=6669762254613736625">Delete</a></span></span></div><div id="bc_0_131BR" class="comment-replies"><span id="bc_0_131b+seedB1lwD" kind="d"><div id="bc_0_129T" class="comment-thread inline-thread" kind="t" t="0" u="0"><span id="bc_0_129TT" class="thread-toggle thread-expanded" kind="g"><span id="bc_0_129TA" class="thread-arrow"></span><span id="bc_0_129TN" class="thread-count"><span id="bc_0_129TNT" style="display: none;"></span><span id="bc_0_129TNU" style="display: none;"></span><a href="javascript:;" target="_self">Replies</a><div id="bc_0_129TD" class="thread-dropContainer thread-expanded"><span class="thread-drop"></span></div></span></span><ol id="bc_0_129TC" class="thread-chrome thread-expanded"><div><li id="bc_0_129B" class="comment" kind="b"><div class="avatar-image-container"><img src="./read receiver_files/blank.gif"></div><div id="c4328179495323319472" class="comment-block"><div id="bc_0_129M" class="comment-header" kind="m"><cite class="user">Anonymous</cite><span class="icon user"></span><span class="datetime secondary-text"><a rel="nofollow" href="http://rcarduino.blogspot.com/2012/04/how-to-read-multiple-rc-channels-draft.html?showComment=1425576656371#c4328179495323319472">March 5, 2015 at 9:30 AM</a></span></div><p id="bc_0_129MC" class="comment-content">I think we are looking at it differently. I am talking about capturing the signal from the pin outputs of the rc receiver, since you hook up ESCs and servos to them directly. I get the radio signal itself is PWM or PPM, but I thought the receivers always output PWM on the individual channels.<br><br>If we tapped into the pin outs on the rc receiver to the analog in on the arduino, wouldn't it be the same signal a servo would get, a PWM? Then putting the circuit above inbetween to level the signal to beable to jsut do an analogread?</p><span id="bc_0_129MN" class="comment-actions secondary-text" kind="m"><span class="item-control blog-admin pid-2099957756"><a o="d" target="_self" href="https://www.blogger.com/delete-comment.g?blogID=7214097671310478681&amp;postID=4328179495323319472">Delete</a></span></span></div><div id="bc_0_129BR" class="comment-replies"></div><div id="bc_0_129B_box" class="comment-replybox-single"></div></li><li id="bc_0_130B" class="comment" kind="b"><div class="avatar-image-container"><img src="./read receiver_files/b16-rounded.gif"></div><div id="c6038377744243095430" class="comment-block"><div id="bc_0_130M" class="comment-header" kind="m"><cite class="user blog-author"><a rel="nofollow" href="https://www.blogger.com/profile/07867684474123805993">Can_I_Trade?</a></cite><span class="icon user blog-author"></span><span class="datetime secondary-text"><a rel="nofollow" href="http://rcarduino.blogspot.com/2012/04/how-to-read-multiple-rc-channels-draft.html?showComment=1425992534705#c6038377744243095430">March 10, 2015 at 6:02 AM</a></span></div><p id="bc_0_130MC" class="comment-content">Please read or reread the link I posted in my previous response, particularly the background section starting with the comment <br><br>"What are we looking for when we read from an RC Receiver ? Its not what I originally expected, my guess was that it was an analogue signal that would be amplified by the speed controller or servo controller to drive the motors. Its not analogue at all, its actually mostly empty space. <br>"<br><br>Duane.</p><span id="bc_0_130MN" class="comment-actions secondary-text" kind="m"><span class="item-control blog-admin pid-195722605"><a o="d" target="_self" href="https://www.blogger.com/delete-comment.g?blogID=7214097671310478681&amp;postID=6038377744243095430">Delete</a></span></span></div><div id="bc_0_130BR" class="comment-replies"></div><div id="bc_0_130B_box" class="comment-replybox-single"></div></li></div><div id="bc_0_129I" class="continue" kind="ci"><a href="javascript:;" target="_self">Reply</a></div></ol><div id="bc_0_129T_box" class="comment-replybox-thread"></div></div></span></div><div id="bc_0_131B_box" class="comment-replybox-single"></div></li><li id="bc_0_132B" class="comment" kind="b"><div class="avatar-image-container"><img src="./read receiver_files/blank.gif"></div><div id="c7777676159559989198" class="comment-block"><div id="bc_0_132M" class="comment-header" kind="m"><cite class="user">Anonymous</cite><span class="icon user"></span><span class="datetime secondary-text"><a rel="nofollow" href="http://rcarduino.blogspot.com/2012/04/how-to-read-multiple-rc-channels-draft.html?showComment=1430940542605#c7777676159559989198">May 6, 2015 at 12:29 PM</a></span></div><p id="bc_0_132MC" class="comment-content">Hello Duane B!<br><br>Your code works fine, thank you. I use it to measure two RC channel and control an PWM output. I tried to control some not-pwm-compatible pins, so I included a SoftPWM library too. Is it possible to work together with your code? Thank you.<br><br>Mec</p><span id="bc_0_132MN" class="comment-actions secondary-text" kind="m"><a kind="i" href="javascript:;" target="_self" o="r">Reply</a><span class="item-control blog-admin pid-837853385"><a o="d" target="_self" href="https://www.blogger.com/delete-comment.g?blogID=7214097671310478681&amp;postID=7777676159559989198">Delete</a></span></span></div><div id="bc_0_132BR" class="comment-replies"></div><div id="bc_0_132B_box" class="comment-replybox-single"></div></li><li id="bc_0_134B" class="comment" kind="b"><div class="avatar-image-container"><img src="./read receiver_files/b16-rounded.gif"></div><div id="c6163973406224087061" class="comment-block"><div id="bc_0_134M" class="comment-header" kind="m"><cite class="user blog-author"><a rel="nofollow" href="https://www.blogger.com/profile/07867684474123805993">Can_I_Trade?</a></cite><span class="icon user blog-author"></span><span class="datetime secondary-text"><a rel="nofollow" href="http://rcarduino.blogspot.com/2012/04/how-to-read-multiple-rc-channels-draft.html?showComment=1430972194034#c6163973406224087061">May 6, 2015 at 9:16 PM</a></span></div><p id="bc_0_134MC" class="comment-content">If all you are doing is reading incoming RC Signals and outputting PWM through a soft PWM Library, it should be possible. If you were outputting servo signals as well as soft PWM there would probably be conflicts in the use of timer interrupts by both libraries, this would not work well.<br><br>The soft PWM Libraries make use of high frequency timer interrupts which will have some effect on the accuracy of reading incoming signals as the Arduino can only deal with one interrupt at a time (RC Input interrupt or SoftPWM Output interrupt).<br><br>I suggest that you give it a try, in theory it should work if you can tolerate the small (1 or 2%) errors in the input.<br><br>Duane.</p><span id="bc_0_134MN" class="comment-actions secondary-text" kind="m"><a kind="i" href="javascript:;" target="_self" o="r">Reply</a><span class="item-control blog-admin pid-195722605"><a o="d" target="_self" href="https://www.blogger.com/delete-comment.g?blogID=7214097671310478681&amp;postID=6163973406224087061">Delete</a></span></span></div><div id="bc_0_134BR" class="comment-replies"><span id="bc_0_134b+seedB1l0D" kind="d"><div id="bc_0_133T" class="comment-thread inline-thread" kind="t" t="0" u="0"><span id="bc_0_133TT" class="thread-toggle thread-expanded" kind="g"><span id="bc_0_133TA" class="thread-arrow"></span><span id="bc_0_133TN" class="thread-count"><span id="bc_0_133TNT" style="display: none;"></span><span id="bc_0_133TNU" style="display: none;"></span><a href="javascript:;" target="_self">Replies</a><div id="bc_0_133TD" class="thread-dropContainer thread-expanded"><span class="thread-drop"></span></div></span></span><ol id="bc_0_133TC" class="thread-chrome thread-expanded"><div><li id="bc_0_133B" class="comment" kind="b"><div class="avatar-image-container"><img src="./read receiver_files/blank.gif"></div><div id="c2353058878784677902" class="comment-block"><div id="bc_0_133M" class="comment-header" kind="m"><cite class="user">Anonymous</cite><span class="icon user"></span><span class="datetime secondary-text"><a rel="nofollow" href="http://rcarduino.blogspot.com/2012/04/how-to-read-multiple-rc-channels-draft.html?showComment=1430986671734#c2353058878784677902">May 7, 2015 at 1:17 AM</a></span></div><p id="bc_0_133MC" class="comment-content">Thank you. I tried, it works, but some times it seems that program is stopped (SoftPWM stuck on a fixed value). I will debug my code. but in another configuration, where I don't use SoftPWM same program runs fine.<br><br>Mec</p><span id="bc_0_133MN" class="comment-actions secondary-text" kind="m"><span class="item-control blog-admin pid-1577641593"><a o="d" target="_self" href="https://www.blogger.com/delete-comment.g?blogID=7214097671310478681&amp;postID=2353058878784677902">Delete</a></span></span></div><div id="bc_0_133BR" class="comment-replies"></div><div id="bc_0_133B_box" class="comment-replybox-single"></div></li></div><div id="bc_0_133I" class="continue" kind="ci"><a href="javascript:;" target="_self">Reply</a></div></ol><div id="bc_0_133T_box" class="comment-replybox-thread"></div></div></span></div><div id="bc_0_134B_box" class="comment-replybox-single"></div></li><li id="bc_0_135B" class="comment" kind="b"><div class="avatar-image-container"><img src="./read receiver_files/b16-rounded.gif"></div><div id="c6839787671402722390" class="comment-block"><div id="bc_0_135M" class="comment-header" kind="m"><cite class="user blog-author"><a rel="nofollow" href="https://www.blogger.com/profile/07867684474123805993">Can_I_Trade?</a></cite><span class="icon user blog-author"></span><span class="datetime secondary-text"><a rel="nofollow" href="http://rcarduino.blogspot.com/2012/04/how-to-read-multiple-rc-channels-draft.html?showComment=1431009389866#c6839787671402722390">May 7, 2015 at 7:36 AM</a></span></div><p id="bc_0_135MC" class="comment-content">Its probably a timer clash between the two libraries, check which timer registers the softPWM library uses and if it gives you an easy option to use a different set.<br><br>Duane.</p><span id="bc_0_135MN" class="comment-actions secondary-text" kind="m"><a kind="i" href="javascript:;" target="_self" o="r">Reply</a><span class="item-control blog-admin pid-195722605"><a o="d" target="_self" href="https://www.blogger.com/delete-comment.g?blogID=7214097671310478681&amp;postID=6839787671402722390">Delete</a></span></span></div><div id="bc_0_135BR" class="comment-replies"></div><div id="bc_0_135B_box" class="comment-replybox-single"></div></li><li id="bc_0_136B" class="comment" kind="b"><div class="avatar-image-container"><img src="./read receiver_files/blank.gif"></div><div id="c5954011276169241791" class="comment-block"><div id="bc_0_136M" class="comment-header" kind="m"><cite class="user">Anonymous</cite><span class="icon user"></span><span class="datetime secondary-text"><a rel="nofollow" href="http://rcarduino.blogspot.com/2012/04/how-to-read-multiple-rc-channels-draft.html?showComment=1434235486985#c5954011276169241791">June 13, 2015 at 3:44 PM</a></span></div><p id="bc_0_136MC" class="comment-content">Hi, My RC Transmitter-Receiver set still works fine but seeing as how it's pretty old now, every now and then the signal glitches and the receiver receives an outlier signal. I monitored the signal input in serial monitor and the normal range (from moving the stick on the transmitter all the way left and then all the way right) was 1100 to 1900 in serial monitor and when this "glitch" occurred, it would send something like <br><br>22312<br>12916<br>24112<br>18324<br><br>Which would in effect make the servos attached to the output pins spaz out and this damaged the servos as they are not continuous rotating ones and when they reach their maximum and try to keep going, gears break and so on.<br><br>My question is how do I prevent the arduino from outputting these outlier numbers to the motors and how do I set an Operating Range or threshold for the input signal?<br><br>Thanks in advance<br>The Anonymous Sometimes Late Spectating Potato</p><span id="bc_0_136MN" class="comment-actions secondary-text" kind="m"><a kind="i" href="javascript:;" target="_self" o="r">Reply</a><span class="item-control blog-admin pid-1423500774"><a o="d" target="_self" href="https://www.blogger.com/delete-comment.g?blogID=7214097671310478681&amp;postID=5954011276169241791">Delete</a></span></span></div><div id="bc_0_136BR" class="comment-replies"></div><div id="bc_0_136B_box" class="comment-replybox-single"></div></li><li id="bc_0_137B" class="comment" kind="b"><div class="avatar-image-container"><img src="./read receiver_files/b16-rounded.gif"></div><div id="c2027969907999937248" class="comment-block"><div id="bc_0_137M" class="comment-header" kind="m"><cite class="user blog-author"><a rel="nofollow" href="https://www.blogger.com/profile/07867684474123805993">Can_I_Trade?</a></cite><span class="icon user blog-author"></span><span class="datetime secondary-text"><a rel="nofollow" href="http://rcarduino.blogspot.com/2012/04/how-to-read-multiple-rc-channels-draft.html?showComment=1434378392563#c2027969907999937248">June 15, 2015 at 7:26 AM</a></span></div><p id="bc_0_137MC" class="comment-content">See the 'constrain' function on arduino.cc but those values suggest there is something wrong in your code or circuit.<br><br>Duane B<br></p><span id="bc_0_137MN" class="comment-actions secondary-text" kind="m"><a kind="i" href="javascript:;" target="_self" o="r">Reply</a><span class="item-control blog-admin pid-195722605"><a o="d" target="_self" href="https://www.blogger.com/delete-comment.g?blogID=7214097671310478681&amp;postID=2027969907999937248">Delete</a></span></span></div><div id="bc_0_137BR" class="comment-replies"></div><div id="bc_0_137B_box" class="comment-replybox-single"></div></li><li id="bc_0_139B" class="comment" kind="b"><div class="avatar-image-container"><img src="./read receiver_files/b16-rounded.gif"></div><div id="c2313710955702469522" class="comment-block"><div id="bc_0_139M" class="comment-header" kind="m"><cite class="user"><a rel="nofollow" href="https://www.blogger.com/profile/13311933630092885001">TheWhitde</a></cite><span class="icon user"></span><span class="datetime secondary-text"><a rel="nofollow" href="http://rcarduino.blogspot.com/2012/04/how-to-read-multiple-rc-channels-draft.html?showComment=1444934392861#c2313710955702469522">October 15, 2015 at 11:39 AM</a></span></div><p id="bc_0_139MC" class="comment-content">Good information. I've been editing some code that reads controllers in interrupts as you described and it makes no attempt to safeguard against updates at the wrong time. It was originally meant for an Arduino Uno but I'm porting to a 32 bit Teensy 3.1. Firstly all the channels were going into a single interrupt and then it did a lot of work to decide which one tripped it. I have since made it one routine for each channel which simplifies the code a lot and makes each interrupt as fast as possible. Most obvious is the variables can be updated at any time and used inconsistently in the main code. There is also nothing declared as volatile.</p><span id="bc_0_139MN" class="comment-actions secondary-text" kind="m"><a kind="i" href="javascript:;" target="_self" o="r">Reply</a><span class="item-control blog-admin pid-743450070"><a o="d" target="_self" href="https://www.blogger.com/delete-comment.g?blogID=7214097671310478681&amp;postID=2313710955702469522">Delete</a></span></span></div><div id="bc_0_139BR" class="comment-replies"><span id="bc_0_139b+seedB1l5D" kind="d"><div id="bc_0_138T" class="comment-thread inline-thread" kind="t" t="0" u="0"><span id="bc_0_138TT" class="thread-toggle thread-expanded" kind="g"><span id="bc_0_138TA" class="thread-arrow"></span><span id="bc_0_138TN" class="thread-count"><span id="bc_0_138TNT" style="display: none;"></span><span id="bc_0_138TNU" style="display: none;"></span><a href="javascript:;" target="_self">Replies</a><div id="bc_0_138TD" class="thread-dropContainer thread-expanded"><span class="thread-drop"></span></div></span></span><ol id="bc_0_138TC" class="thread-chrome thread-expanded"><div><li id="bc_0_138B" class="comment" kind="b"><div class="avatar-image-container"><img src="./read receiver_files/b16-rounded.gif"></div><div id="c2258078341566864416" class="comment-block"><div id="bc_0_138M" class="comment-header" kind="m"><cite class="user"><a rel="nofollow" href="https://www.blogger.com/profile/08472191540534079861">Unknown</a></cite><span class="icon user"></span><span class="datetime secondary-text"><a rel="nofollow" href="http://rcarduino.blogspot.com/2012/04/how-to-read-multiple-rc-channels-draft.html?showComment=1448327063115#c2258078341566864416">November 23, 2015 at 5:04 PM</a></span></div><p id="bc_0_138MC" class="comment-content">Are you making this available, I too use a Teensy from time to time.<br><br>Thanks!</p><span id="bc_0_138MN" class="comment-actions secondary-text" kind="m"><span class="item-control blog-admin pid-313306405"><a o="d" target="_self" href="https://www.blogger.com/delete-comment.g?blogID=7214097671310478681&amp;postID=2258078341566864416">Delete</a></span></span></div><div id="bc_0_138BR" class="comment-replies"></div><div id="bc_0_138B_box" class="comment-replybox-single"></div></li></div><div id="bc_0_138I" class="continue" kind="ci"><a href="javascript:;" target="_self">Reply</a></div></ol><div id="bc_0_138T_box" class="comment-replybox-thread"></div></div></span></div><div id="bc_0_139B_box" class="comment-replybox-single"></div></li><li id="bc_0_140B" class="comment" kind="b"><div class="avatar-image-container"><img src="./read receiver_files/blank.gif"></div><div id="c7705277709493986484" class="comment-block"><div id="bc_0_140M" class="comment-header" kind="m"><cite class="user">Anonymous</cite><span class="icon user"></span><span class="datetime secondary-text"><a rel="nofollow" href="http://rcarduino.blogspot.com/2012/04/how-to-read-multiple-rc-channels-draft.html?showComment=1452443010614#c7705277709493986484">January 10, 2016 at 8:23 AM</a></span></div><p id="bc_0_140MC" class="comment-content">Hi Dear<br>I am testing your upper code (Sample Code - MultiChannels rcarduino.blogspot.com) with an arduino Uno. I am not using a receiver for the input signal to the arduino, but the ESC output of a Pixhawk. The sample code is for 3 servo, and it's work quite fine. I have modify the code to use with 4 servos, and now it is slow and hacking.<br>Did you have an idea on whats wrong?<br>Thanks,<br>Olivier</p><span id="bc_0_140MN" class="comment-actions secondary-text" kind="m"><a kind="i" href="javascript:;" target="_self" o="r">Reply</a><span class="item-control blog-admin pid-1931952856"><a o="d" target="_self" href="https://www.blogger.com/delete-comment.g?blogID=7214097671310478681&amp;postID=7705277709493986484">Delete</a></span></span></div><div id="bc_0_140BR" class="comment-replies"></div><div id="bc_0_140B_box" class="comment-replybox-single"></div></li></ol><div id="bc_0_141I" class="continue" kind="ci" style="display: none;"><a href="javascript:;" target="_self">Add comment</a></div><div id="bc_0_141T_box" class="comment-replybox-thread"><iframe allowtransparency="true" class="blogger-iframe-colorize blogger-comment-from-post" frameborder="0" height="250px" id="comment-editor" name="comment-editor" src="./read receiver_files/comment-iframe.html" width="100%" style="display: block;" data-resized="true"></iframe></div><div id="bc_0_141L" class="loadmore loaded" kind="rb"><a href="javascript:;" target="_self">Load more...</a></div></div></div></div></div>
</div>
<p class="comment-footer">
</p><div class="comment-form">
<a name="comment-form"></a>
<p>
</p>
<a href="https://www.blogger.com/comment-iframe.g?blogID=7214097671310478681&amp;postID=1988199595784546015&amp;blogspotRpcToken=9655445" id="comment-editor-src"></a>

<script type="text/javascript" src="./read receiver_files/592886021-comment_from_post_iframe.js"></script>
<script type="text/javascript">
      BLOG_CMT_createIframe('https://www.blogger.com/rpc_relay.html');
    </script>
</div>
<p></p>
<div id="backlinks-container">
<div id="Blog1_backlinks-container">
</div>
</div>
</div>
</div>

        </div></div>
      
</div>
<div class="blog-pager" id="blog-pager">
<span id="blog-pager-newer-link">
<a class="blog-pager-newer-link" href="http://rcarduino.blogspot.in/2012/05/personal-lap-timer-countdown-to-launch.html" id="Blog1_blog-pager-newer-link" title="Newer Post">Newer Post</a>
</span>
<span id="blog-pager-older-link">
<a class="blog-pager-older-link" href="http://rcarduino.blogspot.in/2012/04/lap-timer-standalone-arduino.html" id="Blog1_blog-pager-older-link" title="Older Post">Older Post</a>
</span>
<a class="home-link" href="http://rcarduino.blogspot.in/">Home</a>
</div>
<div class="clear"></div>
<div class="post-feeds">
<div class="feed-links">
Subscribe to:
<a class="feed-link" href="http://rcarduino.blogspot.com/feeds/1988199595784546015/comments/default" target="_blank" type="application/atom+xml">Post Comments (Atom)</a>
</div>
</div>
<script type="text/javascript">window.___gcfg = {'lang': 'en'};</script>
</div></div>
</div>
</div>
<div class="column-left-outer">
<div class="column-left-inner">
<aside>
</aside>
</div>
</div>
<div class="column-right-outer">
<div class="column-right-inner">
<aside>
<div class="sidebar section" id="sidebar-right-1"><div class="widget Followers" data-version="1" id="Followers1">
<h2 class="title">Followers</h2>
<div class="widget-content">
<div id="Followers1-wrapper">
<div style="margin-right:2px;">
<script type="text/javascript">
      if (!window.google || !google.friendconnect) {
        document.write('<script type="text/javascript"' +
            'src="//www.google.com/friendconnect/script/friendconnect.js">' +
            '</scr' + 'ipt>');
      }
    </script><script type="text/javascript" src="./read receiver_files/friendconnect.js"></script>
<script type="text/javascript">
      if (!window.registeredBloggerCallbacks) {
        window.registeredBloggerCallbacks = true;

        

        
        gadgets.rpc.register('requestReload', function() {
          document.location.reload();
        });

        
        gadgets.rpc.register('requestSignOut', function(siteId) {
          
          google.friendconnect.container.openSocialSiteId = siteId;
          google.friendconnect.requestSignOut();
        });
      }
    </script>
<script type="text/javascript">
    
    function registerGetBlogUrls() {
      gadgets.rpc.register('getBlogUrls', function() {
        var holder = {};
        
          
            
            
              holder.currentPost = "https://www.blogger.com/feeds/7214097671310478681/posts/default/1988199595784546015";
            
            
            
              holder.currentComments = "https://www.blogger.com/feeds/7214097671310478681/1988199595784546015/comments/default";
            
            holder.currentPostUrl = "";
            holder.currentPostId = 1988199595784546015
          
          
          
            holder.postFeed = "https://www.blogger.com/feeds/7214097671310478681/posts/default";
          
          
          
            holder.commentFeed = "https://www.blogger.com/feeds/7214097671310478681/comments/default";
          
          holder.currentBlogUrl = "http://rcarduino.blogspot.com/";
          holder.currentBlogId = "7214097671310478681";
        
        return holder;
      });
    }
  </script>
<script type="text/javascript">
  if (!window.registeredCommonBloggerCallbacks) {
    window.registeredCommonBloggerCallbacks = true;

    gadgets.rpc.register('resize_iframe', function(height) {
      var el = document.getElementById(this['f']);
      if (el) {
        el.style.height = height + 'px';
      }
    });

    
    gadgets.rpc.register('set_pref', function() {});

    registerGetBlogUrls();
  }
  </script>
<div id="div-m90icatp42fn" style="width: 100%; visibility: visible;" class="gadgets-gadget-container"><div id="gfc_iframe_1557294995_0_body"><iframe id="gfc_iframe_1557294995_0" name="gfc_iframe_1557294995_0" style="width: 100%; height: 244px;" frameborder="0" scrolling="no" allowtransparency="true" height="260" src="./read receiver_files/saved_resource.html"></iframe></div></div>
<script type="text/javascript">
    var skin = {};
    skin['FACE_SIZE'] = '32';
    skin['HEIGHT'] = "260";
    skin['BORDER_COLOR'] = "transparent";
    skin['ENDCAP_BG_COLOR'] = "transparent";
    skin['ENDCAP_TEXT_COLOR'] = "#000000";
    skin['ENDCAP_LINK_COLOR'] = "#000000";
    
    skin['CONTENT_BG_COLOR'] = "transparent";
    skin['CONTENT_LINK_COLOR'] = "#000000";
    skin['CONTENT_TEXT_COLOR'] = "#000000";
    skin['CONTENT_SECONDARY_LINK_COLOR'] = "#000000";
    skin['CONTENT_SECONDARY_TEXT_COLOR'] = "#828282";
    skin['CONTENT_HEADLINE_COLOR'] = "#000000";
    google.friendconnect.container.setParentUrl("/");
    google.friendconnect.container["renderMembersGadget"](
    {id: "div-m90icatp42fn",
     height: 260,
     
     
     
     site: "05458589471073034558",
     locale: 'en' },
     skin);
  </script>
</div>
</div>
<div class="clear"></div>
<span class="widget-item-control">
<span class="item-control blog-admin">
<a class="quickedit" href="http://www.blogger.com/rearrange?blogID=7214097671310478681&amp;widgetType=Followers&amp;widgetId=Followers1&amp;action=editWidget&amp;sectionId=sidebar-right-1" onclick="return _WidgetManager._PopupConfig(document.getElementById(&quot;Followers1&quot;));" target="configFollowers1" title="Edit">
<img alt="" height="18" src="./read receiver_files/icon18_wrench_allbkg.png" width="18">
</a>
</span>
</span>
<div class="clear"></div>
</div>
</div><div class="widget CustomSearch" data-version="1" id="CustomSearch1">
<h2 class="title">Search This Blog</h2>
<div class="widget-content">
<div id="CustomSearch1_form"><form class="gsc-search-box" accept-charset="utf-8"><table cellspacing="0" cellpadding="0" class="gsc-search-box"><tbody><tr><td class="gsc-input"><input autocomplete="off" type="text" size="10" class=" gsc-input" name="search" title="search"><input type="hidden" name="bgresponse" id="bgresponse"></td><td class="gsc-search-button"><input type="submit" value="Search" class="gsc-search-button" title="search"></td></tr></tbody></table><table cellspacing="0" cellpadding="0" class="gsc-branding"><tbody><tr style="display: none;"><td class="gsc-branding-user-defined"></td><td class="gsc-branding-text"><div class="gsc-branding-text">powered by</div></td><td class="gsc-branding-img-noclear"><img src="./read receiver_files/small-logo.png" class="gsc-branding-img-noclear"></td></tr></tbody></table></form></div>
</div>
<style type="text/css">
      #uds-searchControl .gs-result .gs-title,
      #uds-searchControl .gs-result .gs-title *,
      #uds-searchControl .gsc-results .gsc-trailing-more-results,
      #uds-searchControl .gsc-results .gsc-trailing-more-results * {
        color:#000000;
      }

      #uds-searchControl .gs-result .gs-title a:visited,
      #uds-searchControl .gs-result .gs-title a:visited * {
        color:#726086;
      }

      #uds-searchControl .gs-relativePublishedDate,
      #uds-searchControl .gs-publishedDate {
        color: #000000;
      }

      #uds-searchControl .gs-result a.gs-visibleUrl,
      #uds-searchControl .gs-result .gs-visibleUrl {
        color: #000000;
      }

      #uds-searchControl .gsc-results {
        border-color: #d3d3d3;
        background-color: #ffffff;
      }

      #uds-searchControl .gsc-tabhActive {
        border-color: #d3d3d3;
        border-top-color: #d3d3d3;
        background-color: #ffffff;
        color: #000000;
      }

      #uds-searchControl .gsc-tabhInactive {
        border-color: #d3d3d3;
        background-color: transparent;
        color: #000000;
      }

      #uds-searchClearResults {
        border-color: #d3d3d3;
      }

      #uds-searchClearResults:hover {
        border-color: #d3d3d3;
      }

      #uds-searchControl .gsc-cursor-page {
        color: #000000;
      }

      #uds-searchControl .gsc-cursor-current-page {
        color: #000000;
      }
    </style>
<div class="clear"></div>
<span class="widget-item-control">
<span class="item-control blog-admin">
<a class="quickedit" href="http://www.blogger.com/rearrange?blogID=7214097671310478681&amp;widgetType=CustomSearch&amp;widgetId=CustomSearch1&amp;action=editWidget&amp;sectionId=sidebar-right-1" onclick="return _WidgetManager._PopupConfig(document.getElementById(&quot;CustomSearch1&quot;));" target="configCustomSearch1" title="Edit">
<img alt="" height="18" src="./read receiver_files/icon18_wrench_allbkg.png" width="18">
</a>
</span>
</span>
<div class="clear"></div>
</div><div class="widget FollowByEmail" data-version="1" id="FollowByEmail1">
<h2 class="title">Follow by Email</h2>
<div class="widget-content">
<div class="follow-by-email-inner">
<form action="https://feedburner.google.com/fb/a/mailverify" method="post" onsubmit="window.open(&quot;https://feedburner.google.com/fb/a/mailverify?uri=RcCarMeetsArduino&quot;, &quot;popupwindow&quot;, &quot;scrollbars=yes,width=550,height=520&quot;); return true" target="popupwindow">
<table width="100%">
<tbody><tr>
<td>
<input class="follow-by-email-address" name="email" placeholder="Email address..." type="text">
</td>
<td width="64px">
<input class="follow-by-email-submit" type="submit" value="Submit">
</td>
</tr>
</tbody></table>
<input name="uri" type="hidden" value="RcCarMeetsArduino">
<input name="loc" type="hidden" value="en_US">
</form>
</div>
</div>
<span class="item-control blog-admin">
<div class="clear"></div>
<span class="widget-item-control">
<span class="item-control blog-admin">
<a class="quickedit" href="http://www.blogger.com/rearrange?blogID=7214097671310478681&amp;widgetType=FollowByEmail&amp;widgetId=FollowByEmail1&amp;action=editWidget&amp;sectionId=sidebar-right-1" onclick="return _WidgetManager._PopupConfig(document.getElementById(&quot;FollowByEmail1&quot;));" target="configFollowByEmail1" title="Edit">
<img alt="" height="18" src="./read receiver_files/icon18_wrench_allbkg.png" width="18">
</a>
</span>
</span>
<div class="clear"></div>
</span>
</div><div class="widget PopularPosts" data-version="1" id="PopularPosts1">
<h2>Popular Posts</h2>
<div class="widget-content popular-posts">
<ul>
<li>
<div class="item-content">
<div class="item-thumbnail">
<a href="http://rcarduino.blogspot.in/2012/01/how-to-read-rc-receiver-with.html" target="_blank">
<img alt="" border="0" src="./read receiver_files/PulseTrain.PNG">
</a>
</div>
<div class="item-title"><a href="http://rcarduino.blogspot.in/2012/01/how-to-read-rc-receiver-with.html">How To Read an RC Receiver With A Microcontroller - Part 1</a></div>
<div class="item-snippet"> Its a very common question, ' How do I read an RC Receiver with my micro controller ' and the answer is often very simple however t...</div>
</div>
<div style="clear: both;"></div>
</li>
<li>
<div class="item-content">
<div class="item-thumbnail">
<a href="http://rcarduino.blogspot.in/2012/04/servo-problems-with-arduino-part-1.html" target="_blank">
<img alt="" border="0" src="./read receiver_files/servos.PNG">
</a>
</div>
<div class="item-title"><a href="http://rcarduino.blogspot.in/2012/04/servo-problems-with-arduino-part-1.html">Servo Problems With Arduino - Part 1</a></div>
<div class="item-snippet">     Servo problems are one of the most frequently posted topics within the Arduino community. While problems may arise from programming, ci...</div>
</div>
<div style="clear: both;"></div>
</li>
<li>
<div class="item-content">
<div class="item-thumbnail">
<a href="http://rcarduino.blogspot.in/2012/11/how-to-read-rc-receiver-ppm-stream.html" target="_blank">
<img alt="" border="0" src="./read receiver_files/PPMlabel.PNG">
</a>
</div>
<div class="item-title"><a href="http://rcarduino.blogspot.in/2012/11/how-to-read-rc-receiver-ppm-stream.html">How To Read RC Receiver PPM Stream</a></div>
<div class="item-snippet"> Many RC Transmitters and Receivers provide access to the PPM Stream, this is a single stream of pulses which includes the information for a...</div>
</div>
<div style="clear: both;"></div>
</li>
<li>
<div class="item-content">
<div class="item-title"><a href="http://rcarduino.blogspot.in/2012/04/how-to-read-multiple-rc-channels-draft.html">How To Read Multiple RC Channels</a></div>
<div class="item-snippet"> This post builds on previous posts to show a technique for reading multiple radio control receiver channels using an Arduino.   Update 27/0...</div>
</div>
<div style="clear: both;"></div>
</li>
<li>
<div class="item-content">
<div class="item-thumbnail">
<a href="http://rcarduino.blogspot.in/2012/07/lap-timer-build-along-part-one.html" target="_blank">
<img alt="" border="0" src="./read receiver_files/parts1.PNG">
</a>
</div>
<div class="item-title"><a href="http://rcarduino.blogspot.in/2012/07/lap-timer-build-along-part-one.html">Lap Timer Build Along Part One</a></div>
<div class="item-snippet">      RCArduinoPersonalLapTimer  by DuaneB  is licensed under a Creative Commons Attribution-NonCommercial-ShareAlike 3.0 Unported License ....</div>
</div>
<div style="clear: both;"></div>
</li>
<li>
<div class="item-content">
<div class="item-title"><a href="http://rcarduino.blogspot.in/2013/04/the-problem-and-solutions-with-arduino.html">The Problem ( and Solutions ) With Arduino Interrupts</a></div>
<div class="item-snippet"> If you have ever tried to port an Arduino project that uses interrupts from one board type to another, you have probably experienced frustr...</div>
</div>
<div style="clear: both;"></div>
</li>
<li>
<div class="item-content">
<div class="item-title"><a href="http://rcarduino.blogspot.in/2012/01/can-i-control-more-than-x-servos-with.html">Can I Control More Than X Servos With An Arduino ?</a></div>
<div class="item-snippet">Yes, Yes, Yes, infact 'Yes' Twelve Times.   The Servo library for the Arduino UNO allows the control of upto 12 Servos on a single A...</div>
</div>
<div style="clear: both;"></div>
</li>
<li>
<div class="item-content">
<div class="item-thumbnail">
<a href="http://rcarduino.blogspot.in/2012/08/adding-audio-to-arduino-projects.html" target="_blank">
<img alt="" border="0" src="./read receiver_files/Auduino.PNG">
</a>
</div>
<div class="item-title"><a href="http://rcarduino.blogspot.in/2012/08/adding-audio-to-arduino-projects.html">Adding Audio to Arduino Projects</a></div>
<div class="item-snippet">     Sometimes a project just needs to be louder, whether its a synthesizer, alarm clock, autonomous robot or the RC Arduino lap timer.   In...</div>
</div>
<div style="clear: both;"></div>
</li>
<li>
<div class="item-content">
<div class="item-thumbnail">
<a href="http://rcarduino.blogspot.in/2012/12/arduino-due-dds-part-1-sinewaves-and.html" target="_blank">
<img alt="" border="0" src="./read receiver_files/sinewave.PNG">
</a>
</div>
<div class="item-title"><a href="http://rcarduino.blogspot.in/2012/12/arduino-due-dds-part-1-sinewaves-and.html">Arduino Due DDS - Part 1 - Sinewaves and Fixed Point Maths</a></div>
<div class="item-snippet"> This post provides a quick introduction to Direct Digital Synthesis (DDS) on the Arduino Due. The sample sketch outputs a sinewave at a 44....</div>
</div>
<div style="clear: both;"></div>
</li>
<li>
<div class="item-content">
<div class="item-thumbnail">
<a href="http://rcarduino.blogspot.in/2012/11/how-to-read-rc-channels-rcarduinofastlib.html" target="_blank">
<img alt="" border="0" src="./read receiver_files/servoclash.PNG">
</a>
</div>
<div class="item-title"><a href="http://rcarduino.blogspot.in/2012/11/how-to-read-rc-channels-rcarduinofastlib.html">How to read RC Channels - The RCArduinoFastLib</a></div>
<div class="item-snippet"> Background - The problem we are solving.   Your Arduino can only do one thing at a time, when one interrupt occurs no others can run until ...</div>
</div>
<div style="clear: both;"></div>
</li>
</ul>
<div class="clear"></div>
<span class="widget-item-control">
<span class="item-control blog-admin">
<a class="quickedit" href="http://www.blogger.com/rearrange?blogID=7214097671310478681&amp;widgetType=PopularPosts&amp;widgetId=PopularPosts1&amp;action=editWidget&amp;sectionId=sidebar-right-1" onclick="return _WidgetManager._PopupConfig(document.getElementById(&quot;PopularPosts1&quot;));" target="configPopularPosts1" title="Edit">
<img alt="" height="18" src="./read receiver_files/icon18_wrench_allbkg.png" width="18">
</a>
</span>
</span>
<div class="clear"></div>
</div>
</div><div class="widget BlogArchive" data-version="1" id="BlogArchive1">
<h2>Blog Archive</h2>
<div class="widget-content">
<div id="ArchiveList">
<div id="BlogArchive1_ArchiveList">
<ul class="hierarchy">
<li class="archivedate collapsed">
<a class="toggle" href="javascript:void(0)">
<span class="zippy">

        &nbsp;
      
</span>
</a>
<a class="post-count-link" href="http://rcarduino.blogspot.in/search?updated-min=2014-01-01T00:00:00-08:00&amp;updated-max=2015-01-01T00:00:00-08:00&amp;max-results=1">
2014
</a>
<span class="post-count" dir="ltr">(1)</span>
<ul class="hierarchy">
<li class="archivedate collapsed">
<a class="toggle" href="javascript:void(0)">
<span class="zippy">

        &nbsp;
      
</span>
</a>
<a class="post-count-link" href="http://rcarduino.blogspot.in/2014_02_01_archive.html">
February
</a>
<span class="post-count" dir="ltr">(1)</span>
</li>
</ul>
</li>
</ul>
<ul class="hierarchy">
<li class="archivedate collapsed">
<a class="toggle" href="javascript:void(0)">
<span class="zippy">

        &nbsp;
      
</span>
</a>
<a class="post-count-link" href="http://rcarduino.blogspot.in/search?updated-min=2013-01-01T00:00:00-08:00&amp;updated-max=2014-01-01T00:00:00-08:00&amp;max-results=8">
2013
</a>
<span class="post-count" dir="ltr">(8)</span>
<ul class="hierarchy">
<li class="archivedate collapsed">
<a class="toggle" href="javascript:void(0)">
<span class="zippy">

        &nbsp;
      
</span>
</a>
<a class="post-count-link" href="http://rcarduino.blogspot.in/2013_07_01_archive.html">
July
</a>
<span class="post-count" dir="ltr">(1)</span>
</li>
</ul>
<ul class="hierarchy">
<li class="archivedate collapsed">
<a class="toggle" href="javascript:void(0)">
<span class="zippy">

        &nbsp;
      
</span>
</a>
<a class="post-count-link" href="http://rcarduino.blogspot.in/2013_06_01_archive.html">
June
</a>
<span class="post-count" dir="ltr">(1)</span>
</li>
</ul>
<ul class="hierarchy">
<li class="archivedate collapsed">
<a class="toggle" href="javascript:void(0)">
<span class="zippy">

        &nbsp;
      
</span>
</a>
<a class="post-count-link" href="http://rcarduino.blogspot.in/2013_04_01_archive.html">
April
</a>
<span class="post-count" dir="ltr">(3)</span>
</li>
</ul>
<ul class="hierarchy">
<li class="archivedate collapsed">
<a class="toggle" href="javascript:void(0)">
<span class="zippy">

        &nbsp;
      
</span>
</a>
<a class="post-count-link" href="http://rcarduino.blogspot.in/2013_02_01_archive.html">
February
</a>
<span class="post-count" dir="ltr">(2)</span>
</li>
</ul>
<ul class="hierarchy">
<li class="archivedate collapsed">
<a class="toggle" href="javascript:void(0)">
<span class="zippy">

        &nbsp;
      
</span>
</a>
<a class="post-count-link" href="http://rcarduino.blogspot.in/2013_01_01_archive.html">
January
</a>
<span class="post-count" dir="ltr">(1)</span>
</li>
</ul>
</li>
</ul>
<ul class="hierarchy">
<li class="archivedate expanded">
<a class="toggle" href="javascript:void(0)">
<span class="zippy toggle-open">

        &nbsp;
      
</span>
</a>
<a class="post-count-link" href="http://rcarduino.blogspot.in/search?updated-min=2012-01-01T00:00:00-08:00&amp;updated-max=2013-01-01T00:00:00-08:00&amp;max-results=50">
2012
</a>
<span class="post-count" dir="ltr">(55)</span>
<ul class="hierarchy">
<li class="archivedate collapsed">
<a class="toggle" href="javascript:void(0)">
<span class="zippy">

        &nbsp;
      
</span>
</a>
<a class="post-count-link" href="http://rcarduino.blogspot.in/2012_12_01_archive.html">
December
</a>
<span class="post-count" dir="ltr">(2)</span>
</li>
</ul>
<ul class="hierarchy">
<li class="archivedate collapsed">
<a class="toggle" href="javascript:void(0)">
<span class="zippy">

        &nbsp;
      
</span>
</a>
<a class="post-count-link" href="http://rcarduino.blogspot.in/2012_11_01_archive.html">
November
</a>
<span class="post-count" dir="ltr">(6)</span>
</li>
</ul>
<ul class="hierarchy">
<li class="archivedate collapsed">
<a class="toggle" href="javascript:void(0)">
<span class="zippy">

        &nbsp;
      
</span>
</a>
<a class="post-count-link" href="http://rcarduino.blogspot.in/2012_10_01_archive.html">
October
</a>
<span class="post-count" dir="ltr">(7)</span>
</li>
</ul>
<ul class="hierarchy">
<li class="archivedate collapsed">
<a class="toggle" href="javascript:void(0)">
<span class="zippy">

        &nbsp;
      
</span>
</a>
<a class="post-count-link" href="http://rcarduino.blogspot.in/2012_09_01_archive.html">
September
</a>
<span class="post-count" dir="ltr">(4)</span>
</li>
</ul>
<ul class="hierarchy">
<li class="archivedate collapsed">
<a class="toggle" href="javascript:void(0)">
<span class="zippy">

        &nbsp;
      
</span>
</a>
<a class="post-count-link" href="http://rcarduino.blogspot.in/2012_08_01_archive.html">
August
</a>
<span class="post-count" dir="ltr">(8)</span>
</li>
</ul>
<ul class="hierarchy">
<li class="archivedate collapsed">
<a class="toggle" href="javascript:void(0)">
<span class="zippy">

        &nbsp;
      
</span>
</a>
<a class="post-count-link" href="http://rcarduino.blogspot.in/2012_07_01_archive.html">
July
</a>
<span class="post-count" dir="ltr">(2)</span>
</li>
</ul>
<ul class="hierarchy">
<li class="archivedate collapsed">
<a class="toggle" href="javascript:void(0)">
<span class="zippy">

        &nbsp;
      
</span>
</a>
<a class="post-count-link" href="http://rcarduino.blogspot.in/2012_05_01_archive.html">
May
</a>
<span class="post-count" dir="ltr">(4)</span>
</li>
</ul>
<ul class="hierarchy">
<li class="archivedate expanded">
<a class="toggle" href="javascript:void(0)">
<span class="zippy toggle-open">

        &nbsp;
      
</span>
</a>
<a class="post-count-link" href="http://rcarduino.blogspot.in/2012_04_01_archive.html">
April
</a>
<span class="post-count" dir="ltr">(4)</span>
<ul class="posts">
<li><a href="http://rcarduino.blogspot.in/2012/04/how-to-read-multiple-rc-channels-draft.html">How To Read Multiple RC Channels</a></li>
<li><a href="http://rcarduino.blogspot.in/2012/04/lap-timer-standalone-arduino.html">Lap Timer - Standalone Arduino</a></li>
<li><a href="http://rcarduino.blogspot.in/2012/04/servo-problems-part-2-demonstration.html">Servo Problems - Part 2 - A Demonstration</a></li>
<li><a href="http://rcarduino.blogspot.in/2012/04/servo-problems-with-arduino-part-1.html">Servo Problems With Arduino - Part 1</a></li>
</ul>
</li>
</ul>
<ul class="hierarchy">
<li class="archivedate collapsed">
<a class="toggle" href="javascript:void(0)">
<span class="zippy">

        &nbsp;
      
</span>
</a>
<a class="post-count-link" href="http://rcarduino.blogspot.in/2012_03_01_archive.html">
March
</a>
<span class="post-count" dir="ltr">(6)</span>
</li>
</ul>
<ul class="hierarchy">
<li class="archivedate collapsed">
<a class="toggle" href="javascript:void(0)">
<span class="zippy">

        &nbsp;
      
</span>
</a>
<a class="post-count-link" href="http://rcarduino.blogspot.in/2012_02_01_archive.html">
February
</a>
<span class="post-count" dir="ltr">(5)</span>
</li>
</ul>
<ul class="hierarchy">
<li class="archivedate collapsed">
<a class="toggle" href="javascript:void(0)">
<span class="zippy">

        &nbsp;
      
</span>
</a>
<a class="post-count-link" href="http://rcarduino.blogspot.in/2012_01_01_archive.html">
January
</a>
<span class="post-count" dir="ltr">(7)</span>
</li>
</ul>
</li>
</ul>
<ul class="hierarchy">
<li class="archivedate collapsed">
<a class="toggle" href="javascript:void(0)">
<span class="zippy">

        &nbsp;
      
</span>
</a>
<a class="post-count-link" href="http://rcarduino.blogspot.in/search?updated-min=2011-01-01T00:00:00-08:00&amp;updated-max=2012-01-01T00:00:00-08:00&amp;max-results=9">
2011
</a>
<span class="post-count" dir="ltr">(9)</span>
<ul class="hierarchy">
<li class="archivedate collapsed">
<a class="toggle" href="javascript:void(0)">
<span class="zippy">

        &nbsp;
      
</span>
</a>
<a class="post-count-link" href="http://rcarduino.blogspot.in/2011_12_01_archive.html">
December
</a>
<span class="post-count" dir="ltr">(9)</span>
</li>
</ul>
</li>
</ul>
</div>
</div>
<div class="clear"></div>
<span class="widget-item-control">
<span class="item-control blog-admin">
<a class="quickedit" href="http://www.blogger.com/rearrange?blogID=7214097671310478681&amp;widgetType=BlogArchive&amp;widgetId=BlogArchive1&amp;action=editWidget&amp;sectionId=sidebar-right-1" onclick="return _WidgetManager._PopupConfig(document.getElementById(&quot;BlogArchive1&quot;));" target="configBlogArchive1" title="Edit">
<img alt="" height="18" src="./read receiver_files/icon18_wrench_allbkg.png" width="18">
</a>
</span>
</span>
<div class="clear"></div>
</div>
</div></div>
</aside>
</div>
</div>
</div>
<div style="clear: both"></div>
<!-- columns -->
</div>
<!-- main -->
</div>
</div>
<div class="main-cap-bottom cap-bottom">
<div class="cap-left"></div>
<div class="cap-right"></div>
</div>
</div>
<footer>
<div class="footer-outer">
<div class="footer-cap-top cap-top">
<div class="cap-left"></div>
<div class="cap-right"></div>
</div>
<div class="fauxborder-left footer-fauxborder-left">
<div class="fauxborder-right footer-fauxborder-right"></div>
<div class="region-inner footer-inner">
<div class="foot no-items section" id="footer-1"></div>
<table border="0" cellpadding="0" cellspacing="0" class="section-columns columns-2">
<tbody>
<tr>
<td class="first columns-cell">
<div class="foot no-items section" id="footer-2-1"></div>
</td>
<td class="columns-cell">
<div class="foot no-items section" id="footer-2-2"></div>
</td>
</tr>
</tbody>
</table>
<!-- outside of the include in order to lock Attribution widget -->
<div class="foot section" id="footer-3" name="Footer"><div class="widget Attribution" data-version="1" id="Attribution1">
<div class="widget-content" style="text-align: center;">
Simple template. Template images by <a href="http://www.istockphoto.com/googleimages.php?id=6201476&amp;platform=blogger&amp;langregion=en" target="_blank">sbayram</a>. Powered by <a href="https://www.blogger.com/" target="_blank">Blogger</a>.
</div>
<div class="clear"></div>
<span class="widget-item-control">
<span class="item-control blog-admin">
<a class="quickedit" href="http://www.blogger.com/rearrange?blogID=7214097671310478681&amp;widgetType=Attribution&amp;widgetId=Attribution1&amp;action=editWidget&amp;sectionId=footer-3" onclick="return _WidgetManager._PopupConfig(document.getElementById(&quot;Attribution1&quot;));" target="configAttribution1" title="Edit">
<img alt="" height="18" src="./read receiver_files/icon18_wrench_allbkg.png" width="18">
</a>
</span>
</span>
<div class="clear"></div>
</div></div>
</div>
</div>
<div class="footer-cap-bottom cap-bottom">
<div class="cap-left"></div>
<div class="cap-right"></div>
</div>
</div>
</footer>
<!-- content -->
</div>
</div>
<div class="content-cap-bottom cap-bottom">
<div class="cap-left"></div>
<div class="cap-right"></div>
</div>
</div>
</div>
<script type="text/javascript">
    window.setTimeout(function() {
        document.body.className = document.body.className.replace('loading', '');
      }, 10);
  </script>
<script type="text/javascript">
if (window.jstiming) window.jstiming.load.tick('widgetJsBefore');
</script><script type="text/javascript" src="./read receiver_files/3916107237-widgets.js"></script>
<script type="text/javascript" src="./read receiver_files/plusone.js" gapi_processed="true"></script>
<script type="text/javascript" src="./read receiver_files/jsapi"></script>
<script type="text/javascript">
if (typeof(BLOG_attachCsiOnload) != 'undefined' && BLOG_attachCsiOnload != null) { window['blogger_templates_experiment_id'] = "templatesV2";window['blogger_blog_id'] = '7214097671310478681';BLOG_attachCsiOnload('item_'); }_WidgetManager._Init('//www.blogger.com/rearrange?blogID\x3d7214097671310478681','//rcarduino.blogspot.in/2012/04/how-to-read-multiple-rc-channels-draft.html','7214097671310478681');
_WidgetManager._SetDataContext([{'name': 'blog', 'data': {'blogId': '7214097671310478681', 'bloggerUrl': 'https://www.blogger.com', 'title': 'RCArduino', 'pageType': 'item', 'postId': '1988199595784546015', 'url': 'http://rcarduino.blogspot.in/2012/04/how-to-read-multiple-rc-channels-draft.html', 'canonicalUrl': 'http://rcarduino.blogspot.com/2012/04/how-to-read-multiple-rc-channels-draft.html', 'homepageUrl': 'http://rcarduino.blogspot.in/', 'searchUrl': 'http://rcarduino.blogspot.in/search', 'canonicalHomepageUrl': 'http://rcarduino.blogspot.com/', 'blogspotFaviconUrl': 'http://rcarduino.blogspot.in/favicon.ico', 'enabledCommentProfileImages': true, 'adultContent': false, 'analyticsAccountNumber': '', 'useUniversalAnalytics': false, 'pageName': 'How To Read Multiple RC Channels', 'pageTitle': 'RCArduino: How To Read Multiple RC Channels', 'encoding': 'UTF-8', 'locale': 'en', 'localeUnderscoreDelimited': 'en', 'isPrivate': false, 'isMobile': false, 'isMobileRequest': false, 'mobileClass': '', 'isPrivateBlog': false, 'languageDirection': 'ltr', 'feedLinks': '\x3clink rel\x3d\x22alternate\x22 type\x3d\x22application/atom+xml\x22 title\x3d\x22RCArduino - Atom\x22 href\x3d\x22http://rcarduino.blogspot.com/feeds/posts/default\x22 /\x3e\n\x3clink rel\x3d\x22alternate\x22 type\x3d\x22application/rss+xml\x22 title\x3d\x22RCArduino - RSS\x22 href\x3d\x22http://rcarduino.blogspot.com/feeds/posts/default?alt\x3drss\x22 /\x3e\n\x3clink rel\x3d\x22service.post\x22 type\x3d\x22application/atom+xml\x22 title\x3d\x22RCArduino - Atom\x22 href\x3d\x22https://www.blogger.com/feeds/7214097671310478681/posts/default\x22 /\x3e\n\n\x3clink rel\x3d\x22alternate\x22 type\x3d\x22application/atom+xml\x22 title\x3d\x22RCArduino - Atom\x22 href\x3d\x22http://rcarduino.blogspot.com/feeds/1988199595784546015/comments/default\x22 /\x3e\n', 'meTag': '', 'openIdOpTag': '', 'latencyHeadScript': '\x3cscript type\x3d\x22text/javascript\x22\x3e(function() { (function(){function c(a){this.t\x3d{};this.tick\x3dfunction(a,c,b){var d\x3dvoid 0!\x3db?b:(new Date).getTime();this.t[a]\x3d[d,c];if(void 0\x3d\x3db)try{window.console.timeStamp(\x22CSI/\x22+a)}catch(e){}};this.tick(\x22start\x22,null,a)}var a;window.performance\x26\x26(a\x3dwindow.performance.timing);var h\x3da?new c(a.responseStart):new c;window.jstiming\x3d{Timer:c,load:h};if(a){var b\x3da.navigationStart,e\x3da.responseStart;0\x3cb\x26\x26e\x3e\x3db\x26\x26(window.jstiming.srt\x3de-b)}if(a){var d\x3dwindow.jstiming.load;0\x3cb\x26\x26e\x3e\x3db\x26\x26(d.tick(\x22_wtsrt\x22,void 0,b),d.tick(\x22wtsrt_\x22,\n\x22_wtsrt\x22,e),d.tick(\x22tbsd_\x22,\x22wtsrt_\x22))}try{a\x3dnull,window.chrome\x26\x26window.chrome.csi\x26\x26(a\x3dMath.floor(window.chrome.csi().pageT),d\x26\x260\x3cb\x26\x26(d.tick(\x22_tbnd\x22,void 0,window.chrome.csi().startE),d.tick(\x22tbnd_\x22,\x22_tbnd\x22,b))),null\x3d\x3da\x26\x26window.gtbExternal\x26\x26(a\x3dwindow.gtbExternal.pageT()),null\x3d\x3da\x26\x26window.external\x26\x26(a\x3dwindow.external.pageT,d\x26\x260\x3cb\x26\x26(d.tick(\x22_tbnd\x22,void 0,window.external.startE),d.tick(\x22tbnd_\x22,\x22_tbnd\x22,b))),a\x26\x26(window.jstiming.pt\x3da)}catch(k){}})();window.tickAboveFold\x3dfunction(c){var a\x3d0;if(c.offsetParent){do a+\x3dc.offsetTop;while(c\x3dc.offsetParent)}c\x3da;750\x3e\x3dc\x26\x26window.jstiming.load.tick(\x22aft\x22)};var f\x3d!1;function g(){f||(f\x3d!0,window.jstiming.load.tick(\x22firstScrollTime\x22))}window.addEventListener?window.addEventListener(\x22scroll\x22,g,!1):window.attachEvent(\x22onscroll\x22,g);\n })();\x3c/script\x3e', 'mobileHeadScript': '', 'adsenseHostId': 'ca-host-pub-1556223355139109', 'ieCssRetrofitLinks': '\x3c!--[if IE]\x3e\x3cscript type\x3d\x22text/javascript\x22 src\x3d\x22https://www.blogger.com/static/v1/jsbin/2193475453-ieretrofit.js\x22\x3e\x3c/script\x3e\n\x3c![endif]--\x3e', 'view': '', 'dynamicViewsCommentsSrc': '//www.blogblog.com/dynamicviews/4224c15c4e7c9321/js/comments.js', 'dynamicViewsScriptSrc': '//www.blogblog.com/dynamicviews/8d34ac2151f1a350', 'plusOneApiSrc': 'https://apis.google.com/js/plusone.js', 'sharing': {'platforms': [{'name': 'Get link', 'key': 'link', 'shareMessage': 'Get link', 'target': ''}, {'name': 'Facebook', 'key': 'facebook', 'shareMessage': 'Share to Facebook', 'target': 'facebook'}, {'name': 'BlogThis!', 'key': 'blogThis', 'shareMessage': 'BlogThis!', 'target': 'blog'}, {'name': 'Twitter', 'key': 'twitter', 'shareMessage': 'Share to Twitter', 'target': 'twitter'}, {'name': 'Pinterest', 'key': 'pinterest', 'shareMessage': 'Share to Pinterest', 'target': 'pinterest'}, {'name': 'Google+', 'key': 'googlePlus', 'shareMessage': 'Share to Google+', 'target': 'googleplus'}, {'name': 'Email', 'key': 'email', 'shareMessage': 'Email', 'target': 'email'}], 'googlePlusShareButtonWidth': 300, 'googlePlusBootstrap': '\x3cscript type\x3d\x22text/javascript\x22\x3ewindow.___gcfg \x3d {\x27lang\x27: \x27en\x27};\x3c/script\x3e'}}}, {'name': 'features', 'data': {'templateBrowserTheme': true, 'widgetVisibility': true}}, {'name': 'messages', 'data': {'adsGoHere': 'Ads go here', 'archive': 'Archive', 'authorSaid': '%1 said...', 'authorSaidWithLink': '\x3ca href\x3d\x22%2\x22 rel\x3d\x22nofollow\x22\x3e%1\x3c/a\x3e said...', 'blogArchive': 'Blog Archive', 'by': 'By', 'byAuthor': 'By %1', 'byAuthorLink': 'By \x3ca href\x3d\x22%2\x22\x3e%1\x3c/a\x3e', 'configurationRequired': 'Configuration required', 'deleteBacklink': 'Delete Backlink', 'deleteComment': 'Delete Comment', 'edit': 'Edit', 'emailAddress': 'Email Address', 'getEmailNotifications': 'Get email notifications', 'hidden': 'Hidden', 'home': 'Home', 'keepReading': 'Keep reading', 'labels': 'Labels', 'loadMorePosts': 'Load more posts', 'loading': 'Loading...', 'myBlogList': 'My Blog List', 'myFavoriteSites': 'My favorite sites', 'newer': 'Newer', 'newerPosts': 'Newer Posts', 'newest': 'Newest', 'noResultsFound': 'No results found', 'noTitle': 'No title', 'numberOfComments': '{numComments, plural, \x3d0 {No comments} \x3d1 {1 comment} other {# comments}}', 'older': 'Older', 'olderPosts': 'Older Posts', 'oldest': 'Oldest', 'onlyTeamMembersCanComment': 'Note: Only a member of this blog may post a comment.', 'popularPosts': 'Popular Posts', 'popularPostsFromThisBlog': 'Popular posts from this blog', 'postAComment': 'Post a Comment', 'postedBy': 'Posted by', 'postedByAuthor': 'Posted by %1', 'postedByAuthorLink': 'Posted by \x3ca href\x3d\x22%2\x22\x3e%1\x3c/a\x3e', 'readMore': 'Read more', 'recentPosts': 'Recent posts', 'reportAbuse': 'Report Abuse', 'search': 'Search', 'searchBlog': 'Search blog', 'share': 'Share', 'showAll': 'Show all', 'showLess': 'Show less', 'showMore': 'Show more', 'someOfMyFavoriteSites': 'Some of my favorite sites', 'subscribe': 'Subscribe', 'subscribeTo': 'Subscribe to:', 'subscribeToThisBlog': 'Subscribe to this blog', 'theresNothingHere': 'There\x27s nothing here!', 'viewAll': 'View all', 'visible': 'Visible', 'visitProfile': 'Visit profile', 'widgetNotAvailableInPreview': 'This content is not available in blog preview.', 'widgetNotAvailableOnHttps': 'This content is not yet available over encrypted connections.'}}, {'name': 'skin', 'data': {'vars': {'post_footer_background_color': '#f1f1f1', 'tabs_text_color': '#000000', 'date_header_letterspacing': 'inherit', 'content_shadow_spread': '0', 'body_background_override': 'background-attachment: scroll;', 'body_background': '#449FCE url(//themes.googleusercontent.com/image?id\x3d1Yx8_G17Y2iq1fILozyAWpw3LAZeJbkpUPBHtfpEQEFq8iTjs7OGWHGzrzrhHaA_-5r-D) no-repeat fixed top center /* Credit: sbayram (http://www.istockphoto.com/googleimages.php?id\x3d6201476\x26platform\x3dblogger) */', 'description_text_size': '200%', 'mobile_background_size': 'auto', 'header_shadow_spread': '0', 'image_border_color': '#e5e5e5', 'date_header_color': '#000000', 'header_shadow_offset_top': '0', 'header_border_horizontalsize': '0', 'widget_title_font': 'normal bold 11px Arial, Tahoma, Helvetica, FreeSans, sans-serif', 'tabs_border_color': '#d3d3d3', 'tabs_bevel_border_width': '0', 'body_background_gradient_tile': 'none', 'description_text_color': '#000000', 'main_section_margin': '15px', 'post_title_font': 'normal normal 22px Arial, Tahoma, Helvetica, FreeSans, sans-serif', 'page_width': '100%', 'paging_background': 'transparent none no-repeat scroll top center', 'body_text_color': '#000000', 'content_padding': '0', 'header_background_gradient': 'none', 'post_margin_bottom': '25px', 'header_shadow_offset_left': '0', 'tabs_background_color': 'transparent', 'content_background_color': '#ffffff', 'body_background_gradient_cap': 'none', 'main_padding_top': '30px', 'widget_alternate_text_color': '#828282', 'image_text_color': '#000000', 'link_visited_color': '#726086', 'tabs_margin_side': '0', 'image_border_large_size': '5px', 'content_shadow_spread_webkit': '0', 'mobile_button_color': '#ffffff', 'tabs_selected_text_color': '#000000', 'main_border_width': '1px', 'content_background_color_selector': '.main-outer, .footer-outer', 'link_color': '#000000', 'post_footer_border_color': '#e5e5e5', 'date_header_font': 'normal bold 11px Arial, Tahoma, Helvetica, FreeSans, sans-serif', 'tabs_background_gradient': 'none', 'content_padding_horizontal': '0', 'header_font': 'normal normal 70px Arial, Tahoma, Helvetica, FreeSans, sans-serif', 'startSide': 'left', 'tabs_font': 'normal normal 20px Arial, Tahoma, Helvetica, FreeSans, sans-serif', 'widget_title_text_color': '#000000', 'header_border_size': '0', 'tabs_selected_background_color': 'transparent', 'date_header_margin': 'inherit', 'footer_bevel': '0', 'image_border_small_size': '2px', 'content_shadow_spread_ie': '0', 'mobile_background_overlay': 'transparent none repeat scroll top left', 'endSide': 'right', 'date_header_padding': 'inherit', 'image_background_color': '#ffffff', 'body_rule_color': '#d3d3d3', 'header_bottom_border_size': '0', 'page_width_selector': '.content-outer', 'body_background_color': '#c1dbe0', 'header_text_color': '#000000', 'main_padding': '15px', 'date_header_background_color': 'transparent', 'tabs_border_width': '0', 'body_font': 'normal normal 12px Arial, Tahoma, Helvetica, FreeSans, sans-serif', 'link_hover_color': '#4840aa', 'header_background_color': 'transparent', 'keycolor': '#134f5c', 'main_padding_bottom': '30px', 'post_footer_text_color': '#000000', 'tabs_margin_top': '0', 'header_padding': '30px'}, 'override': ''}}, {'name': 'template', 'data': {'name': 'Simple', 'localizedName': 'Simple', 'variant': 'wide', 'isResponsive': false, 'isAlternateRendering': false, 'isCustom': false}}, {'name': 'view', 'data': {'classic': {'name': 'classic', 'url': '?view\x3dclassic'}, 'flipcard': {'name': 'flipcard', 'url': '?view\x3dflipcard'}, 'magazine': {'name': 'magazine', 'url': '?view\x3dmagazine'}, 'mosaic': {'name': 'mosaic', 'url': '?view\x3dmosaic'}, 'sidebar': {'name': 'sidebar', 'url': '?view\x3dsidebar'}, 'snapshot': {'name': 'snapshot', 'url': '?view\x3dsnapshot'}, 'timeslide': {'name': 'timeslide', 'url': '?view\x3dtimeslide'}, 'title': 'How To Read Multiple RC Channels', 'description': ' This post builds on previous posts to show a technique for reading multiple radio control receiver channels using an Arduino.   Update 27/0...'}}]);
_WidgetManager._RegisterWidget('_NavbarView', new _WidgetInfo('Navbar1', 'navbar', null, document.getElementById('Navbar1'), {}, 'displayModeFull'));
_WidgetManager._RegisterWidget('_HeaderView', new _WidgetInfo('Header1', 'header', null, document.getElementById('Header1'), {}, 'displayModeFull'));
_WidgetManager._RegisterWidget('_PageListView', new _WidgetInfo('PageList1', 'crosscol', null, document.getElementById('PageList1'), {'title': 'Pages', 'links': [{'href': 'http://rcarduino.blogspot.in/', 'title': 'Home', 'isCurrentPage': false}, {'href': 'http://rcarduino.blogspot.in/p/what-is-arduino.html', 'title': 'What is an Arduino ?', 'isCurrentPage': false, 'id': '2663178006338423143'}, {'href': 'http://rcarduino.blogspot.in/p/project-index.html', 'title': 'Project Index', 'isCurrentPage': false, 'id': '5284357638189597336'}, {'href': 'http://rcarduino.blogspot.in/p/cars.html', 'title': 'Cars', 'isCurrentPage': false, 'id': '3430002530778988879'}, {'href': 'http://rcarduino.blogspot.in/p/great-projects.html', 'title': 'Great Projects', 'isCurrentPage': false, 'id': '2598484862545653342'}], 'mobile': false}, 'displayModeFull'));
_WidgetManager._RegisterWidget('_BlogView', new _WidgetInfo('Blog1', 'main', null, document.getElementById('Blog1'), {'cmtInteractionsEnabled': false, 'lightboxEnabled': true, 'lightboxModuleUrl': 'https://www.blogger.com/static/v1/jsbin/253523049-lbx.js', 'lightboxCssUrl': 'https://www.blogger.com/static/v1/v-css/368954415-lightbox_bundle.css'}, 'displayModeFull'));
_WidgetManager._RegisterWidget('_FollowersView', new _WidgetInfo('Followers1', 'sidebar-right-1', null, document.getElementById('Followers1'), {}, 'displayModeFull'));
_WidgetManager._RegisterWidget('_CustomSearchView', new _WidgetInfo('CustomSearch1', 'sidebar-right-1', null, document.getElementById('CustomSearch1'), {'title': 'Search This Blog', 'includeBlog': true, 'includePostLinks': true, 'includeWeb': false, 'linkLists': [], 'blogUrl': 'http://rcarduino.blogspot.com/', 'loadingMsg': 'Loading...', 'thisBlogMsg': 'This Blog', 'linkedFromHereMsg': 'Linked From Here', 'theWebMsg': 'The Web', 'backgroundColor': '#ffffff', 'textColor': '#000000', 'dateColor': '#000000', 'linkColor': '#000000', 'urlColor': '#000000', 'visitedLinkColor': '#726086', 'borderColor': '#d3d3d3', 'activeBorderColor': '#d3d3d3', 'cse_ua': true}, 'displayModeFull'));
_WidgetManager._RegisterWidget('_FollowByEmailView', new _WidgetInfo('FollowByEmail1', 'sidebar-right-1', null, document.getElementById('FollowByEmail1'), {}, 'displayModeFull'));
_WidgetManager._RegisterWidget('_PopularPostsView', new _WidgetInfo('PopularPosts1', 'sidebar-right-1', null, document.getElementById('PopularPosts1'), {}, 'displayModeFull'));
_WidgetManager._RegisterWidget('_BlogArchiveView', new _WidgetInfo('BlogArchive1', 'sidebar-right-1', null, document.getElementById('BlogArchive1'), {'languageDirection': 'ltr', 'loadingMessage': 'Loading...'}, 'displayModeFull'));
_WidgetManager._RegisterWidget('_AttributionView', new _WidgetInfo('Attribution1', 'footer-3', null, document.getElementById('Attribution1'), {'attribution': 'Simple template. Template images by \x3ca href\x3d\x27http://www.istockphoto.com/googleimages.php?id\x3d6201476\x26platform\x3dblogger\x26langregion\x3den\x27 target\x3d\x27_blank\x27\x3esbayram\x3c/a\x3e. Powered by \x3ca href\x3d\x27https://www.blogger.com\x27 target\x3d\x27_blank\x27\x3eBlogger\x3c/a\x3e.'}, 'displayModeFull'));
</script>

<iframe name="oauth2relay331299384" id="oauth2relay331299384" src="./read receiver_files/postmessageRelay.html" tabindex="-1" style="width: 1px; height: 1px; position: absolute; top: -100px;"></iframe></body></html>